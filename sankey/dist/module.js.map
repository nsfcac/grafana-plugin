{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"d3\"","webpack:///external \"@grafana/ui\"","webpack:///external \"lodash\"","webpack:///external \"@emotion/css\"","webpack:///external \"emotion\"","webpack:///../node_modules/webcola/dist/src/layout.js","webpack:///../node_modules/webcola/dist/src/rectangle.js","webpack:///../node_modules/webcola/dist/src/shortestpaths.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///external \"@grafana/data\"","webpack:///../node_modules/webcola/dist/src/linklengths.js","webpack:///../node_modules/webcola/dist/src/descent.js","webpack:///../node_modules/webcola/dist/src/vpsc.js","webpack:///../node_modules/webcola/dist/src/powergraph.js","webpack:///../node_modules/webcola/dist/src/rbtree.js","webpack:///../node_modules/webcola/dist/src/pqueue.js","webpack:///../node_modules/webcola/dist/src/geom.js","webpack:///../node_modules/webcola/dist/src/handledisconnected.js","webpack:///../node_modules/webcola/dist/src/gridrouter.js","webpack:///../node_modules/webcola/dist/index.js","webpack:///../../node_modules/underscore/underscore.js","webpack:///../../src/scripts/modules/normalizer.js","webpack:///../../src/scripts/modules/binaryBinner.js","webpack:///../../node_modules/simple-statistics/dist/simple-statistics.mjs","webpack:///../../src/scripts/binarybin.js","webpack:///../../src/scripts/modules/kruskal-mst.js","webpack:///../../src/scripts/modules/leaderbinner.js","webpack:///../../src/scripts/modules/squarebinner.js","webpack:///../../src/scripts/binnerN.js","webpack:///./dirjs/kmean.js","webpack:///external \"app/core/app_events\"","webpack:///../node_modules/webcola/dist/src/adaptor.js","webpack:///../node_modules/webcola/dist/src/d3adaptor.js","webpack:///../node_modules/webcola/dist/src/d3v3adaptor.js","webpack:///../node_modules/webcola/dist/src/d3v4adaptor.js","webpack:///../node_modules/webcola/dist/src/layout3d.js","webpack:///../node_modules/webcola/dist/src/batch.js","webpack:///../../src/scripts/modules/leaderBinner.js","webpack:///../../src/scripts/modules/outlying.js","webpack:///../../src/scripts/scagnosticsnd.js","webpack:///../node_modules/d3-path/src/path.js","webpack:///./Bump.tsx","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/sum.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/max.js","webpack:///../node_modules/d3-sankey/node_modules/d3-array/src/min.js","webpack:///../node_modules/d3-sankey/src/align.js","webpack:///../node_modules/d3-sankey/src/constant.js","webpack:///../node_modules/d3-sankey/src/sankey.js","webpack:///../node_modules/d3-shape/src/array.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./NodeElement.tsx","webpack:///./Sankey.tsx","webpack:///./PieChart.tsx","webpack:///./drawer.tsx","webpack:///./Ulti.ts","webpack:///../node_modules/d3-scale-chromatic/src/colors.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack:///../node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack:///../node_modules/d3-color/src/define.js","webpack:///../node_modules/d3-color/src/color.js","webpack:///../node_modules/d3-interpolate/src/basis.js","webpack:///../node_modules/d3-interpolate/src/constant.js","webpack:///../node_modules/d3-interpolate/src/color.js","webpack:///../node_modules/d3-interpolate/src/rgb.js","webpack:///../node_modules/d3-scale-chromatic/src/ramp.js","webpack:///../node_modules/d3-interpolate/src/basisClosed.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack:///../node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack:///../node_modules/d3-color/src/math.js","webpack:///../node_modules/d3-color/src/cubehelix.js","webpack:///../node_modules/d3-interpolate/src/cubehelix.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack:///../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack:///./legend.tsx","webpack:///./lineChart.tsx","webpack:///./cluster/cluster.ts","webpack:///./cluster/clusterControl.tsx","webpack:///./cluster/radar.tsx","webpack:///./cluster/outlier.ts","webpack:///./MainViz.tsx","webpack:///./module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","EventType","powergraph","linklengths_1","descent_1","rectangle_1","shortestpaths_1","geom_1","handledisconnected_1","isGroup","g","leaves","groups","Layout","_this","this","_canvasSize","_linkDistance","_defaultNodeSize","_linkLengthCalculator","_linkType","_avoidOverlaps","_handleDisconnected","_running","_nodes","_groups","_rootGroup","_links","_constraints","_distanceMatrix","_descent","_directedLinkConstraints","_threshold","_visibilityGraph","_groupCompactness","event","linkAccessor","getSourceIndex","getTargetIndex","setLength","setLinkLength","getType","on","e","listener","trigger","type","kick","tick","_alpha","end","alpha","stress","_lastStress","length","locks","clear","fixed","px","py","x","y","add","s1","rungeKutta","updateNodePositions","nodes","v","forEach","Math","max","source","target","Array","padding","parent","gi","filter","powerGraphGroups","f","getGroups","avoidOverlaps","arguments","handleDisconnected","flowLayout","axis","minSeparation","getMinSeparation","links","constraints","distanceMatrix","size","defaultNodeSize","groupCompactness","linkDistance","linkType","convergenceThreshold","start","getLinkLength","link","getLinkType","symmetricDiffLinkLengths","idealLength","w","jaccardLinkLengths","initialUnconstrainedIterations","initialUserConstraintIterations","initialAllConstraintsIterations","gridSnapIterations","keepRunning","centerGraph","distances","N","h","G","ao","index","Calculator","DistanceMatrix","Descent","createSquareMatrix","u","weight","D","j","strength","idealDistance","addAttraction","curConstraints","concat","generateDirectedEdgeConstraints","threshold","initialLayout","project","Projection","projectFunctions","run","separateOverlappingComponents","snapStrength","snapGridSize","width","numGridSnapNodes","scaleSnapByMaxH","G0","resume","iterations","edges","map","vs","push","gg","height","x_1","y_1","graphs","separateGraphs","applyPacking","bounds","setXCentre","setYCentre","stop","prepareEdgeRouting","nodeMargin","TangentVisibilityGraph","inflate","vertices","routeEdge","edge","ah","draw","lineData","vg2","P","V","E","port1","port2","addPoint","addEdgeIfVisible","shortestPath","id","PathFromNodeToNode","route","makeEdgeBetween","innerBounds","sourceIntersection","arrowStart","q","rayIntersection","makeEdgeTo","linkId","dragStart","storeOffset","dragOrigin","stopNode","origin","_dragGroupOffsetX","_dragGroupOffsetY","cx","cy","drag","position","dragEnd","mouseOver","mouseOut","extendStatics","__extends","b","setPrototypeOf","__proto__","__","constructor","vpsc_1","rbtree_1","computeGroupBounds","reduce","union","Rectangle","empty","X","Y","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","overlapX","ux","vx","overlapY","uy","vy","dx","dy","min","lineIntersections","x1","y1","x2","y2","sides","intersections","lineIntersection","ints","x3","y3","x4","y4","dx12","dx34","dy12","dy34","denominator","dx31","dy31","a","pad","si","ti","sqrt","al","targetIntersection","Node","pos","prev","makeRBTree","next","Event","isOpen","compareEvents","RBTree","xRect","getCentre","getOpen","getClose","getSize","makeRect","open","close","center","findNeighbours","scanline","forward","reverse","it","findIter","uovervX","insert","yRect","generateGroupConstraints","root","minSep","isContained","gn","ln","childConstraints","ccs","rs","minVar","desiredPosition","maxVar","variable","cs","generateConstraints","cOut","cIn","left","right","gapAdjustment","gap","vars","rect","events","sort","remove","makeConstraint","sep","Constraint","visitNeighbours","mkcon","iterator","generateXConstraints","generateYConstraints","generateXGroupConstraints","generateYGroupConstraints","removeOverlaps","Variable","solver","Solver","solve","IndexedVariable","_super","rootGroup","variables","createConstraints","w2","h2","stiffness","createSeparation","equality","makeFeasible","dim","offsets","node","nextPos","createAlignment","xConstraints","yConstraints","slice","offset","isSep","setupVariablesAndBounds","x0","y0","desired","getDesired","fixedWeight","ix","iy","xProject","xmin","xmax","p2","yProject","ymin","ymax","updateNodeBounds","updateGroupBounds","starting","setStartingPositions","setDesiredPositions","pqueue_1","Neighbour","distance","neighbours","QueueEntry","es","getLength","dijkstraNeighbours","DistancesFromNode","PathFromNodeToNodeWithPrevCost","prevCost","PriorityQueue","qu","visitedFrom","pop","neighbour","viduid","cc","path","dest","MAX_VALUE","reduceKey","Function","window","__WEBPACK_EXTERNAL_MODULE__11__","unionCount","keys","intersectionCount","computeLinkLengths","la","addNeighbours","getNeighbours","stronglyConnectedComponents","numVertices","stack","components","strongConnect","lowlink","onStack","_i","_a","out","component","edges_1","v_1","nodes_1","ui","vi","Locks","isEmpty","apply","random","PseudoRandom","k","H","Hd","ia","ib","xtmp","minD","M","offsetDir","getNextBetween","computeDerivatives","d2","Huu","maxH","maxDisplaces","sd2","rd","isFinite","D2","gs","l3","hs","numNodes","xiu","abs","dotProd","rightMultiply","computeStepSize","numerator","reduceStress","takeDescentStep","computeStress","copy","stepAndProject","stepSize","mApply","matrixApply","computeNextPosition","beta","converged","mid","disp","nMinus1","rl","zeroDistance","seed","range","getNext","PositionStats","scale","AB","AD","A2","addVariable","ai","bi","wi","getPosn","active","unsatisfiable","slack","dfdv","block","ps","posn","ff","Block","updateWeightedPosition","compute_lm","postAction","_dfdv","lm","populateSplitBlock","traverse","visit","acc","findMinLM","findMinLMBetween","lv","rv","findPath","to","endFound","isActiveDirectedPathBetween","split","createSplitBlock","startVar","splitBetween","vl","vr","bs","constraint","lb","rb","mergeAcross","dist","cost","sum","Blocks","list","blockInd","last","swapBlock","merge","updateBlockPositions","inactive","LAGRANGIAN_TOLERANCE","nb","mostViolated","minSlack","deletePoint","ZERO_UPPERBOUND","satisfy","lastcost","removeOverlapInOneDimension","spans","lowerBound","upperBound","desiredCenter","leftMost","rightMost","leftMostSize","rightMostSize","vLower","vUpper","newCenters","PowerEdge","Configuration","roots","initModulesFromGroup","ModuleSet","Module","R","outgoing","incoming","group","moduleSet","child","definition","prop","LinkSets","inInt","intersection","outInt","children","update","forAll","ms","linktype","nls","count","rootMerges","merges","ctr","i_","nEdges","greedyMerge","getGroupHierarchy","retargetedEdges","toGroups","isLeaf","gid","isIsland","isPredefined","allEdges","getEdges","edgetype","table","other","result","contains","sets","forAllModules","lt","powerEdges","TreeBase","data","res","_root","iter","_comparator","_cursor","_ancestors","get_child","find","_bound","cmp","Iterator","each","cb","reach","cur","tree","_tree","_minNode","save","_maxNode","red","dir","set_child","val","comparator","ret","head","undefined","gp","ggp","is_red","dir2","single_rotate","double_rotate","found","sr","sibling","gpc","PairingHeap","elem","subheaps","toString","selector","str","needComma","subheap","isHeap","lessThan","every","obj","heap2","removeMin","mergePairs","firstPair","remaining","decreaseKey","newValue","setHeapNode","newHeap","pairingNode","top","args","arg","heapNode","newKey","Point","LineSegment","PolyPoint","isLeft","P0","P1","P2","above","vj","below","Rtangent_PointPolyC","dnC","floor","Ltangent_PointPolyC","tangent_PolyPolyC","W","t1","t2","cmp1","cmp2","ix1","ix2","done","RLtangent_PolyPolyC","ConvexHull","S","minmax","maxmin","maxmax","bot","clockwiseRadialSweep","atan2","LRtangent_PolyPolyC","LLtangent_PolyPolyC","RRtangent_PolyPolyC","BiTangent","BiTangents","TVGPoint","VisibilityVertex","polyid","polyvertid","vv","VisibilityEdge","g0","pj","Pi","Pj","tangents","i1","i2","intersectsPolys","Vclosed","poly","rtan","ltan","intersects","int","bt","v1","v2","v3","w1","w3","v1v2w2","v2w1w2","v2w2w3","w1w2v2","w2v1v2","w2v2v3","ll","rr","lr","isAnyPInQ","isPointInsidePoly","polysOverlap","packingOptions","node_size","desired_ratio","svg_width","svg_height","real_width","real_height","min_width","global_bottom","line","step","max_width","put_rect","space_left","bottom","graph","min_x","min_y","max_x","max_y","array","calculate_bb","curr_best_f","curr_best","get_entire_width","iterationCounter","f_x1","f_x2","flag","df","corner","put_nodes_to_right_positions","marks","ways","clusters","n1","n2","explore_node","is_new","adjacent","NodeWrapper","leaf","Vert","LongestCommonSubsequence","mf","findMatch","tr","mr","reversed","match","getSequence","GridRouter","originalnodes","accessor","groupPadding","getBounds","getChildren","cols","getGridLines","rows","ports","backToFront","getDepth","colMids","midPoints","rowMids","rowx","rowX","coly","colY","hlines","vlines","lines","verts","li","intersect","isHoriz","delta","avg","columns","ls","overlapping","toUpperCase","col","splice","indexOf","depth","mids","findLineage","lineage","findAncestorPathBetween","aa","ba","commonAncestor","lineages","siblingObstacles","lineageLookup","obstacles","getSegmentSets","routes","vsegments","ei","edgeid","sdx","vsegmentsets","segmentset","segments","nudgeSegs","leftOf","s2","e1","e2","lind","rind","nudgeSegments","ss","openCount","routeEdges","nudgeGap","routePaths","order","orderEdges","makeSegments","unreverseEdges","segment","angleBetween2Lines","line1","line2","angle1","angle2","diff","PI","getOrder","pairs","edgeOrder","lcs","copyPoint","isStraight","obstacleLookup","passableEdges","pathPoints","getRoutePath","cornerradius","arrowwidth","arrowheight","routepath","arrowpath","angle","arrowtip","arrowcorner1","arrowcorner2","__export","self","global","previousUnderscore","_","ArrayProto","ObjProto","SymbolProto","nativeIsArray","isArray","nativeKeys","nativeCreate","Ctor","_wrapped","nodeType","VERSION","builtinIteratee","optimizeCb","func","context","argCount","collection","accumulator","iteratee","identity","isFunction","isObject","matcher","Infinity","restArguments","startIndex","rest","baseCreate","shallowProperty","has","deepGet","MAX_ARRAY_INDEX","pow","isArrayLike","collect","results","currentKey","createReduce","reducer","memo","initial","foldl","inject","reduceRight","foldr","detect","predicate","findIndex","findKey","select","reject","negate","all","some","any","includes","include","item","fromIndex","guard","values","invoke","contextPath","method","pluck","where","attrs","findWhere","computed","lastComputed","shuffle","sample","clone","rand","temp","sortBy","criteria","behavior","partition","groupBy","indexBy","countBy","reStrSymbol","toArray","isString","pass","first","take","tail","drop","compact","Boolean","flatten","input","shallow","strict","output","idx","isArguments","len","without","otherArrays","difference","uniq","unique","isSorted","isBoolean","seen","arrays","argsLength","unzip","zip","createPredicateIndexFinder","findLastIndex","sortedIndex","low","high","createIndexFinder","predicateFind","isNaN","lastIndexOf","ceil","chunk","executeBound","sourceFunc","boundFunc","callingContext","TypeError","bound","callArgs","partial","boundArgs","placeholder","bindAll","Error","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","now","throttled","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","wrap","wrapper","compose","after","times","before","once","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","proto","allKeys","mapObject","invert","functions","methods","names","createAssigner","keysFunc","defaults","extend","extendOwn","assign","eq","deepEq","keyInObj","pick","omit","String","props","tap","interceptor","isMatch","aStack","bStack","className","valueOf","areArrays","aCtor","bCtor","isEqual","isElement","nodelist","document","childNodes","Int8Array","isSymbol","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","noop","propertyOf","matches","accum","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","unescape","fallback","idCounter","uniqueId","prefix","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","template","text","settings","oldSettings","render","argument","chain","instance","_chain","chainResult","mixin","toJSON","Normalizer","points","nds","maxD","rangeD","normalizedD","normalizedPoints","point","scaleBackPoint","BinaryBinner","dimension","theLeaders","binarypoint","round","binarykey","newLeader","log","binarybin","inputPoints","callback","outputValue","dims","isNormalized","normalizer","sites","bins","binner","startBinGridSize","isBinned","leaders","LeaderBinner","radius","distanceMethod","maxNumberOfBins","distanceL1","minDistance","closestLeader","distanceFunc","theLeader","SquareBinner","dval","val0","val1","evenbin","binsById","pval","pi","pvali","currentValue","bin","binnerN","binType","minNumOfBins","maxNumOfBins","binSize","binRadius","updateRadius","coefficient","reduce_coefficient","reduce_offset","increase_coefficient","increase_offset","loopcount","isEnoughPoints","gridsize","uniqueKeys","commonjsGlobal","underscore","fn","createCommonjsModule","kmeanCluster","opt","getterSetter","inputdata","arrayOfArrays","boolA","boolB","calculate","pointsAndCentroids","kmeans","centroids","oldCentroid","centroid","label","location","calculatePoint","siginput","Arr","maxAI","minAI","rangeAI","normalizedArr","xs","config","initCentroid","distancemethodName","distancemethod","oneVector","anotherVector","vector","Centroid","mp","updateLabel","mc","updateLocation","distancesSquared","newl","valid","initialLocation","pointsWithThisCentroid","zeroVector","sumVectors","averageLocation","initialValue","validator","nextFunc","thingToGetSet","isValid","__WEBPACK_EXTERNAL_MODULE__26__","layout_1","LayoutAdaptor","dragstart","dragend","eventType","adaptor","d3v3","d3v4","d3adaptor","d3Context","version","isD3V3","D3StyleLayoutAdaptor","d3","dispatch","d3layout","d3event","timer","subject","Link3D","actualLength","Node3D","z","Layout3D","idealLinkLength","useJaccardLinkLengths","linkLength","LinkAccessor","descent","gridrouter_1","gridify","pgLayout","margin","groupMargin","cola","routerNode","gridRouterNodes","powerGraph","powerGraphGridLayout","grouppadding","sourceInd","site","MAX_SAFE_INTEGER","sumsquared","getAllV2OrGreaterFromTree","nestedByNodes","sourceKey","targetKey","createGraph","tetrahedra","weights","makeNode","p1","id1","id2","totalSumSquared","equalPoints","pointExists","mst","selectedEdges","forest","DisjointSet","vertex","makeSet","index_","id_","parent_","rank_","exp","I","C","created","current","xRoot","yRoot","rank","uniqueIndices","Outlying","outlyingCoefficient","JSON","parse","stringify","findUpperBound","markLongLinks","normalNodes","findNormalNodes","findOutlyingPoints","newNodes","oldNodes","ops","nn","buildNoOutlyingTree","outlyingPoints","noOutlyingTree","isOutlying","outlyingPointsStr","v2OrGreaterStr","normalLinks","isLong","allNodesWithLinks","allLengths","q1","quantile","q3","markOutlyingLinks","totalLengths","totalOutlyingLengths","outlyingLinks","scagnosticsnd","outlyingUpperBound","incrementA","incrementB","decrementA","decrementB","minBins","maxBins","tetrahedraCoordinates","distanceWeights","outlying","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","tan","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","_x","_context","_line","_point","NaN","valueof","justify","sourceLinks","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultId","defaultNodes","defaultLinks","nodeById","computeLinkBreadths","targetLinks","linkSort","align","sankey","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","entries","Map","fixedValue","Set","kx","layer","column","computeNodeLayers","ky","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","targetTop","reorderNodeLinks","resolveCollisions","sourceTop","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","nodeId","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","freezing","setfreezing","mouseLeave","mouseMove","getOwnPropertySymbols","onClick","onHandleClick","onMouseMove","onMouseOver","onMouseLeave","Component","defined","curve","svgRef","createRef","isAnimate","svg","color","_color","force","zoomFunc","attr","transform","getColorScale","_getColorScale_byName","state","linksBySource","isForceDone","scalezoom","widthView","heightView","translate","domain","setState","prevProps","prevState","snapshot","renderSankey","opts","timespan","freezeHandle","nodeByKey","indexByKey","nodeLabel","nodeList","_k","ki","getUserName","showShareUser","time","_key","relatedLinks","element","isShareUser","parentNode","comp","set","maxIndex","maxval","drawData","maxLimit","maxPerUnit","mapOfSankey","linkByKey","d_a","d_b","sourceName","targetName","total","arr","byComp","byComp_t","new_val","new_val_t","jobs","sources","display","targets","_target","_source","_id","hideStable","shared","isSameNode","showOverLimitUser","keepNodes","hide","removeNodes","removeList","nodeObj","nodesObj","mapIndex","countmap","forceNode","widthG","heightG","yy","selectAll","dr","nodep","_forcey","linearScale","__nodes","__links","_value","pre","preL","drawP","horizontalSource3","horizontalTarget3","_class","str2class","highlight","el","highlightJob","theme","isDark","metrics","com","_val","cluster","colorBy","getCluster","colorCluster","getValue","sankeyComputeSelected","endT","fill","dot","gradientUnits","stopColor","stroke","strokeWidth","linkPath","timestep","lineaScale","styles","getStyles","colorByName","_getColorScale_byCluster","_getColorScale_byValue","style","viewBox","ref","opacity","textAnchor","paintOrder","fontWeight","onRelease","renderLink","pointerEvents","onMouseOverJob","onReleaseJob","thick","offest","_byComp_s","_compS","node_list","node_list_obj","compS","oldpos","isEnd","finish_Index","_thick","compT","_Data","colorS","user_name","renderFargment","renderjob","getMetric","start_time","toLocaleString","finish_time","ticks","date","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","vectorEffect","colors","primary","strokeDasharray","backgroundColor","dataViz","realTotal","refTotal","virtualTotal","seperate","totalCore","refValue","totalCore_share","totalCore_notShare","_sum","inside","maxValue","endAngle","startAngle","insideData","padAngle","handleData","updateOverlay","overlay","ratio","onseperate","outerRadius","innerRadius","outerArc","sumlabel","sumValue","highlightl","colorShare","centerX","onHighlight","content","centerY","getPosText","midAngle","getPointLine","fontSize","onOpen","wapper","title","innerHolder","drawButton","wapper_color","bg1","tableCell","colorScaleList","rainbow","soil","customschemeCategory","schemeCategory20","customFunc","num","arrColor","colorLength","arrThresholds","colorTemperature","d3colorChosefunc","scheme","hex","specifier","factory","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m1","m2","basis","v0","t3","define","channels","displayable","formatHsl","brighter","darker","linear","gamma","nogamma","exponential","rgbGamma","rgbSpline","spline","rgbBasis","deg2rad","rad2deg","A","B","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","hue","cubehelixGamma","cubehelix","cosh","sinh","cubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","invertType","stringCh","direction","colorType","ramp","canvas","createContext","getContext","fillStyle","fillRect","createElement","preserveAspectRatio","href","toDataURL","zoom","scaleExtent","zoomed","LineFunc","zoomTransform","rescaleX","rescaleY","xRange","yRange","mark","xScale","yScale","_width","shareColor","strokeOpacity","distanceL2","dsum","calculateCluster","dimensions","binopt","calbackMiddle","calbackEnd","startTime","performance","normMethod","_data","outlier","dataSpider3","adjust","dd","clusterMethod","estimateSize","process","iteration","normalizedFun","enable","minval","mean","nameob","indexSamp","scaledval","distancefunc","scaleBackPoints","temp2","labels","mse","__metrics","normalize","clusterDescription","clusterarr","haveDescription","zero_el","description","recomendName","colorCa","colorcs","colorarray","orderarray","recomendColor","totalMSE","endTime","clusterInfo","clusterCalTime","oardinal","axis_arr","cluster_info","ci","leadername","clusterIndex","tabs","selectedIndex","lb_min","lb_max","k_g","k_i","tab","css","onChangeTab","onChange","marginRight","currentTarget","fullWidth","onSubmit","rScale","innerKey","outterKey","radarLine","tension","radarMeanLine","radialAreaGenerator","fillOpacity","rings","area","meanColor","showAxis","ringsv","drawFunc","stdDeviation","in","getColor","findNewPoint","datas","dataByTime","selectedService","timeStamp","computers","emptyMap","jobArr","minMaxData","tsnedata","userArr","users","_userarrdata","drawThreshold","sankeyData","LineData","pieData","pieDataHighlight","pieChartSum","usage","_usage","displayOpt","clusterOpt","colorByVal","changeLineData","emit","alertSuccess","userEncoded","nodeLists","dimensionObject","timeObject","coreLimit","getDim","rangeMinMax","rangePredict","tickFormat","job_serie","job_core_serie","series","serie","fields","refId","nodeids","dimTarget","handleDataWithname","extractDimData","handleDataWithnames","job_ref","job_lists","cpus","compute","computes","_time","job_idstring","job_id","cpustring","cpu","ji","start_Index","handleNodeJobCore","handleWorkload","job_ids","job_names","node_lists","user_names","start_times","end_times","node_count","userEncode","userCodecount","job_name","end_time","nodestring","cpus_","cores","_node_list","_node_list_obj","cpu_cores","summary","handleJobData","_t","handleSmalldata","handleCUJ","handleDataComputeByUser","jobCompTimeline","noJobMap","handleDataComputeByJob","jobTimeline","jobarrdata","userarrdata","minMaxDataCompJob","minMaxDataUser","total_nodes","getpieSum","changeSankeyData","flatv","outlyingBins","missingData","scagOptions","pointObject","ob","compObject","nodeName","timeStep","choice","handleDataComputeByUser_core","handleDataComputeByUser_compute","lists","listsJob","jid","isSeperate","_notShare","_share","compData","user","_jobs","_users","_jobarrdata","isJobarray","job","jIDs","tsne_comp","job_array_id","username","rollup","valueMin","valueMax","vals","jonj","userData","timestamp","compute_user","jobName","getUsers_core","getUsers_compute","jobLink","radarData","_user","pieOverlay","LineTime","radarDataTip","user_job","core","share","notShare","groupByUser","groupUser","comps","zoomH","timeLimit","Consumer","onMouseOverSankey","onMouseLeaveSankey","changePieInfo","onColorModeChange","textAlign","onseparate","background","strokeWith","borderRadius","border","alignItems","borderTop","marginTop","marginBottom","onComputeSelected","limit","shortArray","defaultProps","setPanelOptions","builder","addBooleanSwitch","defaultValue","addNumberInput"],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar powergraph = require(\"./powergraph\");\r\nvar linklengths_1 = require(\"./linklengths\");\r\nvar descent_1 = require(\"./descent\");\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar shortestpaths_1 = require(\"./shortestpaths\");\r\nvar geom_1 = require(\"./geom\");\r\nvar handledisconnected_1 = require(\"./handledisconnected\");\r\nvar EventType;\r\n(function (EventType) {\r\n    EventType[EventType[\"start\"] = 0] = \"start\";\r\n    EventType[EventType[\"tick\"] = 1] = \"tick\";\r\n    EventType[EventType[\"end\"] = 2] = \"end\";\r\n})(EventType = exports.EventType || (exports.EventType = {}));\r\n;\r\nfunction isGroup(g) {\r\n    return typeof g.leaves !== 'undefined' || typeof g.groups !== 'undefined';\r\n}\r\nvar Layout = (function () {\r\n    function Layout() {\r\n        var _this = this;\r\n        this._canvasSize = [1, 1];\r\n        this._linkDistance = 20;\r\n        this._defaultNodeSize = 10;\r\n        this._linkLengthCalculator = null;\r\n        this._linkType = null;\r\n        this._avoidOverlaps = false;\r\n        this._handleDisconnected = true;\r\n        this._running = false;\r\n        this._nodes = [];\r\n        this._groups = [];\r\n        this._rootGroup = null;\r\n        this._links = [];\r\n        this._constraints = [];\r\n        this._distanceMatrix = null;\r\n        this._descent = null;\r\n        this._directedLinkConstraints = null;\r\n        this._threshold = 0.01;\r\n        this._visibilityGraph = null;\r\n        this._groupCompactness = 1e-6;\r\n        this.event = null;\r\n        this.linkAccessor = {\r\n            getSourceIndex: Layout.getSourceIndex,\r\n            getTargetIndex: Layout.getTargetIndex,\r\n            setLength: Layout.setLinkLength,\r\n            getType: function (l) { return typeof _this._linkType === \"function\" ? _this._linkType(l) : 0; }\r\n        };\r\n    }\r\n    Layout.prototype.on = function (e, listener) {\r\n        if (!this.event)\r\n            this.event = {};\r\n        if (typeof e === 'string') {\r\n            this.event[EventType[e]] = listener;\r\n        }\r\n        else {\r\n            this.event[e] = listener;\r\n        }\r\n        return this;\r\n    };\r\n    Layout.prototype.trigger = function (e) {\r\n        if (this.event && typeof this.event[e.type] !== 'undefined') {\r\n            this.event[e.type](e);\r\n        }\r\n    };\r\n    Layout.prototype.kick = function () {\r\n        while (!this.tick())\r\n            ;\r\n    };\r\n    Layout.prototype.tick = function () {\r\n        if (this._alpha < this._threshold) {\r\n            this._running = false;\r\n            this.trigger({ type: EventType.end, alpha: this._alpha = 0, stress: this._lastStress });\r\n            return true;\r\n        }\r\n        var n = this._nodes.length, m = this._links.length;\r\n        var o, i;\r\n        this._descent.locks.clear();\r\n        for (i = 0; i < n; ++i) {\r\n            o = this._nodes[i];\r\n            if (o.fixed) {\r\n                if (typeof o.px === 'undefined' || typeof o.py === 'undefined') {\r\n                    o.px = o.x;\r\n                    o.py = o.y;\r\n                }\r\n                var p = [o.px, o.py];\r\n                this._descent.locks.add(i, p);\r\n            }\r\n        }\r\n        var s1 = this._descent.rungeKutta();\r\n        if (s1 === 0) {\r\n            this._alpha = 0;\r\n        }\r\n        else if (typeof this._lastStress !== 'undefined') {\r\n            this._alpha = s1;\r\n        }\r\n        this._lastStress = s1;\r\n        this.updateNodePositions();\r\n        this.trigger({ type: EventType.tick, alpha: this._alpha, stress: this._lastStress });\r\n        return false;\r\n    };\r\n    Layout.prototype.updateNodePositions = function () {\r\n        var x = this._descent.x[0], y = this._descent.x[1];\r\n        var o, i = this._nodes.length;\r\n        while (i--) {\r\n            o = this._nodes[i];\r\n            o.x = x[i];\r\n            o.y = y[i];\r\n        }\r\n    };\r\n    Layout.prototype.nodes = function (v) {\r\n        if (!v) {\r\n            if (this._nodes.length === 0 && this._links.length > 0) {\r\n                var n = 0;\r\n                this._links.forEach(function (l) {\r\n                    n = Math.max(n, l.source, l.target);\r\n                });\r\n                this._nodes = new Array(++n);\r\n                for (var i = 0; i < n; ++i) {\r\n                    this._nodes[i] = {};\r\n                }\r\n            }\r\n            return this._nodes;\r\n        }\r\n        this._nodes = v;\r\n        return this;\r\n    };\r\n    Layout.prototype.groups = function (x) {\r\n        var _this = this;\r\n        if (!x)\r\n            return this._groups;\r\n        this._groups = x;\r\n        this._rootGroup = {};\r\n        this._groups.forEach(function (g) {\r\n            if (typeof g.padding === \"undefined\")\r\n                g.padding = 1;\r\n            if (typeof g.leaves !== \"undefined\") {\r\n                g.leaves.forEach(function (v, i) {\r\n                    if (typeof v === 'number')\r\n                        (g.leaves[i] = _this._nodes[v]).parent = g;\r\n                });\r\n            }\r\n            if (typeof g.groups !== \"undefined\") {\r\n                g.groups.forEach(function (gi, i) {\r\n                    if (typeof gi === 'number')\r\n                        (g.groups[i] = _this._groups[gi]).parent = g;\r\n                });\r\n            }\r\n        });\r\n        this._rootGroup.leaves = this._nodes.filter(function (v) { return typeof v.parent === 'undefined'; });\r\n        this._rootGroup.groups = this._groups.filter(function (g) { return typeof g.parent === 'undefined'; });\r\n        return this;\r\n    };\r\n    Layout.prototype.powerGraphGroups = function (f) {\r\n        var g = powergraph.getGroups(this._nodes, this._links, this.linkAccessor, this._rootGroup);\r\n        this.groups(g.groups);\r\n        f(g);\r\n        return this;\r\n    };\r\n    Layout.prototype.avoidOverlaps = function (v) {\r\n        if (!arguments.length)\r\n            return this._avoidOverlaps;\r\n        this._avoidOverlaps = v;\r\n        return this;\r\n    };\r\n    Layout.prototype.handleDisconnected = function (v) {\r\n        if (!arguments.length)\r\n            return this._handleDisconnected;\r\n        this._handleDisconnected = v;\r\n        return this;\r\n    };\r\n    Layout.prototype.flowLayout = function (axis, minSeparation) {\r\n        if (!arguments.length)\r\n            axis = 'y';\r\n        this._directedLinkConstraints = {\r\n            axis: axis,\r\n            getMinSeparation: typeof minSeparation === 'number' ? function () { return minSeparation; } : minSeparation\r\n        };\r\n        return this;\r\n    };\r\n    Layout.prototype.links = function (x) {\r\n        if (!arguments.length)\r\n            return this._links;\r\n        this._links = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.constraints = function (c) {\r\n        if (!arguments.length)\r\n            return this._constraints;\r\n        this._constraints = c;\r\n        return this;\r\n    };\r\n    Layout.prototype.distanceMatrix = function (d) {\r\n        if (!arguments.length)\r\n            return this._distanceMatrix;\r\n        this._distanceMatrix = d;\r\n        return this;\r\n    };\r\n    Layout.prototype.size = function (x) {\r\n        if (!x)\r\n            return this._canvasSize;\r\n        this._canvasSize = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.defaultNodeSize = function (x) {\r\n        if (!x)\r\n            return this._defaultNodeSize;\r\n        this._defaultNodeSize = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.groupCompactness = function (x) {\r\n        if (!x)\r\n            return this._groupCompactness;\r\n        this._groupCompactness = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.linkDistance = function (x) {\r\n        if (!x) {\r\n            return this._linkDistance;\r\n        }\r\n        this._linkDistance = typeof x === \"function\" ? x : +x;\r\n        this._linkLengthCalculator = null;\r\n        return this;\r\n    };\r\n    Layout.prototype.linkType = function (f) {\r\n        this._linkType = f;\r\n        return this;\r\n    };\r\n    Layout.prototype.convergenceThreshold = function (x) {\r\n        if (!x)\r\n            return this._threshold;\r\n        this._threshold = typeof x === \"function\" ? x : +x;\r\n        return this;\r\n    };\r\n    Layout.prototype.alpha = function (x) {\r\n        if (!arguments.length)\r\n            return this._alpha;\r\n        else {\r\n            x = +x;\r\n            if (this._alpha) {\r\n                if (x > 0)\r\n                    this._alpha = x;\r\n                else\r\n                    this._alpha = 0;\r\n            }\r\n            else if (x > 0) {\r\n                if (!this._running) {\r\n                    this._running = true;\r\n                    this.trigger({ type: EventType.start, alpha: this._alpha = x });\r\n                    this.kick();\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    Layout.prototype.getLinkLength = function (link) {\r\n        return typeof this._linkDistance === \"function\" ? +(this._linkDistance(link)) : this._linkDistance;\r\n    };\r\n    Layout.setLinkLength = function (link, length) {\r\n        link.length = length;\r\n    };\r\n    Layout.prototype.getLinkType = function (link) {\r\n        return typeof this._linkType === \"function\" ? this._linkType(link) : 0;\r\n    };\r\n    Layout.prototype.symmetricDiffLinkLengths = function (idealLength, w) {\r\n        var _this = this;\r\n        if (w === void 0) { w = 1; }\r\n        this.linkDistance(function (l) { return idealLength * l.length; });\r\n        this._linkLengthCalculator = function () { return linklengths_1.symmetricDiffLinkLengths(_this._links, _this.linkAccessor, w); };\r\n        return this;\r\n    };\r\n    Layout.prototype.jaccardLinkLengths = function (idealLength, w) {\r\n        var _this = this;\r\n        if (w === void 0) { w = 1; }\r\n        this.linkDistance(function (l) { return idealLength * l.length; });\r\n        this._linkLengthCalculator = function () { return linklengths_1.jaccardLinkLengths(_this._links, _this.linkAccessor, w); };\r\n        return this;\r\n    };\r\n    Layout.prototype.start = function (initialUnconstrainedIterations, initialUserConstraintIterations, initialAllConstraintsIterations, gridSnapIterations, keepRunning, centerGraph) {\r\n        var _this = this;\r\n        if (initialUnconstrainedIterations === void 0) { initialUnconstrainedIterations = 0; }\r\n        if (initialUserConstraintIterations === void 0) { initialUserConstraintIterations = 0; }\r\n        if (initialAllConstraintsIterations === void 0) { initialAllConstraintsIterations = 0; }\r\n        if (gridSnapIterations === void 0) { gridSnapIterations = 0; }\r\n        if (keepRunning === void 0) { keepRunning = true; }\r\n        if (centerGraph === void 0) { centerGraph = true; }\r\n        var i, j, n = this.nodes().length, N = n + 2 * this._groups.length, m = this._links.length, w = this._canvasSize[0], h = this._canvasSize[1];\r\n        var x = new Array(N), y = new Array(N);\r\n        var G = null;\r\n        var ao = this._avoidOverlaps;\r\n        this._nodes.forEach(function (v, i) {\r\n            v.index = i;\r\n            if (typeof v.x === 'undefined') {\r\n                v.x = w / 2, v.y = h / 2;\r\n            }\r\n            x[i] = v.x, y[i] = v.y;\r\n        });\r\n        if (this._linkLengthCalculator)\r\n            this._linkLengthCalculator();\r\n        var distances;\r\n        if (this._distanceMatrix) {\r\n            distances = this._distanceMatrix;\r\n        }\r\n        else {\r\n            distances = (new shortestpaths_1.Calculator(N, this._links, Layout.getSourceIndex, Layout.getTargetIndex, function (l) { return _this.getLinkLength(l); })).DistanceMatrix();\r\n            G = descent_1.Descent.createSquareMatrix(N, function () { return 2; });\r\n            this._links.forEach(function (l) {\r\n                if (typeof l.source == \"number\")\r\n                    l.source = _this._nodes[l.source];\r\n                if (typeof l.target == \"number\")\r\n                    l.target = _this._nodes[l.target];\r\n            });\r\n            this._links.forEach(function (e) {\r\n                var u = Layout.getSourceIndex(e), v = Layout.getTargetIndex(e);\r\n                G[u][v] = G[v][u] = e.weight || 1;\r\n            });\r\n        }\r\n        var D = descent_1.Descent.createSquareMatrix(N, function (i, j) {\r\n            return distances[i][j];\r\n        });\r\n        if (this._rootGroup && typeof this._rootGroup.groups !== 'undefined') {\r\n            var i = n;\r\n            var addAttraction = function (i, j, strength, idealDistance) {\r\n                G[i][j] = G[j][i] = strength;\r\n                D[i][j] = D[j][i] = idealDistance;\r\n            };\r\n            this._groups.forEach(function (g) {\r\n                addAttraction(i, i + 1, _this._groupCompactness, 0.1);\r\n                x[i] = 0, y[i++] = 0;\r\n                x[i] = 0, y[i++] = 0;\r\n            });\r\n        }\r\n        else\r\n            this._rootGroup = { leaves: this._nodes, groups: [] };\r\n        var curConstraints = this._constraints || [];\r\n        if (this._directedLinkConstraints) {\r\n            this.linkAccessor.getMinSeparation = this._directedLinkConstraints.getMinSeparation;\r\n            curConstraints = curConstraints.concat(linklengths_1.generateDirectedEdgeConstraints(n, this._links, this._directedLinkConstraints.axis, (this.linkAccessor)));\r\n        }\r\n        this.avoidOverlaps(false);\r\n        this._descent = new descent_1.Descent([x, y], D);\r\n        this._descent.locks.clear();\r\n        for (var i = 0; i < n; ++i) {\r\n            var o = this._nodes[i];\r\n            if (o.fixed) {\r\n                o.px = o.x;\r\n                o.py = o.y;\r\n                var p = [o.x, o.y];\r\n                this._descent.locks.add(i, p);\r\n            }\r\n        }\r\n        this._descent.threshold = this._threshold;\r\n        this.initialLayout(initialUnconstrainedIterations, x, y);\r\n        if (curConstraints.length > 0)\r\n            this._descent.project = new rectangle_1.Projection(this._nodes, this._groups, this._rootGroup, curConstraints).projectFunctions();\r\n        this._descent.run(initialUserConstraintIterations);\r\n        this.separateOverlappingComponents(w, h, centerGraph);\r\n        this.avoidOverlaps(ao);\r\n        if (ao) {\r\n            this._nodes.forEach(function (v, i) { v.x = x[i], v.y = y[i]; });\r\n            this._descent.project = new rectangle_1.Projection(this._nodes, this._groups, this._rootGroup, curConstraints, true).projectFunctions();\r\n            this._nodes.forEach(function (v, i) { x[i] = v.x, y[i] = v.y; });\r\n        }\r\n        this._descent.G = G;\r\n        this._descent.run(initialAllConstraintsIterations);\r\n        if (gridSnapIterations) {\r\n            this._descent.snapStrength = 1000;\r\n            this._descent.snapGridSize = this._nodes[0].width;\r\n            this._descent.numGridSnapNodes = n;\r\n            this._descent.scaleSnapByMaxH = n != N;\r\n            var G0 = descent_1.Descent.createSquareMatrix(N, function (i, j) {\r\n                if (i >= n || j >= n)\r\n                    return G[i][j];\r\n                return 0;\r\n            });\r\n            this._descent.G = G0;\r\n            this._descent.run(gridSnapIterations);\r\n        }\r\n        this.updateNodePositions();\r\n        this.separateOverlappingComponents(w, h, centerGraph);\r\n        return keepRunning ? this.resume() : this;\r\n    };\r\n    Layout.prototype.initialLayout = function (iterations, x, y) {\r\n        if (this._groups.length > 0 && iterations > 0) {\r\n            var n = this._nodes.length;\r\n            var edges = this._links.map(function (e) { return ({ source: e.source.index, target: e.target.index }); });\r\n            var vs = this._nodes.map(function (v) { return ({ index: v.index }); });\r\n            this._groups.forEach(function (g, i) {\r\n                vs.push({ index: g.index = n + i });\r\n            });\r\n            this._groups.forEach(function (g, i) {\r\n                if (typeof g.leaves !== 'undefined')\r\n                    g.leaves.forEach(function (v) { return edges.push({ source: g.index, target: v.index }); });\r\n                if (typeof g.groups !== 'undefined')\r\n                    g.groups.forEach(function (gg) { return edges.push({ source: g.index, target: gg.index }); });\r\n            });\r\n            new Layout()\r\n                .size(this.size())\r\n                .nodes(vs)\r\n                .links(edges)\r\n                .avoidOverlaps(false)\r\n                .linkDistance(this.linkDistance())\r\n                .symmetricDiffLinkLengths(5)\r\n                .convergenceThreshold(1e-4)\r\n                .start(iterations, 0, 0, 0, false);\r\n            this._nodes.forEach(function (v) {\r\n                x[v.index] = vs[v.index].x;\r\n                y[v.index] = vs[v.index].y;\r\n            });\r\n        }\r\n        else {\r\n            this._descent.run(iterations);\r\n        }\r\n    };\r\n    Layout.prototype.separateOverlappingComponents = function (width, height, centerGraph) {\r\n        var _this = this;\r\n        if (centerGraph === void 0) { centerGraph = true; }\r\n        if (!this._distanceMatrix && this._handleDisconnected) {\r\n            var x_1 = this._descent.x[0], y_1 = this._descent.x[1];\r\n            this._nodes.forEach(function (v, i) { v.x = x_1[i], v.y = y_1[i]; });\r\n            var graphs = handledisconnected_1.separateGraphs(this._nodes, this._links);\r\n            handledisconnected_1.applyPacking(graphs, width, height, this._defaultNodeSize, 1, centerGraph);\r\n            this._nodes.forEach(function (v, i) {\r\n                _this._descent.x[0][i] = v.x, _this._descent.x[1][i] = v.y;\r\n                if (v.bounds) {\r\n                    v.bounds.setXCentre(v.x);\r\n                    v.bounds.setYCentre(v.y);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Layout.prototype.resume = function () {\r\n        return this.alpha(0.1);\r\n    };\r\n    Layout.prototype.stop = function () {\r\n        return this.alpha(0);\r\n    };\r\n    Layout.prototype.prepareEdgeRouting = function (nodeMargin) {\r\n        if (nodeMargin === void 0) { nodeMargin = 0; }\r\n        this._visibilityGraph = new geom_1.TangentVisibilityGraph(this._nodes.map(function (v) {\r\n            return v.bounds.inflate(-nodeMargin).vertices();\r\n        }));\r\n    };\r\n    Layout.prototype.routeEdge = function (edge, ah, draw) {\r\n        if (ah === void 0) { ah = 5; }\r\n        var lineData = [];\r\n        var vg2 = new geom_1.TangentVisibilityGraph(this._visibilityGraph.P, { V: this._visibilityGraph.V, E: this._visibilityGraph.E }), port1 = { x: edge.source.x, y: edge.source.y }, port2 = { x: edge.target.x, y: edge.target.y }, start = vg2.addPoint(port1, edge.source.index), end = vg2.addPoint(port2, edge.target.index);\r\n        vg2.addEdgeIfVisible(port1, port2, edge.source.index, edge.target.index);\r\n        if (typeof draw !== 'undefined') {\r\n            draw(vg2);\r\n        }\r\n        var sourceInd = function (e) { return e.source.id; }, targetInd = function (e) { return e.target.id; }, length = function (e) { return e.length(); }, spCalc = new shortestpaths_1.Calculator(vg2.V.length, vg2.E, sourceInd, targetInd, length), shortestPath = spCalc.PathFromNodeToNode(start.id, end.id);\r\n        if (shortestPath.length === 1 || shortestPath.length === vg2.V.length) {\r\n            var route = rectangle_1.makeEdgeBetween(edge.source.innerBounds, edge.target.innerBounds, ah);\r\n            lineData = [route.sourceIntersection, route.arrowStart];\r\n        }\r\n        else {\r\n            var n = shortestPath.length - 2, p = vg2.V[shortestPath[n]].p, q = vg2.V[shortestPath[0]].p, lineData = [edge.source.innerBounds.rayIntersection(p.x, p.y)];\r\n            for (var i = n; i >= 0; --i)\r\n                lineData.push(vg2.V[shortestPath[i]].p);\r\n            lineData.push(rectangle_1.makeEdgeTo(q, edge.target.innerBounds, ah));\r\n        }\r\n        return lineData;\r\n    };\r\n    Layout.getSourceIndex = function (e) {\r\n        return typeof e.source === 'number' ? e.source : e.source.index;\r\n    };\r\n    Layout.getTargetIndex = function (e) {\r\n        return typeof e.target === 'number' ? e.target : e.target.index;\r\n    };\r\n    Layout.linkId = function (e) {\r\n        return Layout.getSourceIndex(e) + \"-\" + Layout.getTargetIndex(e);\r\n    };\r\n    Layout.dragStart = function (d) {\r\n        if (isGroup(d)) {\r\n            Layout.storeOffset(d, Layout.dragOrigin(d));\r\n        }\r\n        else {\r\n            Layout.stopNode(d);\r\n            d.fixed |= 2;\r\n        }\r\n    };\r\n    Layout.stopNode = function (v) {\r\n        v.px = v.x;\r\n        v.py = v.y;\r\n    };\r\n    Layout.storeOffset = function (d, origin) {\r\n        if (typeof d.leaves !== 'undefined') {\r\n            d.leaves.forEach(function (v) {\r\n                v.fixed |= 2;\r\n                Layout.stopNode(v);\r\n                v._dragGroupOffsetX = v.x - origin.x;\r\n                v._dragGroupOffsetY = v.y - origin.y;\r\n            });\r\n        }\r\n        if (typeof d.groups !== 'undefined') {\r\n            d.groups.forEach(function (g) { return Layout.storeOffset(g, origin); });\r\n        }\r\n    };\r\n    Layout.dragOrigin = function (d) {\r\n        if (isGroup(d)) {\r\n            return {\r\n                x: d.bounds.cx(),\r\n                y: d.bounds.cy()\r\n            };\r\n        }\r\n        else {\r\n            return d;\r\n        }\r\n    };\r\n    Layout.drag = function (d, position) {\r\n        if (isGroup(d)) {\r\n            if (typeof d.leaves !== 'undefined') {\r\n                d.leaves.forEach(function (v) {\r\n                    d.bounds.setXCentre(position.x);\r\n                    d.bounds.setYCentre(position.y);\r\n                    v.px = v._dragGroupOffsetX + position.x;\r\n                    v.py = v._dragGroupOffsetY + position.y;\r\n                });\r\n            }\r\n            if (typeof d.groups !== 'undefined') {\r\n                d.groups.forEach(function (g) { return Layout.drag(g, position); });\r\n            }\r\n        }\r\n        else {\r\n            d.px = position.x;\r\n            d.py = position.y;\r\n        }\r\n    };\r\n    Layout.dragEnd = function (d) {\r\n        if (isGroup(d)) {\r\n            if (typeof d.leaves !== 'undefined') {\r\n                d.leaves.forEach(function (v) {\r\n                    Layout.dragEnd(v);\r\n                    delete v._dragGroupOffsetX;\r\n                    delete v._dragGroupOffsetY;\r\n                });\r\n            }\r\n            if (typeof d.groups !== 'undefined') {\r\n                d.groups.forEach(Layout.dragEnd);\r\n            }\r\n        }\r\n        else {\r\n            d.fixed &= ~6;\r\n        }\r\n    };\r\n    Layout.mouseOver = function (d) {\r\n        d.fixed |= 4;\r\n        d.px = d.x, d.py = d.y;\r\n    };\r\n    Layout.mouseOut = function (d) {\r\n        d.fixed &= ~4;\r\n    };\r\n    return Layout;\r\n}());\r\nexports.Layout = Layout;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvbGF5b3V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEseUNBQTBDO0FBQzFDLDZDQUErSDtBQUMvSCxxQ0FBaUM7QUFDakMseUNBQThFO0FBQzlFLGlEQUEwQztBQUMxQywrQkFBdUQ7QUFDdkQsMkRBQWlFO0FBTzdELElBQVksU0FBOEI7QUFBMUMsV0FBWSxTQUFTO0lBQUcsMkNBQUssQ0FBQTtJQUFFLHlDQUFJLENBQUE7SUFBRSx1Q0FBRyxDQUFBO0FBQUMsQ0FBQyxFQUE5QixTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUFxQjtBQUFBLENBQUM7QUErQzNDLFNBQVMsT0FBTyxDQUFDLENBQU07SUFDbkIsT0FBTyxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFXLENBQUM7QUFDOUUsQ0FBQztBQXdCRDtJQUFBO1FBQUEsaUJBa3lCQztRQWp5QlcsZ0JBQVcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyQixrQkFBYSxHQUF5QyxFQUFFLENBQUM7UUFDekQscUJBQWdCLEdBQVcsRUFBRSxDQUFDO1FBQzlCLDBCQUFxQixHQUFHLElBQUksQ0FBQztRQUM3QixjQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLG1CQUFjLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLHdCQUFtQixHQUFHLElBQUksQ0FBQztRQUczQixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLFdBQU0sR0FBRyxFQUFFLENBQUM7UUFDWixZQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsZUFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixXQUFNLEdBQTBCLEVBQUUsQ0FBQztRQUNuQyxpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQixvQkFBZSxHQUFHLElBQUksQ0FBQztRQUN2QixhQUFRLEdBQVks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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar vpsc_1 = require(\"./vpsc\");\r\nvar rbtree_1 = require(\"./rbtree\");\r\nfunction computeGroupBounds(g) {\r\n    g.bounds = typeof g.leaves !== \"undefined\" ?\r\n        g.leaves.reduce(function (r, c) { return c.bounds.union(r); }, Rectangle.empty()) :\r\n        Rectangle.empty();\r\n    if (typeof g.groups !== \"undefined\")\r\n        g.bounds = g.groups.reduce(function (r, c) { return computeGroupBounds(c).union(r); }, g.bounds);\r\n    g.bounds = g.bounds.inflate(g.padding);\r\n    return g.bounds;\r\n}\r\nexports.computeGroupBounds = computeGroupBounds;\r\nvar Rectangle = (function () {\r\n    function Rectangle(x, X, y, Y) {\r\n        this.x = x;\r\n        this.X = X;\r\n        this.y = y;\r\n        this.Y = Y;\r\n    }\r\n    Rectangle.empty = function () { return new Rectangle(Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY); };\r\n    Rectangle.prototype.cx = function () { return (this.x + this.X) / 2; };\r\n    Rectangle.prototype.cy = function () { return (this.y + this.Y) / 2; };\r\n    Rectangle.prototype.overlapX = function (r) {\r\n        var ux = this.cx(), vx = r.cx();\r\n        if (ux <= vx && r.x < this.X)\r\n            return this.X - r.x;\r\n        if (vx <= ux && this.x < r.X)\r\n            return r.X - this.x;\r\n        return 0;\r\n    };\r\n    Rectangle.prototype.overlapY = function (r) {\r\n        var uy = this.cy(), vy = r.cy();\r\n        if (uy <= vy && r.y < this.Y)\r\n            return this.Y - r.y;\r\n        if (vy <= uy && this.y < r.Y)\r\n            return r.Y - this.y;\r\n        return 0;\r\n    };\r\n    Rectangle.prototype.setXCentre = function (cx) {\r\n        var dx = cx - this.cx();\r\n        this.x += dx;\r\n        this.X += dx;\r\n    };\r\n    Rectangle.prototype.setYCentre = function (cy) {\r\n        var dy = cy - this.cy();\r\n        this.y += dy;\r\n        this.Y += dy;\r\n    };\r\n    Rectangle.prototype.width = function () {\r\n        return this.X - this.x;\r\n    };\r\n    Rectangle.prototype.height = function () {\r\n        return this.Y - this.y;\r\n    };\r\n    Rectangle.prototype.union = function (r) {\r\n        return new Rectangle(Math.min(this.x, r.x), Math.max(this.X, r.X), Math.min(this.y, r.y), Math.max(this.Y, r.Y));\r\n    };\r\n    Rectangle.prototype.lineIntersections = function (x1, y1, x2, y2) {\r\n        var sides = [[this.x, this.y, this.X, this.y],\r\n            [this.X, this.y, this.X, this.Y],\r\n            [this.X, this.Y, this.x, this.Y],\r\n            [this.x, this.Y, this.x, this.y]];\r\n        var intersections = [];\r\n        for (var i = 0; i < 4; ++i) {\r\n            var r = Rectangle.lineIntersection(x1, y1, x2, y2, sides[i][0], sides[i][1], sides[i][2], sides[i][3]);\r\n            if (r !== null)\r\n                intersections.push({ x: r.x, y: r.y });\r\n        }\r\n        return intersections;\r\n    };\r\n    Rectangle.prototype.rayIntersection = function (x2, y2) {\r\n        var ints = this.lineIntersections(this.cx(), this.cy(), x2, y2);\r\n        return ints.length > 0 ? ints[0] : null;\r\n    };\r\n    Rectangle.prototype.vertices = function () {\r\n        return [\r\n            { x: this.x, y: this.y },\r\n            { x: this.X, y: this.y },\r\n            { x: this.X, y: this.Y },\r\n            { x: this.x, y: this.Y }\r\n        ];\r\n    };\r\n    Rectangle.lineIntersection = function (x1, y1, x2, y2, x3, y3, x4, y4) {\r\n        var dx12 = x2 - x1, dx34 = x4 - x3, dy12 = y2 - y1, dy34 = y4 - y3, denominator = dy34 * dx12 - dx34 * dy12;\r\n        if (denominator == 0)\r\n            return null;\r\n        var dx31 = x1 - x3, dy31 = y1 - y3, numa = dx34 * dy31 - dy34 * dx31, a = numa / denominator, numb = dx12 * dy31 - dy12 * dx31, b = numb / denominator;\r\n        if (a >= 0 && a <= 1 && b >= 0 && b <= 1) {\r\n            return {\r\n                x: x1 + a * dx12,\r\n                y: y1 + a * dy12\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    Rectangle.prototype.inflate = function (pad) {\r\n        return new Rectangle(this.x - pad, this.X + pad, this.y - pad, this.Y + pad);\r\n    };\r\n    return Rectangle;\r\n}());\r\nexports.Rectangle = Rectangle;\r\nfunction makeEdgeBetween(source, target, ah) {\r\n    var si = source.rayIntersection(target.cx(), target.cy()) || { x: source.cx(), y: source.cy() }, ti = target.rayIntersection(source.cx(), source.cy()) || { x: target.cx(), y: target.cy() }, dx = ti.x - si.x, dy = ti.y - si.y, l = Math.sqrt(dx * dx + dy * dy), al = l - ah;\r\n    return {\r\n        sourceIntersection: si,\r\n        targetIntersection: ti,\r\n        arrowStart: { x: si.x + al * dx / l, y: si.y + al * dy / l }\r\n    };\r\n}\r\nexports.makeEdgeBetween = makeEdgeBetween;\r\nfunction makeEdgeTo(s, target, ah) {\r\n    var ti = target.rayIntersection(s.x, s.y);\r\n    if (!ti)\r\n        ti = { x: target.cx(), y: target.cy() };\r\n    var dx = ti.x - s.x, dy = ti.y - s.y, l = Math.sqrt(dx * dx + dy * dy);\r\n    return { x: ti.x - ah * dx / l, y: ti.y - ah * dy / l };\r\n}\r\nexports.makeEdgeTo = makeEdgeTo;\r\nvar Node = (function () {\r\n    function Node(v, r, pos) {\r\n        this.v = v;\r\n        this.r = r;\r\n        this.pos = pos;\r\n        this.prev = makeRBTree();\r\n        this.next = makeRBTree();\r\n    }\r\n    return Node;\r\n}());\r\nvar Event = (function () {\r\n    function Event(isOpen, v, pos) {\r\n        this.isOpen = isOpen;\r\n        this.v = v;\r\n        this.pos = pos;\r\n    }\r\n    return Event;\r\n}());\r\nfunction compareEvents(a, b) {\r\n    if (a.pos > b.pos) {\r\n        return 1;\r\n    }\r\n    if (a.pos < b.pos) {\r\n        return -1;\r\n    }\r\n    if (a.isOpen) {\r\n        return -1;\r\n    }\r\n    if (b.isOpen) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nfunction makeRBTree() {\r\n    return new rbtree_1.RBTree(function (a, b) { return a.pos - b.pos; });\r\n}\r\nvar xRect = {\r\n    getCentre: function (r) { return r.cx(); },\r\n    getOpen: function (r) { return r.y; },\r\n    getClose: function (r) { return r.Y; },\r\n    getSize: function (r) { return r.width(); },\r\n    makeRect: function (open, close, center, size) { return new Rectangle(center - size / 2, center + size / 2, open, close); },\r\n    findNeighbours: findXNeighbours\r\n};\r\nvar yRect = {\r\n    getCentre: function (r) { return r.cy(); },\r\n    getOpen: function (r) { return r.x; },\r\n    getClose: function (r) { return r.X; },\r\n    getSize: function (r) { return r.height(); },\r\n    makeRect: function (open, close, center, size) { return new Rectangle(open, close, center - size / 2, center + size / 2); },\r\n    findNeighbours: findYNeighbours\r\n};\r\nfunction generateGroupConstraints(root, f, minSep, isContained) {\r\n    if (isContained === void 0) { isContained = false; }\r\n    var padding = root.padding, gn = typeof root.groups !== 'undefined' ? root.groups.length : 0, ln = typeof root.leaves !== 'undefined' ? root.leaves.length : 0, childConstraints = !gn ? []\r\n        : root.groups.reduce(function (ccs, g) { return ccs.concat(generateGroupConstraints(g, f, minSep, true)); }, []), n = (isContained ? 2 : 0) + ln + gn, vs = new Array(n), rs = new Array(n), i = 0, add = function (r, v) { rs[i] = r; vs[i++] = v; };\r\n    if (isContained) {\r\n        var b = root.bounds, c = f.getCentre(b), s = f.getSize(b) / 2, open = f.getOpen(b), close = f.getClose(b), min = c - s + padding / 2, max = c + s - padding / 2;\r\n        root.minVar.desiredPosition = min;\r\n        add(f.makeRect(open, close, min, padding), root.minVar);\r\n        root.maxVar.desiredPosition = max;\r\n        add(f.makeRect(open, close, max, padding), root.maxVar);\r\n    }\r\n    if (ln)\r\n        root.leaves.forEach(function (l) { return add(l.bounds, l.variable); });\r\n    if (gn)\r\n        root.groups.forEach(function (g) {\r\n            var b = g.bounds;\r\n            add(f.makeRect(f.getOpen(b), f.getClose(b), f.getCentre(b), f.getSize(b)), g.minVar);\r\n        });\r\n    var cs = generateConstraints(rs, vs, f, minSep);\r\n    if (gn) {\r\n        vs.forEach(function (v) { v.cOut = [], v.cIn = []; });\r\n        cs.forEach(function (c) { c.left.cOut.push(c), c.right.cIn.push(c); });\r\n        root.groups.forEach(function (g) {\r\n            var gapAdjustment = (g.padding - f.getSize(g.bounds)) / 2;\r\n            g.minVar.cIn.forEach(function (c) { return c.gap += gapAdjustment; });\r\n            g.minVar.cOut.forEach(function (c) { c.left = g.maxVar; c.gap += gapAdjustment; });\r\n        });\r\n    }\r\n    return childConstraints.concat(cs);\r\n}\r\nfunction generateConstraints(rs, vars, rect, minSep) {\r\n    var i, n = rs.length;\r\n    var N = 2 * n;\r\n    console.assert(vars.length >= n);\r\n    var events = new Array(N);\r\n    for (i = 0; i < n; ++i) {\r\n        var r = rs[i];\r\n        var v = new Node(vars[i], r, rect.getCentre(r));\r\n        events[i] = new Event(true, v, rect.getOpen(r));\r\n        events[i + n] = new Event(false, v, rect.getClose(r));\r\n    }\r\n    events.sort(compareEvents);\r\n    var cs = new Array();\r\n    var scanline = makeRBTree();\r\n    for (i = 0; i < N; ++i) {\r\n        var e = events[i];\r\n        var v = e.v;\r\n        if (e.isOpen) {\r\n            scanline.insert(v);\r\n            rect.findNeighbours(v, scanline);\r\n        }\r\n        else {\r\n            scanline.remove(v);\r\n            var makeConstraint = function (l, r) {\r\n                var sep = (rect.getSize(l.r) + rect.getSize(r.r)) / 2 + minSep;\r\n                cs.push(new vpsc_1.Constraint(l.v, r.v, sep));\r\n            };\r\n            var visitNeighbours = function (forward, reverse, mkcon) {\r\n                var u, it = v[forward].iterator();\r\n                while ((u = it[forward]()) !== null) {\r\n                    mkcon(u, v);\r\n                    u[reverse].remove(v);\r\n                }\r\n            };\r\n            visitNeighbours(\"prev\", \"next\", function (u, v) { return makeConstraint(u, v); });\r\n            visitNeighbours(\"next\", \"prev\", function (u, v) { return makeConstraint(v, u); });\r\n        }\r\n    }\r\n    console.assert(scanline.size === 0);\r\n    return cs;\r\n}\r\nfunction findXNeighbours(v, scanline) {\r\n    var f = function (forward, reverse) {\r\n        var it = scanline.findIter(v);\r\n        var u;\r\n        while ((u = it[forward]()) !== null) {\r\n            var uovervX = u.r.overlapX(v.r);\r\n            if (uovervX <= 0 || uovervX <= u.r.overlapY(v.r)) {\r\n                v[forward].insert(u);\r\n                u[reverse].insert(v);\r\n            }\r\n            if (uovervX <= 0) {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    f(\"next\", \"prev\");\r\n    f(\"prev\", \"next\");\r\n}\r\nfunction findYNeighbours(v, scanline) {\r\n    var f = function (forward, reverse) {\r\n        var u = scanline.findIter(v)[forward]();\r\n        if (u !== null && u.r.overlapX(v.r) > 0) {\r\n            v[forward].insert(u);\r\n            u[reverse].insert(v);\r\n        }\r\n    };\r\n    f(\"next\", \"prev\");\r\n    f(\"prev\", \"next\");\r\n}\r\nfunction generateXConstraints(rs, vars) {\r\n    return generateConstraints(rs, vars, xRect, 1e-6);\r\n}\r\nexports.generateXConstraints = generateXConstraints;\r\nfunction generateYConstraints(rs, vars) {\r\n    return generateConstraints(rs, vars, yRect, 1e-6);\r\n}\r\nexports.generateYConstraints = generateYConstraints;\r\nfunction generateXGroupConstraints(root) {\r\n    return generateGroupConstraints(root, xRect, 1e-6);\r\n}\r\nexports.generateXGroupConstraints = generateXGroupConstraints;\r\nfunction generateYGroupConstraints(root) {\r\n    return generateGroupConstraints(root, yRect, 1e-6);\r\n}\r\nexports.generateYGroupConstraints = generateYGroupConstraints;\r\nfunction removeOverlaps(rs) {\r\n    var vs = rs.map(function (r) { return new vpsc_1.Variable(r.cx()); });\r\n    var cs = generateXConstraints(rs, vs);\r\n    var solver = new vpsc_1.Solver(vs, cs);\r\n    solver.solve();\r\n    vs.forEach(function (v, i) { return rs[i].setXCentre(v.position()); });\r\n    vs = rs.map(function (r) { return new vpsc_1.Variable(r.cy()); });\r\n    cs = generateYConstraints(rs, vs);\r\n    solver = new vpsc_1.Solver(vs, cs);\r\n    solver.solve();\r\n    vs.forEach(function (v, i) { return rs[i].setYCentre(v.position()); });\r\n}\r\nexports.removeOverlaps = removeOverlaps;\r\nvar IndexedVariable = (function (_super) {\r\n    __extends(IndexedVariable, _super);\r\n    function IndexedVariable(index, w) {\r\n        var _this = _super.call(this, 0, w) || this;\r\n        _this.index = index;\r\n        return _this;\r\n    }\r\n    return IndexedVariable;\r\n}(vpsc_1.Variable));\r\nexports.IndexedVariable = IndexedVariable;\r\nvar Projection = (function () {\r\n    function Projection(nodes, groups, rootGroup, constraints, avoidOverlaps) {\r\n        var _this = this;\r\n        if (rootGroup === void 0) { rootGroup = null; }\r\n        if (constraints === void 0) { constraints = null; }\r\n        if (avoidOverlaps === void 0) { avoidOverlaps = false; }\r\n        this.nodes = nodes;\r\n        this.groups = groups;\r\n        this.rootGroup = rootGroup;\r\n        this.avoidOverlaps = avoidOverlaps;\r\n        this.variables = nodes.map(function (v, i) {\r\n            return v.variable = new IndexedVariable(i, 1);\r\n        });\r\n        if (constraints)\r\n            this.createConstraints(constraints);\r\n        if (avoidOverlaps && rootGroup && typeof rootGroup.groups !== 'undefined') {\r\n            nodes.forEach(function (v) {\r\n                if (!v.width || !v.height) {\r\n                    v.bounds = new Rectangle(v.x, v.x, v.y, v.y);\r\n                    return;\r\n                }\r\n                var w2 = v.width / 2, h2 = v.height / 2;\r\n                v.bounds = new Rectangle(v.x - w2, v.x + w2, v.y - h2, v.y + h2);\r\n            });\r\n            computeGroupBounds(rootGroup);\r\n            var i = nodes.length;\r\n            groups.forEach(function (g) {\r\n                _this.variables[i] = g.minVar = new IndexedVariable(i++, typeof g.stiffness !== \"undefined\" ? g.stiffness : 0.01);\r\n                _this.variables[i] = g.maxVar = new IndexedVariable(i++, typeof g.stiffness !== \"undefined\" ? g.stiffness : 0.01);\r\n            });\r\n        }\r\n    }\r\n    Projection.prototype.createSeparation = function (c) {\r\n        return new vpsc_1.Constraint(this.nodes[c.left].variable, this.nodes[c.right].variable, c.gap, typeof c.equality !== \"undefined\" ? c.equality : false);\r\n    };\r\n    Projection.prototype.makeFeasible = function (c) {\r\n        var _this = this;\r\n        if (!this.avoidOverlaps)\r\n            return;\r\n        var axis = 'x', dim = 'width';\r\n        if (c.axis === 'x')\r\n            axis = 'y', dim = 'height';\r\n        var vs = c.offsets.map(function (o) { return _this.nodes[o.node]; }).sort(function (a, b) { return a[axis] - b[axis]; });\r\n        var p = null;\r\n        vs.forEach(function (v) {\r\n            if (p) {\r\n                var nextPos = p[axis] + p[dim];\r\n                if (nextPos > v[axis]) {\r\n                    v[axis] = nextPos;\r\n                }\r\n            }\r\n            p = v;\r\n        });\r\n    };\r\n    Projection.prototype.createAlignment = function (c) {\r\n        var _this = this;\r\n        var u = this.nodes[c.offsets[0].node].variable;\r\n        this.makeFeasible(c);\r\n        var cs = c.axis === 'x' ? this.xConstraints : this.yConstraints;\r\n        c.offsets.slice(1).forEach(function (o) {\r\n            var v = _this.nodes[o.node].variable;\r\n            cs.push(new vpsc_1.Constraint(u, v, o.offset, true));\r\n        });\r\n    };\r\n    Projection.prototype.createConstraints = function (constraints) {\r\n        var _this = this;\r\n        var isSep = function (c) { return typeof c.type === 'undefined' || c.type === 'separation'; };\r\n        this.xConstraints = constraints\r\n            .filter(function (c) { return c.axis === \"x\" && isSep(c); })\r\n            .map(function (c) { return _this.createSeparation(c); });\r\n        this.yConstraints = constraints\r\n            .filter(function (c) { return c.axis === \"y\" && isSep(c); })\r\n            .map(function (c) { return _this.createSeparation(c); });\r\n        constraints\r\n            .filter(function (c) { return c.type === 'alignment'; })\r\n            .forEach(function (c) { return _this.createAlignment(c); });\r\n    };\r\n    Projection.prototype.setupVariablesAndBounds = function (x0, y0, desired, getDesired) {\r\n        this.nodes.forEach(function (v, i) {\r\n            if (v.fixed) {\r\n                v.variable.weight = v.fixedWeight ? v.fixedWeight : 1000;\r\n                desired[i] = getDesired(v);\r\n            }\r\n            else {\r\n                v.variable.weight = 1;\r\n            }\r\n            var w = (v.width || 0) / 2, h = (v.height || 0) / 2;\r\n            var ix = x0[i], iy = y0[i];\r\n            v.bounds = new Rectangle(ix - w, ix + w, iy - h, iy + h);\r\n        });\r\n    };\r\n    Projection.prototype.xProject = function (x0, y0, x) {\r\n        if (!this.rootGroup && !(this.avoidOverlaps || this.xConstraints))\r\n            return;\r\n        this.project(x0, y0, x0, x, function (v) { return v.px; }, this.xConstraints, generateXGroupConstraints, function (v) { return v.bounds.setXCentre(x[v.variable.index] = v.variable.position()); }, function (g) {\r\n            var xmin = x[g.minVar.index] = g.minVar.position();\r\n            var xmax = x[g.maxVar.index] = g.maxVar.position();\r\n            var p2 = g.padding / 2;\r\n            g.bounds.x = xmin - p2;\r\n            g.bounds.X = xmax + p2;\r\n        });\r\n    };\r\n    Projection.prototype.yProject = function (x0, y0, y) {\r\n        if (!this.rootGroup && !this.yConstraints)\r\n            return;\r\n        this.project(x0, y0, y0, y, function (v) { return v.py; }, this.yConstraints, generateYGroupConstraints, function (v) { return v.bounds.setYCentre(y[v.variable.index] = v.variable.position()); }, function (g) {\r\n            var ymin = y[g.minVar.index] = g.minVar.position();\r\n            var ymax = y[g.maxVar.index] = g.maxVar.position();\r\n            var p2 = g.padding / 2;\r\n            g.bounds.y = ymin - p2;\r\n            ;\r\n            g.bounds.Y = ymax + p2;\r\n        });\r\n    };\r\n    Projection.prototype.projectFunctions = function () {\r\n        var _this = this;\r\n        return [\r\n            function (x0, y0, x) { return _this.xProject(x0, y0, x); },\r\n            function (x0, y0, y) { return _this.yProject(x0, y0, y); }\r\n        ];\r\n    };\r\n    Projection.prototype.project = function (x0, y0, start, desired, getDesired, cs, generateConstraints, updateNodeBounds, updateGroupBounds) {\r\n        this.setupVariablesAndBounds(x0, y0, desired, getDesired);\r\n        if (this.rootGroup && this.avoidOverlaps) {\r\n            computeGroupBounds(this.rootGroup);\r\n            cs = cs.concat(generateConstraints(this.rootGroup));\r\n        }\r\n        this.solve(this.variables, cs, start, desired);\r\n        this.nodes.forEach(updateNodeBounds);\r\n        if (this.rootGroup && this.avoidOverlaps) {\r\n            this.groups.forEach(updateGroupBounds);\r\n            computeGroupBounds(this.rootGroup);\r\n        }\r\n    };\r\n    Projection.prototype.solve = function (vs, cs, starting, desired) {\r\n        var solver = new vpsc_1.Solver(vs, cs);\r\n        solver.setStartingPositions(starting);\r\n        solver.setDesiredPositions(desired);\r\n        solver.solve();\r\n    };\r\n    return Projection;\r\n}());\r\nexports.Projection = Projection;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjdGFuZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvcmVjdGFuZ2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUFtRDtBQUNuRCxtQ0FBK0I7QUFrQjNCLFNBQWdCLGtCQUFrQixDQUFDLENBQWtCO0lBQ2pELENBQUMsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBWSxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFqQixDQUFpQixFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDNUUsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3RCLElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVc7UUFDL0IsQ0FBQyxDQUFDLE1BQU0sR0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQVksRUFBRSxDQUFDLElBQUssT0FBQSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQTlCLENBQThCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3pHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNwQixDQUFDO0FBUkQsZ0RBUUM7QUFFRDtJQUNJLG1CQUNXLENBQVMsRUFDVCxDQUFTLEVBQ1QsQ0FBUyxFQUNULENBQVM7UUFIVCxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQ1QsTUFBQyxHQUFELENBQUMsQ0FBUTtRQUNU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QUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNySCxDQUFDO0lBV0QscUNBQWlCLEdBQWpCLFVBQWtCLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDNUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDckMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNwQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLElBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUN2QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVB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QUcsRUFBRSxDQUFDLE1BQU0sQ0FBQztJQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLElBQUksTUFBTSxHQUFHLElBQUksS0FBSyxDQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3pEO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMzQixJQUFJLEVBQUUsR0FBRyxJQUFJLEtBQUssRUFBYyxDQUFDO0lBQ2pDLElBQUksUUFBUSxHQUFHLFVBQVUsRUFBRSxDQUFDO0lBQzVCLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1os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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar pqueue_1 = require(\"./pqueue\");\r\nvar Neighbour = (function () {\r\n    function Neighbour(id, distance) {\r\n        this.id = id;\r\n        this.distance = distance;\r\n    }\r\n    return Neighbour;\r\n}());\r\nvar Node = (function () {\r\n    function Node(id) {\r\n        this.id = id;\r\n        this.neighbours = [];\r\n    }\r\n    return Node;\r\n}());\r\nvar QueueEntry = (function () {\r\n    function QueueEntry(node, prev, d) {\r\n        this.node = node;\r\n        this.prev = prev;\r\n        this.d = d;\r\n    }\r\n    return QueueEntry;\r\n}());\r\nvar Calculator = (function () {\r\n    function Calculator(n, es, getSourceIndex, getTargetIndex, getLength) {\r\n        this.n = n;\r\n        this.es = es;\r\n        this.neighbours = new Array(this.n);\r\n        var i = this.n;\r\n        while (i--)\r\n            this.neighbours[i] = new Node(i);\r\n        i = this.es.length;\r\n        while (i--) {\r\n            var e = this.es[i];\r\n            var u = getSourceIndex(e), v = getTargetIndex(e);\r\n            var d = getLength(e);\r\n            this.neighbours[u].neighbours.push(new Neighbour(v, d));\r\n            this.neighbours[v].neighbours.push(new Neighbour(u, d));\r\n        }\r\n    }\r\n    Calculator.prototype.DistanceMatrix = function () {\r\n        var D = new Array(this.n);\r\n        for (var i = 0; i < this.n; ++i) {\r\n            D[i] = this.dijkstraNeighbours(i);\r\n        }\r\n        return D;\r\n    };\r\n    Calculator.prototype.DistancesFromNode = function (start) {\r\n        return this.dijkstraNeighbours(start);\r\n    };\r\n    Calculator.prototype.PathFromNodeToNode = function (start, end) {\r\n        return this.dijkstraNeighbours(start, end);\r\n    };\r\n    Calculator.prototype.PathFromNodeToNodeWithPrevCost = function (start, end, prevCost) {\r\n        var q = new pqueue_1.PriorityQueue(function (a, b) { return a.d <= b.d; }), u = this.neighbours[start], qu = new QueueEntry(u, null, 0), visitedFrom = {};\r\n        q.push(qu);\r\n        while (!q.empty()) {\r\n            qu = q.pop();\r\n            u = qu.node;\r\n            if (u.id === end) {\r\n                break;\r\n            }\r\n            var i = u.neighbours.length;\r\n            while (i--) {\r\n                var neighbour = u.neighbours[i], v = this.neighbours[neighbour.id];\r\n                if (qu.prev && v.id === qu.prev.node.id)\r\n                    continue;\r\n                var viduid = v.id + ',' + u.id;\r\n                if (viduid in visitedFrom && visitedFrom[viduid] <= qu.d)\r\n                    continue;\r\n                var cc = qu.prev ? prevCost(qu.prev.node.id, u.id, v.id) : 0, t = qu.d + neighbour.distance + cc;\r\n                visitedFrom[viduid] = t;\r\n                q.push(new QueueEntry(v, qu, t));\r\n            }\r\n        }\r\n        var path = [];\r\n        while (qu.prev) {\r\n            qu = qu.prev;\r\n            path.push(qu.node.id);\r\n        }\r\n        return path;\r\n    };\r\n    Calculator.prototype.dijkstraNeighbours = function (start, dest) {\r\n        if (dest === void 0) { dest = -1; }\r\n        var q = new pqueue_1.PriorityQueue(function (a, b) { return a.d <= b.d; }), i = this.neighbours.length, d = new Array(i);\r\n        while (i--) {\r\n            var node = this.neighbours[i];\r\n            node.d = i === start ? 0 : Number.POSITIVE_INFINITY;\r\n            node.q = q.push(node);\r\n        }\r\n        while (!q.empty()) {\r\n            var u = q.pop();\r\n            d[u.id] = u.d;\r\n            if (u.id === dest) {\r\n                var path = [];\r\n                var v = u;\r\n                while (typeof v.prev !== 'undefined') {\r\n                    path.push(v.prev.id);\r\n                    v = v.prev;\r\n                }\r\n                return path;\r\n            }\r\n            i = u.neighbours.length;\r\n            while (i--) {\r\n                var neighbour = u.neighbours[i];\r\n                var v = this.neighbours[neighbour.id];\r\n                var t = u.d + neighbour.distance;\r\n                if (u.d !== Number.MAX_VALUE && v.d > t) {\r\n                    v.d = t;\r\n                    v.prev = u;\r\n                    q.reduceKey(v.q, v, function (e, q) { return e.q = q; });\r\n                }\r\n            }\r\n        }\r\n        return d;\r\n    };\r\n    return Calculator;\r\n}());\r\nexports.Calculator = Calculator;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hvcnRlc3RwYXRocy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL3Nob3J0ZXN0cGF0aHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtQ0FBbUQ7QUFFbkQ7SUFDSSxtQkFBbUIsRUFBVSxFQUFTLFFBQWdCO1FBQW5DLE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxhQUFRLEdBQVIsUUFBUSxDQUFRO0lBQUksQ0FBQztJQUMvRCxnQkFBQztBQUFELENBQUMsQUFGRCxJQUVDO0FBRUQ7SUFDSSxjQUFtQixFQUFVO1FBQVYsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBS0wsV0FBQztBQUFELENBQUMsQUFSRCxJQVFDO0FBRUQ7SUFDSSxvQkFBbUIsSUFBVSxFQUFTLElBQWdCLEVBQVMsQ0FBUztRQUFyRCxTQUFJLEdBQUosSUFBSSxDQUFNO1FBQVMsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUFTLE1BQUMsR0FBRCxDQUFDLENBQVE7SUFBRyxDQUFDO0lBQ2hGLGlCQUFDO0FBQUQsQ0FBQyxBQUZELElBRUM7QUFTRDtJQUdJLG9CQUFtQixDQUFTLEVBQVMsRUFBVSxFQUFFLGNBQW1DLEVBQUUsY0FBbUMsRUFBRSxTQUE4QjtRQUF0SSxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQVMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUMzQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTdELENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFD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","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction unionCount(a, b) {\r\n    var u = {};\r\n    for (var i in a)\r\n        u[i] = {};\r\n    for (var i in b)\r\n        u[i] = {};\r\n    return Object.keys(u).length;\r\n}\r\nfunction intersectionCount(a, b) {\r\n    var n = 0;\r\n    for (var i in a)\r\n        if (typeof b[i] !== 'undefined')\r\n            ++n;\r\n    return n;\r\n}\r\nfunction getNeighbours(links, la) {\r\n    var neighbours = {};\r\n    var addNeighbours = function (u, v) {\r\n        if (typeof neighbours[u] === 'undefined')\r\n            neighbours[u] = {};\r\n        neighbours[u][v] = {};\r\n    };\r\n    links.forEach(function (e) {\r\n        var u = la.getSourceIndex(e), v = la.getTargetIndex(e);\r\n        addNeighbours(u, v);\r\n        addNeighbours(v, u);\r\n    });\r\n    return neighbours;\r\n}\r\nfunction computeLinkLengths(links, w, f, la) {\r\n    var neighbours = getNeighbours(links, la);\r\n    links.forEach(function (l) {\r\n        var a = neighbours[la.getSourceIndex(l)];\r\n        var b = neighbours[la.getTargetIndex(l)];\r\n        la.setLength(l, 1 + w * f(a, b));\r\n    });\r\n}\r\nfunction symmetricDiffLinkLengths(links, la, w) {\r\n    if (w === void 0) { w = 1; }\r\n    computeLinkLengths(links, w, function (a, b) { return Math.sqrt(unionCount(a, b) - intersectionCount(a, b)); }, la);\r\n}\r\nexports.symmetricDiffLinkLengths = symmetricDiffLinkLengths;\r\nfunction jaccardLinkLengths(links, la, w) {\r\n    if (w === void 0) { w = 1; }\r\n    computeLinkLengths(links, w, function (a, b) {\r\n        return Math.min(Object.keys(a).length, Object.keys(b).length) < 1.1 ? 0 : intersectionCount(a, b) / unionCount(a, b);\r\n    }, la);\r\n}\r\nexports.jaccardLinkLengths = jaccardLinkLengths;\r\nfunction generateDirectedEdgeConstraints(n, links, axis, la) {\r\n    var components = stronglyConnectedComponents(n, links, la);\r\n    var nodes = {};\r\n    components.forEach(function (c, i) {\r\n        return c.forEach(function (v) { return nodes[v] = i; });\r\n    });\r\n    var constraints = [];\r\n    links.forEach(function (l) {\r\n        var ui = la.getSourceIndex(l), vi = la.getTargetIndex(l), u = nodes[ui], v = nodes[vi];\r\n        if (u !== v) {\r\n            constraints.push({\r\n                axis: axis,\r\n                left: ui,\r\n                right: vi,\r\n                gap: la.getMinSeparation(l)\r\n            });\r\n        }\r\n    });\r\n    return constraints;\r\n}\r\nexports.generateDirectedEdgeConstraints = generateDirectedEdgeConstraints;\r\nfunction stronglyConnectedComponents(numVertices, edges, la) {\r\n    var nodes = [];\r\n    var index = 0;\r\n    var stack = [];\r\n    var components = [];\r\n    function strongConnect(v) {\r\n        v.index = v.lowlink = index++;\r\n        stack.push(v);\r\n        v.onStack = true;\r\n        for (var _i = 0, _a = v.out; _i < _a.length; _i++) {\r\n            var w = _a[_i];\r\n            if (typeof w.index === 'undefined') {\r\n                strongConnect(w);\r\n                v.lowlink = Math.min(v.lowlink, w.lowlink);\r\n            }\r\n            else if (w.onStack) {\r\n                v.lowlink = Math.min(v.lowlink, w.index);\r\n            }\r\n        }\r\n        if (v.lowlink === v.index) {\r\n            var component = [];\r\n            while (stack.length) {\r\n                w = stack.pop();\r\n                w.onStack = false;\r\n                component.push(w);\r\n                if (w === v)\r\n                    break;\r\n            }\r\n            components.push(component.map(function (v) { return v.id; }));\r\n        }\r\n    }\r\n    for (var i = 0; i < numVertices; i++) {\r\n        nodes.push({ id: i, out: [] });\r\n    }\r\n    for (var _i = 0, edges_1 = edges; _i < edges_1.length; _i++) {\r\n        var e = edges_1[_i];\r\n        var v_1 = nodes[la.getSourceIndex(e)], w = nodes[la.getTargetIndex(e)];\r\n        v_1.out.push(w);\r\n    }\r\n    for (var _a = 0, nodes_1 = nodes; _a < nodes_1.length; _a++) {\r\n        var v = nodes_1[_a];\r\n        if (typeof v.index === 'undefined')\r\n            strongConnect(v);\r\n    }\r\n    return components;\r\n}\r\nexports.stronglyConnectedComponents = stronglyConnectedComponents;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlua2xlbmd0aHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9saW5rbGVuZ3Rocy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVVJLFNBQVMsVUFBVSxDQUFDLENBQU0sRUFBRSxDQUFNO0lBQzlCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNYLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztRQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDM0IsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMzQixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ2pDLENBQUM7QUFHRCxTQUFTLGlCQUFpQixDQUFDLENBQVcsRUFBRSxDQUFXO0lBQy9DLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztRQUFFLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssV0FBVztZQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELE9BQU8sQ0FBQyxDQUFDO0FBQ2IsQ0FBQztBQUVELFNBQVMsYUFBYSxDQUFPLEtBQWEsRUFBRSxFQUFzQjtJQUM5RCxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDcEIsSUFBSSxhQUFhLEdBQUcsVUFBQyxDQUFDLEVBQUUsQ0FBQztRQUNyQixJQUFJLE9BQU8sVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVc7WUFDcEMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN2QixVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzFCLENBQUMsQ0FBQztJQUNGLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1FBQ1gs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Locks = (function () {\r\n    function Locks() {\r\n        this.locks = {};\r\n    }\r\n    Locks.prototype.add = function (id, x) {\r\n        this.locks[id] = x;\r\n    };\r\n    Locks.prototype.clear = function () {\r\n        this.locks = {};\r\n    };\r\n    Locks.prototype.isEmpty = function () {\r\n        for (var l in this.locks)\r\n            return false;\r\n        return true;\r\n    };\r\n    Locks.prototype.apply = function (f) {\r\n        for (var l in this.locks) {\r\n            f(Number(l), this.locks[l]);\r\n        }\r\n    };\r\n    return Locks;\r\n}());\r\nexports.Locks = Locks;\r\nvar Descent = (function () {\r\n    function Descent(x, D, G) {\r\n        if (G === void 0) { G = null; }\r\n        this.D = D;\r\n        this.G = G;\r\n        this.threshold = 0.0001;\r\n        this.numGridSnapNodes = 0;\r\n        this.snapGridSize = 100;\r\n        this.snapStrength = 1000;\r\n        this.scaleSnapByMaxH = false;\r\n        this.random = new PseudoRandom();\r\n        this.project = null;\r\n        this.x = x;\r\n        this.k = x.length;\r\n        var n = this.n = x[0].length;\r\n        this.H = new Array(this.k);\r\n        this.g = new Array(this.k);\r\n        this.Hd = new Array(this.k);\r\n        this.a = new Array(this.k);\r\n        this.b = new Array(this.k);\r\n        this.c = new Array(this.k);\r\n        this.d = new Array(this.k);\r\n        this.e = new Array(this.k);\r\n        this.ia = new Array(this.k);\r\n        this.ib = new Array(this.k);\r\n        this.xtmp = new Array(this.k);\r\n        this.locks = new Locks();\r\n        this.minD = Number.MAX_VALUE;\r\n        var i = n, j;\r\n        while (i--) {\r\n            j = n;\r\n            while (--j > i) {\r\n                var d = D[i][j];\r\n                if (d > 0 && d < this.minD) {\r\n                    this.minD = d;\r\n                }\r\n            }\r\n        }\r\n        if (this.minD === Number.MAX_VALUE)\r\n            this.minD = 1;\r\n        i = this.k;\r\n        while (i--) {\r\n            this.g[i] = new Array(n);\r\n            this.H[i] = new Array(n);\r\n            j = n;\r\n            while (j--) {\r\n                this.H[i][j] = new Array(n);\r\n            }\r\n            this.Hd[i] = new Array(n);\r\n            this.a[i] = new Array(n);\r\n            this.b[i] = new Array(n);\r\n            this.c[i] = new Array(n);\r\n            this.d[i] = new Array(n);\r\n            this.e[i] = new Array(n);\r\n            this.ia[i] = new Array(n);\r\n            this.ib[i] = new Array(n);\r\n            this.xtmp[i] = new Array(n);\r\n        }\r\n    }\r\n    Descent.createSquareMatrix = function (n, f) {\r\n        var M = new Array(n);\r\n        for (var i = 0; i < n; ++i) {\r\n            M[i] = new Array(n);\r\n            for (var j = 0; j < n; ++j) {\r\n                M[i][j] = f(i, j);\r\n            }\r\n        }\r\n        return M;\r\n    };\r\n    Descent.prototype.offsetDir = function () {\r\n        var _this = this;\r\n        var u = new Array(this.k);\r\n        var l = 0;\r\n        for (var i = 0; i < this.k; ++i) {\r\n            var x = u[i] = this.random.getNextBetween(0.01, 1) - 0.5;\r\n            l += x * x;\r\n        }\r\n        l = Math.sqrt(l);\r\n        return u.map(function (x) { return x *= _this.minD / l; });\r\n    };\r\n    Descent.prototype.computeDerivatives = function (x) {\r\n        var _this = this;\r\n        var n = this.n;\r\n        if (n < 1)\r\n            return;\r\n        var i;\r\n        var d = new Array(this.k);\r\n        var d2 = new Array(this.k);\r\n        var Huu = new Array(this.k);\r\n        var maxH = 0;\r\n        for (var u = 0; u < n; ++u) {\r\n            for (i = 0; i < this.k; ++i)\r\n                Huu[i] = this.g[i][u] = 0;\r\n            for (var v = 0; v < n; ++v) {\r\n                if (u === v)\r\n                    continue;\r\n                var maxDisplaces = n;\r\n                while (maxDisplaces--) {\r\n                    var sd2 = 0;\r\n                    for (i = 0; i < this.k; ++i) {\r\n                        var dx = d[i] = x[i][u] - x[i][v];\r\n                        sd2 += d2[i] = dx * dx;\r\n                    }\r\n                    if (sd2 > 1e-9)\r\n                        break;\r\n                    var rd = this.offsetDir();\r\n                    for (i = 0; i < this.k; ++i)\r\n                        x[i][v] += rd[i];\r\n                }\r\n                var l = Math.sqrt(sd2);\r\n                var D = this.D[u][v];\r\n                var weight = this.G != null ? this.G[u][v] : 1;\r\n                if (weight > 1 && l > D || !isFinite(D)) {\r\n                    for (i = 0; i < this.k; ++i)\r\n                        this.H[i][u][v] = 0;\r\n                    continue;\r\n                }\r\n                if (weight > 1) {\r\n                    weight = 1;\r\n                }\r\n                var D2 = D * D;\r\n                var gs = 2 * weight * (l - D) / (D2 * l);\r\n                var l3 = l * l * l;\r\n                var hs = 2 * -weight / (D2 * l3);\r\n                if (!isFinite(gs))\r\n                    console.log(gs);\r\n                for (i = 0; i < this.k; ++i) {\r\n                    this.g[i][u] += d[i] * gs;\r\n                    Huu[i] -= this.H[i][u][v] = hs * (l3 + D * (d2[i] - sd2) + l * sd2);\r\n                }\r\n            }\r\n            for (i = 0; i < this.k; ++i)\r\n                maxH = Math.max(maxH, this.H[i][u][u] = Huu[i]);\r\n        }\r\n        var r = this.snapGridSize / 2;\r\n        var g = this.snapGridSize;\r\n        var w = this.snapStrength;\r\n        var k = w / (r * r);\r\n        var numNodes = this.numGridSnapNodes;\r\n        for (var u = 0; u < numNodes; ++u) {\r\n            for (i = 0; i < this.k; ++i) {\r\n                var xiu = this.x[i][u];\r\n                var m = xiu / g;\r\n                var f = m % 1;\r\n                var q = m - f;\r\n                var a = Math.abs(f);\r\n                var dx = (a <= 0.5) ? xiu - q * g :\r\n                    (xiu > 0) ? xiu - (q + 1) * g : xiu - (q - 1) * g;\r\n                if (-r < dx && dx <= r) {\r\n                    if (this.scaleSnapByMaxH) {\r\n                        this.g[i][u] += maxH * k * dx;\r\n                        this.H[i][u][u] += maxH * k;\r\n                    }\r\n                    else {\r\n                        this.g[i][u] += k * dx;\r\n                        this.H[i][u][u] += k;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!this.locks.isEmpty()) {\r\n            this.locks.apply(function (u, p) {\r\n                for (i = 0; i < _this.k; ++i) {\r\n                    _this.H[i][u][u] += maxH;\r\n                    _this.g[i][u] -= maxH * (p[i] - x[i][u]);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Descent.dotProd = function (a, b) {\r\n        var x = 0, i = a.length;\r\n        while (i--)\r\n            x += a[i] * b[i];\r\n        return x;\r\n    };\r\n    Descent.rightMultiply = function (m, v, r) {\r\n        var i = m.length;\r\n        while (i--)\r\n            r[i] = Descent.dotProd(m[i], v);\r\n    };\r\n    Descent.prototype.computeStepSize = function (d) {\r\n        var numerator = 0, denominator = 0;\r\n        for (var i = 0; i < this.k; ++i) {\r\n            numerator += Descent.dotProd(this.g[i], d[i]);\r\n            Descent.rightMultiply(this.H[i], d[i], this.Hd[i]);\r\n            denominator += Descent.dotProd(d[i], this.Hd[i]);\r\n        }\r\n        if (denominator === 0 || !isFinite(denominator))\r\n            return 0;\r\n        return 1 * numerator / denominator;\r\n    };\r\n    Descent.prototype.reduceStress = function () {\r\n        this.computeDerivatives(this.x);\r\n        var alpha = this.computeStepSize(this.g);\r\n        for (var i = 0; i < this.k; ++i) {\r\n            this.takeDescentStep(this.x[i], this.g[i], alpha);\r\n        }\r\n        return this.computeStress();\r\n    };\r\n    Descent.copy = function (a, b) {\r\n        var m = a.length, n = b[0].length;\r\n        for (var i = 0; i < m; ++i) {\r\n            for (var j = 0; j < n; ++j) {\r\n                b[i][j] = a[i][j];\r\n            }\r\n        }\r\n    };\r\n    Descent.prototype.stepAndProject = function (x0, r, d, stepSize) {\r\n        Descent.copy(x0, r);\r\n        this.takeDescentStep(r[0], d[0], stepSize);\r\n        if (this.project)\r\n            this.project[0](x0[0], x0[1], r[0]);\r\n        this.takeDescentStep(r[1], d[1], stepSize);\r\n        if (this.project)\r\n            this.project[1](r[0], x0[1], r[1]);\r\n        for (var i = 2; i < this.k; i++)\r\n            this.takeDescentStep(r[i], d[i], stepSize);\r\n    };\r\n    Descent.mApply = function (m, n, f) {\r\n        var i = m;\r\n        while (i-- > 0) {\r\n            var j = n;\r\n            while (j-- > 0)\r\n                f(i, j);\r\n        }\r\n    };\r\n    Descent.prototype.matrixApply = function (f) {\r\n        Descent.mApply(this.k, this.n, f);\r\n    };\r\n    Descent.prototype.computeNextPosition = function (x0, r) {\r\n        var _this = this;\r\n        this.computeDerivatives(x0);\r\n        var alpha = this.computeStepSize(this.g);\r\n        this.stepAndProject(x0, r, this.g, alpha);\r\n        if (this.project) {\r\n            this.matrixApply(function (i, j) { return _this.e[i][j] = x0[i][j] - r[i][j]; });\r\n            var beta = this.computeStepSize(this.e);\r\n            beta = Math.max(0.2, Math.min(beta, 1));\r\n            this.stepAndProject(x0, r, this.e, beta);\r\n        }\r\n    };\r\n    Descent.prototype.run = function (iterations) {\r\n        var stress = Number.MAX_VALUE, converged = false;\r\n        while (!converged && iterations-- > 0) {\r\n            var s = this.rungeKutta();\r\n            converged = Math.abs(stress / s - 1) < this.threshold;\r\n            stress = s;\r\n        }\r\n        return stress;\r\n    };\r\n    Descent.prototype.rungeKutta = function () {\r\n        var _this = this;\r\n        this.computeNextPosition(this.x, this.a);\r\n        Descent.mid(this.x, this.a, this.ia);\r\n        this.computeNextPosition(this.ia, this.b);\r\n        Descent.mid(this.x, this.b, this.ib);\r\n        this.computeNextPosition(this.ib, this.c);\r\n        this.computeNextPosition(this.c, this.d);\r\n        var disp = 0;\r\n        this.matrixApply(function (i, j) {\r\n            var x = (_this.a[i][j] + 2.0 * _this.b[i][j] + 2.0 * _this.c[i][j] + _this.d[i][j]) / 6.0, d = _this.x[i][j] - x;\r\n            disp += d * d;\r\n            _this.x[i][j] = x;\r\n        });\r\n        return disp;\r\n    };\r\n    Descent.mid = function (a, b, m) {\r\n        Descent.mApply(a.length, a[0].length, function (i, j) {\r\n            return m[i][j] = a[i][j] + (b[i][j] - a[i][j]) / 2.0;\r\n        });\r\n    };\r\n    Descent.prototype.takeDescentStep = function (x, d, stepSize) {\r\n        for (var i = 0; i < this.n; ++i) {\r\n            x[i] = x[i] - stepSize * d[i];\r\n        }\r\n    };\r\n    Descent.prototype.computeStress = function () {\r\n        var stress = 0;\r\n        for (var u = 0, nMinus1 = this.n - 1; u < nMinus1; ++u) {\r\n            for (var v = u + 1, n = this.n; v < n; ++v) {\r\n                var l = 0;\r\n                for (var i = 0; i < this.k; ++i) {\r\n                    var dx = this.x[i][u] - this.x[i][v];\r\n                    l += dx * dx;\r\n                }\r\n                l = Math.sqrt(l);\r\n                var d = this.D[u][v];\r\n                if (!isFinite(d))\r\n                    continue;\r\n                var rl = d - l;\r\n                var d2 = d * d;\r\n                stress += rl * rl / d2;\r\n            }\r\n        }\r\n        return stress;\r\n    };\r\n    Descent.zeroDistance = 1e-10;\r\n    return Descent;\r\n}());\r\nexports.Descent = Descent;\r\nvar PseudoRandom = (function () {\r\n    function PseudoRandom(seed) {\r\n        if (seed === void 0) { seed = 1; }\r\n        this.seed = seed;\r\n        this.a = 214013;\r\n        this.c = 2531011;\r\n        this.m = 2147483648;\r\n        this.range = 32767;\r\n    }\r\n    PseudoRandom.prototype.getNext = function () {\r\n        this.seed = (this.seed * this.a + this.c) % this.m;\r\n        return (this.seed >> 16) / this.range;\r\n    };\r\n    PseudoRandom.prototype.getNextBetween = function (min, max) {\r\n        return min + this.getNext() * (max - min);\r\n    };\r\n    return PseudoRandom;\r\n}());\r\nexports.PseudoRandom = PseudoRandom;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzY2VudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2Rlc2NlbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFJSTtJQUFBO1FBQ0ksVUFBSyxHQUE2QixFQUFFLENBQUM7SUFvQ3pDLENBQUM7SUE3QkcsbUJBQUcsR0FBSCxVQUFJLEVBQVUsRUFBRSxDQUFXO1FBSXZCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFJRCxxQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUtELHVCQUFPLEdBQVA7UUFDSSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDdkMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUtELHFCQUFLLEdBQUwsVUFBTSxDQUFvQztRQUN0QyxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDdEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBQ0wsWUFBQztBQUFELENBQUMsQUFyQ0QsSUFxQ0M7QUFyQ1ksc0JBQUs7QUFpRGxCO0lBNkRJLGlCQUFZLENBQWEsRUFBUyxDQUFhLEVBQVMsQ0FBbUI7UUFBbkIsa0JBQUEsRUFBQSxRQUFtQjtRQUF6QyxNQUFDLEdBQUQsQ0FBQyxDQUFZO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBa0I7UUE1RHBFLGNBQVMsR0FBVyxNQUFNLENBQUM7UUEyQzNCLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUM3QixpQkFBWSxHQUFXLEdBQUcsQ0FBQztRQUMzQixpQkFBWSxHQUFXLElBQUksQ0FBQztRQUM1QixvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUVoQyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUU3QixZQUFPLEdBQTBELElBQUksQ0FBQztRQVd6RSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2IsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDTixPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDWixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7aUJBQ2pCO2FBQ0o7U0FDSjtRQUNELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsU0FBUztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ2xELENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1gsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ04sT0FBTyxDQUFDLEVBQUUsRUFBRTtnQkFDUixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQy9CO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRWEsMEJBQWtCLEdBQWhDLFVBQWlDLENBQVMsRUFBRSxDQUFtQztRQUMzRSxJQUFJLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3hCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxF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QUFDO29CQUMxQixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2pEO2dCQUNELElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUNyQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNqRCxTQUFTO2lCQUNaO2dCQUNELElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFDWixNQUFNLEdBQUcsQ0FBQyxDQUFDO2lCQUNkO2dCQUNELElBQUksRUFBRSxHQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZCLElBQUksRUFBRSxHQUFXLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pELElBQUksRUFBRSxHQUFHLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PositionStats = (function () {\r\n    function PositionStats(scale) {\r\n        this.scale = scale;\r\n        this.AB = 0;\r\n        this.AD = 0;\r\n        this.A2 = 0;\r\n    }\r\n    PositionStats.prototype.addVariable = function (v) {\r\n        var ai = this.scale / v.scale;\r\n        var bi = v.offset / v.scale;\r\n        var wi = v.weight;\r\n        this.AB += wi * ai * bi;\r\n        this.AD += wi * ai * v.desiredPosition;\r\n        this.A2 += wi * ai * ai;\r\n    };\r\n    PositionStats.prototype.getPosn = function () {\r\n        return (this.AD - this.AB) / this.A2;\r\n    };\r\n    return PositionStats;\r\n}());\r\nexports.PositionStats = PositionStats;\r\nvar Constraint = (function () {\r\n    function Constraint(left, right, gap, equality) {\r\n        if (equality === void 0) { equality = false; }\r\n        this.left = left;\r\n        this.right = right;\r\n        this.gap = gap;\r\n        this.equality = equality;\r\n        this.active = false;\r\n        this.unsatisfiable = false;\r\n        this.left = left;\r\n        this.right = right;\r\n        this.gap = gap;\r\n        this.equality = equality;\r\n    }\r\n    Constraint.prototype.slack = function () {\r\n        return this.unsatisfiable ? Number.MAX_VALUE\r\n            : this.right.scale * this.right.position() - this.gap\r\n                - this.left.scale * this.left.position();\r\n    };\r\n    return Constraint;\r\n}());\r\nexports.Constraint = Constraint;\r\nvar Variable = (function () {\r\n    function Variable(desiredPosition, weight, scale) {\r\n        if (weight === void 0) { weight = 1; }\r\n        if (scale === void 0) { scale = 1; }\r\n        this.desiredPosition = desiredPosition;\r\n        this.weight = weight;\r\n        this.scale = scale;\r\n        this.offset = 0;\r\n    }\r\n    Variable.prototype.dfdv = function () {\r\n        return 2.0 * this.weight * (this.position() - this.desiredPosition);\r\n    };\r\n    Variable.prototype.position = function () {\r\n        return (this.block.ps.scale * this.block.posn + this.offset) / this.scale;\r\n    };\r\n    Variable.prototype.visitNeighbours = function (prev, f) {\r\n        var ff = function (c, next) { return c.active && prev !== next && f(c, next); };\r\n        this.cOut.forEach(function (c) { return ff(c, c.right); });\r\n        this.cIn.forEach(function (c) { return ff(c, c.left); });\r\n    };\r\n    return Variable;\r\n}());\r\nexports.Variable = Variable;\r\nvar Block = (function () {\r\n    function Block(v) {\r\n        this.vars = [];\r\n        v.offset = 0;\r\n        this.ps = new PositionStats(v.scale);\r\n        this.addVariable(v);\r\n    }\r\n    Block.prototype.addVariable = function (v) {\r\n        v.block = this;\r\n        this.vars.push(v);\r\n        this.ps.addVariable(v);\r\n        this.posn = this.ps.getPosn();\r\n    };\r\n    Block.prototype.updateWeightedPosition = function () {\r\n        this.ps.AB = this.ps.AD = this.ps.A2 = 0;\r\n        for (var i = 0, n = this.vars.length; i < n; ++i)\r\n            this.ps.addVariable(this.vars[i]);\r\n        this.posn = this.ps.getPosn();\r\n    };\r\n    Block.prototype.compute_lm = function (v, u, postAction) {\r\n        var _this = this;\r\n        var dfdv = v.dfdv();\r\n        v.visitNeighbours(u, function (c, next) {\r\n            var _dfdv = _this.compute_lm(next, v, postAction);\r\n            if (next === c.right) {\r\n                dfdv += _dfdv * c.left.scale;\r\n                c.lm = _dfdv;\r\n            }\r\n            else {\r\n                dfdv += _dfdv * c.right.scale;\r\n                c.lm = -_dfdv;\r\n            }\r\n            postAction(c);\r\n        });\r\n        return dfdv / v.scale;\r\n    };\r\n    Block.prototype.populateSplitBlock = function (v, prev) {\r\n        var _this = this;\r\n        v.visitNeighbours(prev, function (c, next) {\r\n            next.offset = v.offset + (next === c.right ? c.gap : -c.gap);\r\n            _this.addVariable(next);\r\n            _this.populateSplitBlock(next, v);\r\n        });\r\n    };\r\n    Block.prototype.traverse = function (visit, acc, v, prev) {\r\n        var _this = this;\r\n        if (v === void 0) { v = this.vars[0]; }\r\n        if (prev === void 0) { prev = null; }\r\n        v.visitNeighbours(prev, function (c, next) {\r\n            acc.push(visit(c));\r\n            _this.traverse(visit, acc, next, v);\r\n        });\r\n    };\r\n    Block.prototype.findMinLM = function () {\r\n        var m = null;\r\n        this.compute_lm(this.vars[0], null, function (c) {\r\n            if (!c.equality && (m === null || c.lm < m.lm))\r\n                m = c;\r\n        });\r\n        return m;\r\n    };\r\n    Block.prototype.findMinLMBetween = function (lv, rv) {\r\n        this.compute_lm(lv, null, function () { });\r\n        var m = null;\r\n        this.findPath(lv, null, rv, function (c, next) {\r\n            if (!c.equality && c.right === next && (m === null || c.lm < m.lm))\r\n                m = c;\r\n        });\r\n        return m;\r\n    };\r\n    Block.prototype.findPath = function (v, prev, to, visit) {\r\n        var _this = this;\r\n        var endFound = false;\r\n        v.visitNeighbours(prev, function (c, next) {\r\n            if (!endFound && (next === to || _this.findPath(next, v, to, visit))) {\r\n                endFound = true;\r\n                visit(c, next);\r\n            }\r\n        });\r\n        return endFound;\r\n    };\r\n    Block.prototype.isActiveDirectedPathBetween = function (u, v) {\r\n        if (u === v)\r\n            return true;\r\n        var i = u.cOut.length;\r\n        while (i--) {\r\n            var c = u.cOut[i];\r\n            if (c.active && this.isActiveDirectedPathBetween(c.right, v))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    Block.split = function (c) {\r\n        c.active = false;\r\n        return [Block.createSplitBlock(c.left), Block.createSplitBlock(c.right)];\r\n    };\r\n    Block.createSplitBlock = function (startVar) {\r\n        var b = new Block(startVar);\r\n        b.populateSplitBlock(startVar, null);\r\n        return b;\r\n    };\r\n    Block.prototype.splitBetween = function (vl, vr) {\r\n        var c = this.findMinLMBetween(vl, vr);\r\n        if (c !== null) {\r\n            var bs = Block.split(c);\r\n            return { constraint: c, lb: bs[0], rb: bs[1] };\r\n        }\r\n        return null;\r\n    };\r\n    Block.prototype.mergeAcross = function (b, c, dist) {\r\n        c.active = true;\r\n        for (var i = 0, n = b.vars.length; i < n; ++i) {\r\n            var v = b.vars[i];\r\n            v.offset += dist;\r\n            this.addVariable(v);\r\n        }\r\n        this.posn = this.ps.getPosn();\r\n    };\r\n    Block.prototype.cost = function () {\r\n        var sum = 0, i = this.vars.length;\r\n        while (i--) {\r\n            var v = this.vars[i], d = v.position() - v.desiredPosition;\r\n            sum += d * d * v.weight;\r\n        }\r\n        return sum;\r\n    };\r\n    return Block;\r\n}());\r\nexports.Block = Block;\r\nvar Blocks = (function () {\r\n    function Blocks(vs) {\r\n        this.vs = vs;\r\n        var n = vs.length;\r\n        this.list = new Array(n);\r\n        while (n--) {\r\n            var b = new Block(vs[n]);\r\n            this.list[n] = b;\r\n            b.blockInd = n;\r\n        }\r\n    }\r\n    Blocks.prototype.cost = function () {\r\n        var sum = 0, i = this.list.length;\r\n        while (i--)\r\n            sum += this.list[i].cost();\r\n        return sum;\r\n    };\r\n    Blocks.prototype.insert = function (b) {\r\n        b.blockInd = this.list.length;\r\n        this.list.push(b);\r\n    };\r\n    Blocks.prototype.remove = function (b) {\r\n        var last = this.list.length - 1;\r\n        var swapBlock = this.list[last];\r\n        this.list.length = last;\r\n        if (b !== swapBlock) {\r\n            this.list[b.blockInd] = swapBlock;\r\n            swapBlock.blockInd = b.blockInd;\r\n        }\r\n    };\r\n    Blocks.prototype.merge = function (c) {\r\n        var l = c.left.block, r = c.right.block;\r\n        var dist = c.right.offset - c.left.offset - c.gap;\r\n        if (l.vars.length < r.vars.length) {\r\n            r.mergeAcross(l, c, dist);\r\n            this.remove(l);\r\n        }\r\n        else {\r\n            l.mergeAcross(r, c, -dist);\r\n            this.remove(r);\r\n        }\r\n    };\r\n    Blocks.prototype.forEach = function (f) {\r\n        this.list.forEach(f);\r\n    };\r\n    Blocks.prototype.updateBlockPositions = function () {\r\n        this.list.forEach(function (b) { return b.updateWeightedPosition(); });\r\n    };\r\n    Blocks.prototype.split = function (inactive) {\r\n        var _this = this;\r\n        this.updateBlockPositions();\r\n        this.list.forEach(function (b) {\r\n            var v = b.findMinLM();\r\n            if (v !== null && v.lm < Solver.LAGRANGIAN_TOLERANCE) {\r\n                b = v.left.block;\r\n                Block.split(v).forEach(function (nb) { return _this.insert(nb); });\r\n                _this.remove(b);\r\n                inactive.push(v);\r\n            }\r\n        });\r\n    };\r\n    return Blocks;\r\n}());\r\nexports.Blocks = Blocks;\r\nvar Solver = (function () {\r\n    function Solver(vs, cs) {\r\n        this.vs = vs;\r\n        this.cs = cs;\r\n        this.vs = vs;\r\n        vs.forEach(function (v) {\r\n            v.cIn = [], v.cOut = [];\r\n        });\r\n        this.cs = cs;\r\n        cs.forEach(function (c) {\r\n            c.left.cOut.push(c);\r\n            c.right.cIn.push(c);\r\n        });\r\n        this.inactive = cs.map(function (c) { c.active = false; return c; });\r\n        this.bs = null;\r\n    }\r\n    Solver.prototype.cost = function () {\r\n        return this.bs.cost();\r\n    };\r\n    Solver.prototype.setStartingPositions = function (ps) {\r\n        this.inactive = this.cs.map(function (c) { c.active = false; return c; });\r\n        this.bs = new Blocks(this.vs);\r\n        this.bs.forEach(function (b, i) { return b.posn = ps[i]; });\r\n    };\r\n    Solver.prototype.setDesiredPositions = function (ps) {\r\n        this.vs.forEach(function (v, i) { return v.desiredPosition = ps[i]; });\r\n    };\r\n    Solver.prototype.mostViolated = function () {\r\n        var minSlack = Number.MAX_VALUE, v = null, l = this.inactive, n = l.length, deletePoint = n;\r\n        for (var i = 0; i < n; ++i) {\r\n            var c = l[i];\r\n            if (c.unsatisfiable)\r\n                continue;\r\n            var slack = c.slack();\r\n            if (c.equality || slack < minSlack) {\r\n                minSlack = slack;\r\n                v = c;\r\n                deletePoint = i;\r\n                if (c.equality)\r\n                    break;\r\n            }\r\n        }\r\n        if (deletePoint !== n &&\r\n            (minSlack < Solver.ZERO_UPPERBOUND && !v.active || v.equality)) {\r\n            l[deletePoint] = l[n - 1];\r\n            l.length = n - 1;\r\n        }\r\n        return v;\r\n    };\r\n    Solver.prototype.satisfy = function () {\r\n        if (this.bs == null) {\r\n            this.bs = new Blocks(this.vs);\r\n        }\r\n        this.bs.split(this.inactive);\r\n        var v = null;\r\n        while ((v = this.mostViolated()) && (v.equality || v.slack() < Solver.ZERO_UPPERBOUND && !v.active)) {\r\n            var lb = v.left.block, rb = v.right.block;\r\n            if (lb !== rb) {\r\n                this.bs.merge(v);\r\n            }\r\n            else {\r\n                if (lb.isActiveDirectedPathBetween(v.right, v.left)) {\r\n                    v.unsatisfiable = true;\r\n                    continue;\r\n                }\r\n                var split = lb.splitBetween(v.left, v.right);\r\n                if (split !== null) {\r\n                    this.bs.insert(split.lb);\r\n                    this.bs.insert(split.rb);\r\n                    this.bs.remove(lb);\r\n                    this.inactive.push(split.constraint);\r\n                }\r\n                else {\r\n                    v.unsatisfiable = true;\r\n                    continue;\r\n                }\r\n                if (v.slack() >= 0) {\r\n                    this.inactive.push(v);\r\n                }\r\n                else {\r\n                    this.bs.merge(v);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Solver.prototype.solve = function () {\r\n        this.satisfy();\r\n        var lastcost = Number.MAX_VALUE, cost = this.bs.cost();\r\n        while (Math.abs(lastcost - cost) > 0.0001) {\r\n            this.satisfy();\r\n            lastcost = cost;\r\n            cost = this.bs.cost();\r\n        }\r\n        return cost;\r\n    };\r\n    Solver.LAGRANGIAN_TOLERANCE = -1e-4;\r\n    Solver.ZERO_UPPERBOUND = -1e-10;\r\n    return Solver;\r\n}());\r\nexports.Solver = Solver;\r\nfunction removeOverlapInOneDimension(spans, lowerBound, upperBound) {\r\n    var vs = spans.map(function (s) { return new Variable(s.desiredCenter); });\r\n    var cs = [];\r\n    var n = spans.length;\r\n    for (var i = 0; i < n - 1; i++) {\r\n        var left = spans[i], right = spans[i + 1];\r\n        cs.push(new Constraint(vs[i], vs[i + 1], (left.size + right.size) / 2));\r\n    }\r\n    var leftMost = vs[0], rightMost = vs[n - 1], leftMostSize = spans[0].size / 2, rightMostSize = spans[n - 1].size / 2;\r\n    var vLower = null, vUpper = null;\r\n    if (lowerBound) {\r\n        vLower = new Variable(lowerBound, leftMost.weight * 1000);\r\n        vs.push(vLower);\r\n        cs.push(new Constraint(vLower, leftMost, leftMostSize));\r\n    }\r\n    if (upperBound) {\r\n        vUpper = new Variable(upperBound, rightMost.weight * 1000);\r\n        vs.push(vUpper);\r\n        cs.push(new Constraint(rightMost, vUpper, rightMostSize));\r\n    }\r\n    var solver = new Solver(vs, cs);\r\n    solver.solve();\r\n    return {\r\n        newCenters: vs.slice(0, spans.length).map(function (v) { return v.position(); }),\r\n        lowerBound: vLower ? vLower.position() : leftMost.position() - leftMostSize,\r\n        upperBound: vUpper ? vUpper.position() : rightMost.position() + rightMostSize\r\n    };\r\n}\r\nexports.removeOverlapInOneDimension = removeOverlapInOneDimension;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnBzYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL3Zwc2MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBSTtJQUtJLHVCQUFtQixLQUFhO1FBQWIsVUFBSyxHQUFMLEtBQUssQ0FBUTtRQUpoQyxPQUFFLEdBQVcsQ0FBQyxDQUFDO1FBQ2YsT0FBRSxHQUFXLENBQUMsQ0FBQztRQUNmLE9BQUUsR0FBVyxDQUFDLENBQUM7SUFFb0IsQ0FBQztJQUVwQyxtQ0FBVyxHQUFYLFVBQVksQ0FBVztRQUNuQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDOUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzVCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDbEIsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQztRQUN2QyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCwrQkFBTyxHQUFQO1FBQ0ksT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDekMsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0FBQyxBQW5CRCxJQW1CQztBQW5CWSxzQ0FBYTtBQXFCMUI7SUFLSSxvQkFBbUIsSUFBYyxFQUFTLEtBQWUsRUFBUyxHQUFXLEVBQVMsUUFBeUI7UUFBekIseUJBQUEsRUFBQSxnQkFBeUI7UUFBNUYsU0FBSSxHQUFKLElBQUksQ0FBVTtRQUFTLFVBQUssR0FBTCxLQUFL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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PowerEdge = (function () {\r\n    function PowerEdge(source, target, type) {\r\n        this.source = source;\r\n        this.target = target;\r\n        this.type = type;\r\n    }\r\n    return PowerEdge;\r\n}());\r\nexports.PowerEdge = PowerEdge;\r\nvar Configuration = (function () {\r\n    function Configuration(n, edges, linkAccessor, rootGroup) {\r\n        var _this = this;\r\n        this.linkAccessor = linkAccessor;\r\n        this.modules = new Array(n);\r\n        this.roots = [];\r\n        if (rootGroup) {\r\n            this.initModulesFromGroup(rootGroup);\r\n        }\r\n        else {\r\n            this.roots.push(new ModuleSet());\r\n            for (var i = 0; i < n; ++i)\r\n                this.roots[0].add(this.modules[i] = new Module(i));\r\n        }\r\n        this.R = edges.length;\r\n        edges.forEach(function (e) {\r\n            var s = _this.modules[linkAccessor.getSourceIndex(e)], t = _this.modules[linkAccessor.getTargetIndex(e)], type = linkAccessor.getType(e);\r\n            s.outgoing.add(type, t);\r\n            t.incoming.add(type, s);\r\n        });\r\n    }\r\n    Configuration.prototype.initModulesFromGroup = function (group) {\r\n        var moduleSet = new ModuleSet();\r\n        this.roots.push(moduleSet);\r\n        for (var i = 0; i < group.leaves.length; ++i) {\r\n            var node = group.leaves[i];\r\n            var module = new Module(node.id);\r\n            this.modules[node.id] = module;\r\n            moduleSet.add(module);\r\n        }\r\n        if (group.groups) {\r\n            for (var j = 0; j < group.groups.length; ++j) {\r\n                var child = group.groups[j];\r\n                var definition = {};\r\n                for (var prop in child)\r\n                    if (prop !== \"leaves\" && prop !== \"groups\" && child.hasOwnProperty(prop))\r\n                        definition[prop] = child[prop];\r\n                moduleSet.add(new Module(-1 - j, new LinkSets(), new LinkSets(), this.initModulesFromGroup(child), definition));\r\n            }\r\n        }\r\n        return moduleSet;\r\n    };\r\n    Configuration.prototype.merge = function (a, b, k) {\r\n        if (k === void 0) { k = 0; }\r\n        var inInt = a.incoming.intersection(b.incoming), outInt = a.outgoing.intersection(b.outgoing);\r\n        var children = new ModuleSet();\r\n        children.add(a);\r\n        children.add(b);\r\n        var m = new Module(this.modules.length, outInt, inInt, children);\r\n        this.modules.push(m);\r\n        var update = function (s, i, o) {\r\n            s.forAll(function (ms, linktype) {\r\n                ms.forAll(function (n) {\r\n                    var nls = n[i];\r\n                    nls.add(linktype, m);\r\n                    nls.remove(linktype, a);\r\n                    nls.remove(linktype, b);\r\n                    a[o].remove(linktype, n);\r\n                    b[o].remove(linktype, n);\r\n                });\r\n            });\r\n        };\r\n        update(outInt, \"incoming\", \"outgoing\");\r\n        update(inInt, \"outgoing\", \"incoming\");\r\n        this.R -= inInt.count() + outInt.count();\r\n        this.roots[k].remove(a);\r\n        this.roots[k].remove(b);\r\n        this.roots[k].add(m);\r\n        return m;\r\n    };\r\n    Configuration.prototype.rootMerges = function (k) {\r\n        if (k === void 0) { k = 0; }\r\n        var rs = this.roots[k].modules();\r\n        var n = rs.length;\r\n        var merges = new Array(n * (n - 1));\r\n        var ctr = 0;\r\n        for (var i = 0, i_ = n - 1; i < i_; ++i) {\r\n            for (var j = i + 1; j < n; ++j) {\r\n                var a = rs[i], b = rs[j];\r\n                merges[ctr] = { id: ctr, nEdges: this.nEdges(a, b), a: a, b: b };\r\n                ctr++;\r\n            }\r\n        }\r\n        return merges;\r\n    };\r\n    Configuration.prototype.greedyMerge = function () {\r\n        for (var i = 0; i < this.roots.length; ++i) {\r\n            if (this.roots[i].modules().length < 2)\r\n                continue;\r\n            var ms = this.rootMerges(i).sort(function (a, b) { return a.nEdges == b.nEdges ? a.id - b.id : a.nEdges - b.nEdges; });\r\n            var m = ms[0];\r\n            if (m.nEdges >= this.R)\r\n                continue;\r\n            this.merge(m.a, m.b, i);\r\n            return true;\r\n        }\r\n    };\r\n    Configuration.prototype.nEdges = function (a, b) {\r\n        var inInt = a.incoming.intersection(b.incoming), outInt = a.outgoing.intersection(b.outgoing);\r\n        return this.R - inInt.count() - outInt.count();\r\n    };\r\n    Configuration.prototype.getGroupHierarchy = function (retargetedEdges) {\r\n        var _this = this;\r\n        var groups = [];\r\n        var root = {};\r\n        toGroups(this.roots[0], root, groups);\r\n        var es = this.allEdges();\r\n        es.forEach(function (e) {\r\n            var a = _this.modules[e.source];\r\n            var b = _this.modules[e.target];\r\n            retargetedEdges.push(new PowerEdge(typeof a.gid === \"undefined\" ? e.source : groups[a.gid], typeof b.gid === \"undefined\" ? e.target : groups[b.gid], e.type));\r\n        });\r\n        return groups;\r\n    };\r\n    Configuration.prototype.allEdges = function () {\r\n        var es = [];\r\n        Configuration.getEdges(this.roots[0], es);\r\n        return es;\r\n    };\r\n    Configuration.getEdges = function (modules, es) {\r\n        modules.forAll(function (m) {\r\n            m.getEdges(es);\r\n            Configuration.getEdges(m.children, es);\r\n        });\r\n    };\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\nfunction toGroups(modules, group, groups) {\r\n    modules.forAll(function (m) {\r\n        if (m.isLeaf()) {\r\n            if (!group.leaves)\r\n                group.leaves = [];\r\n            group.leaves.push(m.id);\r\n        }\r\n        else {\r\n            var g = group;\r\n            m.gid = groups.length;\r\n            if (!m.isIsland() || m.isPredefined()) {\r\n                g = { id: m.gid };\r\n                if (m.isPredefined())\r\n                    for (var prop in m.definition)\r\n                        g[prop] = m.definition[prop];\r\n                if (!group.groups)\r\n                    group.groups = [];\r\n                group.groups.push(m.gid);\r\n                groups.push(g);\r\n            }\r\n            toGroups(m.children, g, groups);\r\n        }\r\n    });\r\n}\r\nvar Module = (function () {\r\n    function Module(id, outgoing, incoming, children, definition) {\r\n        if (outgoing === void 0) { outgoing = new LinkSets(); }\r\n        if (incoming === void 0) { incoming = new LinkSets(); }\r\n        if (children === void 0) { children = new ModuleSet(); }\r\n        this.id = id;\r\n        this.outgoing = outgoing;\r\n        this.incoming = incoming;\r\n        this.children = children;\r\n        this.definition = definition;\r\n    }\r\n    Module.prototype.getEdges = function (es) {\r\n        var _this = this;\r\n        this.outgoing.forAll(function (ms, edgetype) {\r\n            ms.forAll(function (target) {\r\n                es.push(new PowerEdge(_this.id, target.id, edgetype));\r\n            });\r\n        });\r\n    };\r\n    Module.prototype.isLeaf = function () {\r\n        return this.children.count() === 0;\r\n    };\r\n    Module.prototype.isIsland = function () {\r\n        return this.outgoing.count() === 0 && this.incoming.count() === 0;\r\n    };\r\n    Module.prototype.isPredefined = function () {\r\n        return typeof this.definition !== \"undefined\";\r\n    };\r\n    return Module;\r\n}());\r\nexports.Module = Module;\r\nfunction intersection(m, n) {\r\n    var i = {};\r\n    for (var v in m)\r\n        if (v in n)\r\n            i[v] = m[v];\r\n    return i;\r\n}\r\nvar ModuleSet = (function () {\r\n    function ModuleSet() {\r\n        this.table = {};\r\n    }\r\n    ModuleSet.prototype.count = function () {\r\n        return Object.keys(this.table).length;\r\n    };\r\n    ModuleSet.prototype.intersection = function (other) {\r\n        var result = new ModuleSet();\r\n        result.table = intersection(this.table, other.table);\r\n        return result;\r\n    };\r\n    ModuleSet.prototype.intersectionCount = function (other) {\r\n        return this.intersection(other).count();\r\n    };\r\n    ModuleSet.prototype.contains = function (id) {\r\n        return id in this.table;\r\n    };\r\n    ModuleSet.prototype.add = function (m) {\r\n        this.table[m.id] = m;\r\n    };\r\n    ModuleSet.prototype.remove = function (m) {\r\n        delete this.table[m.id];\r\n    };\r\n    ModuleSet.prototype.forAll = function (f) {\r\n        for (var mid in this.table) {\r\n            f(this.table[mid]);\r\n        }\r\n    };\r\n    ModuleSet.prototype.modules = function () {\r\n        var vs = [];\r\n        this.forAll(function (m) {\r\n            if (!m.isPredefined())\r\n                vs.push(m);\r\n        });\r\n        return vs;\r\n    };\r\n    return ModuleSet;\r\n}());\r\nexports.ModuleSet = ModuleSet;\r\nvar LinkSets = (function () {\r\n    function LinkSets() {\r\n        this.sets = {};\r\n        this.n = 0;\r\n    }\r\n    LinkSets.prototype.count = function () {\r\n        return this.n;\r\n    };\r\n    LinkSets.prototype.contains = function (id) {\r\n        var result = false;\r\n        this.forAllModules(function (m) {\r\n            if (!result && m.id == id) {\r\n                result = true;\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    LinkSets.prototype.add = function (linktype, m) {\r\n        var s = linktype in this.sets ? this.sets[linktype] : this.sets[linktype] = new ModuleSet();\r\n        s.add(m);\r\n        ++this.n;\r\n    };\r\n    LinkSets.prototype.remove = function (linktype, m) {\r\n        var ms = this.sets[linktype];\r\n        ms.remove(m);\r\n        if (ms.count() === 0) {\r\n            delete this.sets[linktype];\r\n        }\r\n        --this.n;\r\n    };\r\n    LinkSets.prototype.forAll = function (f) {\r\n        for (var linktype in this.sets) {\r\n            f(this.sets[linktype], Number(linktype));\r\n        }\r\n    };\r\n    LinkSets.prototype.forAllModules = function (f) {\r\n        this.forAll(function (ms, lt) { return ms.forAll(f); });\r\n    };\r\n    LinkSets.prototype.intersection = function (other) {\r\n        var result = new LinkSets();\r\n        this.forAll(function (ms, lt) {\r\n            if (lt in other.sets) {\r\n                var i = ms.intersection(other.sets[lt]), n = i.count();\r\n                if (n > 0) {\r\n                    result.sets[lt] = i;\r\n                    result.n += n;\r\n                }\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    return LinkSets;\r\n}());\r\nexports.LinkSets = LinkSets;\r\nfunction intersectionCount(m, n) {\r\n    return Object.keys(intersection(m, n)).length;\r\n}\r\nfunction getGroups(nodes, links, la, rootGroup) {\r\n    var n = nodes.length, c = new Configuration(n, links, la, rootGroup);\r\n    while (c.greedyMerge())\r\n        ;\r\n    var powerEdges = [];\r\n    var g = c.getGroupHierarchy(powerEdges);\r\n    powerEdges.forEach(function (e) {\r\n        var f = function (end) {\r\n            var g = e[end];\r\n            if (typeof g == \"number\")\r\n                e[end] = nodes[g];\r\n        };\r\n        f(\"source\");\r\n        f(\"target\");\r\n    });\r\n    return { groups: g, powerEdges: powerEdges };\r\n}\r\nexports.getGroups = getGroups;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG93ZXJncmFwaC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL3Bvd2VyZ3JhcGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFPSTtJQUNJLG1CQUNXLE1BQVcsRUFDWCxNQUFXLEVBQ1gsSUFBWTtRQUZaLFdBQU0sR0FBTixNQUFNLENBQUs7UUFDWCxXQUFNLEdBQU4sTUFBTSxDQUFLO1FBQ1gsU0FBSSxHQUFKLElBQUksQ0FBUTtJQUFJLENBQUM7SUFDaEMsZ0JBQUM7QUFBRCxDQUFDLEFBTEQsSUFLQztBQUxZLDhCQUFTO0FBT3RCO0lBU0ksdUJBQVksQ0FBUyxFQUFFLEtBQWEsRUFBVSxZQUFvQyxFQUFFLFNBQWlCO1FBQXJHLGlCQWtCQztRQWxCNkMsaUJBQVksR0FBWixZQUFZLENBQXdCO1FBQzlFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxTQUFTLEVBQUU7WUFDWCxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNILElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsQ0FBQztZQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQ3RCLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1lBQ1gsSUFBSSxD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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TreeBase = (function () {\r\n    function TreeBase() {\r\n        this.findIter = function (data) {\r\n            var res = this._root;\r\n            var iter = this.iterator();\r\n            while (res !== null) {\r\n                var c = this._comparator(data, res.data);\r\n                if (c === 0) {\r\n                    iter._cursor = res;\r\n                    return iter;\r\n                }\r\n                else {\r\n                    iter._ancestors.push(res);\r\n                    res = res.get_child(c > 0);\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n    TreeBase.prototype.clear = function () {\r\n        this._root = null;\r\n        this.size = 0;\r\n    };\r\n    ;\r\n    TreeBase.prototype.find = function (data) {\r\n        var res = this._root;\r\n        while (res !== null) {\r\n            var c = this._comparator(data, res.data);\r\n            if (c === 0) {\r\n                return res.data;\r\n            }\r\n            else {\r\n                res = res.get_child(c > 0);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ;\r\n    TreeBase.prototype.lowerBound = function (data) {\r\n        return this._bound(data, this._comparator);\r\n    };\r\n    ;\r\n    TreeBase.prototype.upperBound = function (data) {\r\n        var cmp = this._comparator;\r\n        function reverse_cmp(a, b) {\r\n            return cmp(b, a);\r\n        }\r\n        return this._bound(data, reverse_cmp);\r\n    };\r\n    ;\r\n    TreeBase.prototype.min = function () {\r\n        var res = this._root;\r\n        if (res === null) {\r\n            return null;\r\n        }\r\n        while (res.left !== null) {\r\n            res = res.left;\r\n        }\r\n        return res.data;\r\n    };\r\n    ;\r\n    TreeBase.prototype.max = function () {\r\n        var res = this._root;\r\n        if (res === null) {\r\n            return null;\r\n        }\r\n        while (res.right !== null) {\r\n            res = res.right;\r\n        }\r\n        return res.data;\r\n    };\r\n    ;\r\n    TreeBase.prototype.iterator = function () {\r\n        return new Iterator(this);\r\n    };\r\n    ;\r\n    TreeBase.prototype.each = function (cb) {\r\n        var it = this.iterator(), data;\r\n        while ((data = it.next()) !== null) {\r\n            cb(data);\r\n        }\r\n    };\r\n    ;\r\n    TreeBase.prototype.reach = function (cb) {\r\n        var it = this.iterator(), data;\r\n        while ((data = it.prev()) !== null) {\r\n            cb(data);\r\n        }\r\n    };\r\n    ;\r\n    TreeBase.prototype._bound = function (data, cmp) {\r\n        var cur = this._root;\r\n        var iter = this.iterator();\r\n        while (cur !== null) {\r\n            var c = this._comparator(data, cur.data);\r\n            if (c === 0) {\r\n                iter._cursor = cur;\r\n                return iter;\r\n            }\r\n            iter._ancestors.push(cur);\r\n            cur = cur.get_child(c > 0);\r\n        }\r\n        for (var i = iter._ancestors.length - 1; i >= 0; --i) {\r\n            cur = iter._ancestors[i];\r\n            if (cmp(data, cur.data) > 0) {\r\n                iter._cursor = cur;\r\n                iter._ancestors.length = i;\r\n                return iter;\r\n            }\r\n        }\r\n        iter._ancestors.length = 0;\r\n        return iter;\r\n    };\r\n    ;\r\n    return TreeBase;\r\n}());\r\nexports.TreeBase = TreeBase;\r\nvar Iterator = (function () {\r\n    function Iterator(tree) {\r\n        this._tree = tree;\r\n        this._ancestors = [];\r\n        this._cursor = null;\r\n    }\r\n    Iterator.prototype.data = function () {\r\n        return this._cursor !== null ? this._cursor.data : null;\r\n    };\r\n    ;\r\n    Iterator.prototype.next = function () {\r\n        if (this._cursor === null) {\r\n            var root = this._tree._root;\r\n            if (root !== null) {\r\n                this._minNode(root);\r\n            }\r\n        }\r\n        else {\r\n            if (this._cursor.right === null) {\r\n                var save;\r\n                do {\r\n                    save = this._cursor;\r\n                    if (this._ancestors.length) {\r\n                        this._cursor = this._ancestors.pop();\r\n                    }\r\n                    else {\r\n                        this._cursor = null;\r\n                        break;\r\n                    }\r\n                } while (this._cursor.right === save);\r\n            }\r\n            else {\r\n                this._ancestors.push(this._cursor);\r\n                this._minNode(this._cursor.right);\r\n            }\r\n        }\r\n        return this._cursor !== null ? this._cursor.data : null;\r\n    };\r\n    ;\r\n    Iterator.prototype.prev = function () {\r\n        if (this._cursor === null) {\r\n            var root = this._tree._root;\r\n            if (root !== null) {\r\n                this._maxNode(root);\r\n            }\r\n        }\r\n        else {\r\n            if (this._cursor.left === null) {\r\n                var save;\r\n                do {\r\n                    save = this._cursor;\r\n                    if (this._ancestors.length) {\r\n                        this._cursor = this._ancestors.pop();\r\n                    }\r\n                    else {\r\n                        this._cursor = null;\r\n                        break;\r\n                    }\r\n                } while (this._cursor.left === save);\r\n            }\r\n            else {\r\n                this._ancestors.push(this._cursor);\r\n                this._maxNode(this._cursor.left);\r\n            }\r\n        }\r\n        return this._cursor !== null ? this._cursor.data : null;\r\n    };\r\n    ;\r\n    Iterator.prototype._minNode = function (start) {\r\n        while (start.left !== null) {\r\n            this._ancestors.push(start);\r\n            start = start.left;\r\n        }\r\n        this._cursor = start;\r\n    };\r\n    ;\r\n    Iterator.prototype._maxNode = function (start) {\r\n        while (start.right !== null) {\r\n            this._ancestors.push(start);\r\n            start = start.right;\r\n        }\r\n        this._cursor = start;\r\n    };\r\n    ;\r\n    return Iterator;\r\n}());\r\nexports.Iterator = Iterator;\r\nvar Node = (function () {\r\n    function Node(data) {\r\n        this.data = data;\r\n        this.left = null;\r\n        this.right = null;\r\n        this.red = true;\r\n    }\r\n    Node.prototype.get_child = function (dir) {\r\n        return dir ? this.right : this.left;\r\n    };\r\n    ;\r\n    Node.prototype.set_child = function (dir, val) {\r\n        if (dir) {\r\n            this.right = val;\r\n        }\r\n        else {\r\n            this.left = val;\r\n        }\r\n    };\r\n    ;\r\n    return Node;\r\n}());\r\nvar RBTree = (function (_super) {\r\n    __extends(RBTree, _super);\r\n    function RBTree(comparator) {\r\n        var _this = _super.call(this) || this;\r\n        _this._root = null;\r\n        _this._comparator = comparator;\r\n        _this.size = 0;\r\n        return _this;\r\n    }\r\n    RBTree.prototype.insert = function (data) {\r\n        var ret = false;\r\n        if (this._root === null) {\r\n            this._root = new Node(data);\r\n            ret = true;\r\n            this.size++;\r\n        }\r\n        else {\r\n            var head = new Node(undefined);\r\n            var dir = false;\r\n            var last = false;\r\n            var gp = null;\r\n            var ggp = head;\r\n            var p = null;\r\n            var node = this._root;\r\n            ggp.right = this._root;\r\n            while (true) {\r\n                if (node === null) {\r\n                    node = new Node(data);\r\n                    p.set_child(dir, node);\r\n                    ret = true;\r\n                    this.size++;\r\n                }\r\n                else if (RBTree.is_red(node.left) && RBTree.is_red(node.right)) {\r\n                    node.red = true;\r\n                    node.left.red = false;\r\n                    node.right.red = false;\r\n                }\r\n                if (RBTree.is_red(node) && RBTree.is_red(p)) {\r\n                    var dir2 = ggp.right === gp;\r\n                    if (node === p.get_child(last)) {\r\n                        ggp.set_child(dir2, RBTree.single_rotate(gp, !last));\r\n                    }\r\n                    else {\r\n                        ggp.set_child(dir2, RBTree.double_rotate(gp, !last));\r\n                    }\r\n                }\r\n                var cmp = this._comparator(node.data, data);\r\n                if (cmp === 0) {\r\n                    break;\r\n                }\r\n                last = dir;\r\n                dir = cmp < 0;\r\n                if (gp !== null) {\r\n                    ggp = gp;\r\n                }\r\n                gp = p;\r\n                p = node;\r\n                node = node.get_child(dir);\r\n            }\r\n            this._root = head.right;\r\n        }\r\n        this._root.red = false;\r\n        return ret;\r\n    };\r\n    ;\r\n    RBTree.prototype.remove = function (data) {\r\n        if (this._root === null) {\r\n            return false;\r\n        }\r\n        var head = new Node(undefined);\r\n        var node = head;\r\n        node.right = this._root;\r\n        var p = null;\r\n        var gp = null;\r\n        var found = null;\r\n        var dir = true;\r\n        while (node.get_child(dir) !== null) {\r\n            var last = dir;\r\n            gp = p;\r\n            p = node;\r\n            node = node.get_child(dir);\r\n            var cmp = this._comparator(data, node.data);\r\n            dir = cmp > 0;\r\n            if (cmp === 0) {\r\n                found = node;\r\n            }\r\n            if (!RBTree.is_red(node) && !RBTree.is_red(node.get_child(dir))) {\r\n                if (RBTree.is_red(node.get_child(!dir))) {\r\n                    var sr = RBTree.single_rotate(node, dir);\r\n                    p.set_child(last, sr);\r\n                    p = sr;\r\n                }\r\n                else if (!RBTree.is_red(node.get_child(!dir))) {\r\n                    var sibling = p.get_child(!last);\r\n                    if (sibling !== null) {\r\n                        if (!RBTree.is_red(sibling.get_child(!last)) && !RBTree.is_red(sibling.get_child(last))) {\r\n                            p.red = false;\r\n                            sibling.red = true;\r\n                            node.red = true;\r\n                        }\r\n                        else {\r\n                            var dir2 = gp.right === p;\r\n                            if (RBTree.is_red(sibling.get_child(last))) {\r\n                                gp.set_child(dir2, RBTree.double_rotate(p, last));\r\n                            }\r\n                            else if (RBTree.is_red(sibling.get_child(!last))) {\r\n                                gp.set_child(dir2, RBTree.single_rotate(p, last));\r\n                            }\r\n                            var gpc = gp.get_child(dir2);\r\n                            gpc.red = true;\r\n                            node.red = true;\r\n                            gpc.left.red = false;\r\n                            gpc.right.red = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (found !== null) {\r\n            found.data = node.data;\r\n            p.set_child(p.right === node, node.get_child(node.left === null));\r\n            this.size--;\r\n        }\r\n        this._root = head.right;\r\n        if (this._root !== null) {\r\n            this._root.red = false;\r\n        }\r\n        return found !== null;\r\n    };\r\n    ;\r\n    RBTree.is_red = function (node) {\r\n        return node !== null && node.red;\r\n    };\r\n    RBTree.single_rotate = function (root, dir) {\r\n        var save = root.get_child(!dir);\r\n        root.set_child(!dir, save.get_child(dir));\r\n        save.set_child(dir, root);\r\n        root.red = true;\r\n        save.red = false;\r\n        return save;\r\n    };\r\n    RBTree.double_rotate = function (root, dir) {\r\n        root.set_child(!dir, RBTree.single_rotate(root.get_child(!dir), !dir));\r\n        return RBTree.single_rotate(root, dir);\r\n    };\r\n    return RBTree;\r\n}(TreeBase));\r\nexports.RBTree = RBTree;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmJ0cmVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvcmJ0cmVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQXVCSTtJQUFBO1FBNEJJLGFBQVEsR0FBRyxVQUFVLElBQUk7WUFDckIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNyQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFM0IsT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFO2dCQUNqQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDVCxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztvQkFDbkIsT0FBTyxJQUFJLENBQUM7aUJBQ2Y7cUJBQ0k7b0JBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzFCLEdBQUcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDOUI7YUFDSjtZQUVELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztJQStGTixDQUFDO0lBdklHLHdCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBQUEsQ0FBQztJQUdGLHVCQUFJLEdBQUosVUFBSyxJQUFJO1FBQ0wsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUVyQixPQUFPLEdBQUcsS0FBSyxJQUFJLEVBQUU7WUFDakIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFD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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PairingHeap = (function () {\r\n    function PairingHeap(elem) {\r\n        this.elem = elem;\r\n        this.subheaps = [];\r\n    }\r\n    PairingHeap.prototype.toString = function (selector) {\r\n        var str = \"\", needComma = false;\r\n        for (var i = 0; i < this.subheaps.length; ++i) {\r\n            var subheap = this.subheaps[i];\r\n            if (!subheap.elem) {\r\n                needComma = false;\r\n                continue;\r\n            }\r\n            if (needComma) {\r\n                str = str + \",\";\r\n            }\r\n            str = str + subheap.toString(selector);\r\n            needComma = true;\r\n        }\r\n        if (str !== \"\") {\r\n            str = \"(\" + str + \")\";\r\n        }\r\n        return (this.elem ? selector(this.elem) : \"\") + str;\r\n    };\r\n    PairingHeap.prototype.forEach = function (f) {\r\n        if (!this.empty()) {\r\n            f(this.elem, this);\r\n            this.subheaps.forEach(function (s) { return s.forEach(f); });\r\n        }\r\n    };\r\n    PairingHeap.prototype.count = function () {\r\n        return this.empty() ? 0 : 1 + this.subheaps.reduce(function (n, h) {\r\n            return n + h.count();\r\n        }, 0);\r\n    };\r\n    PairingHeap.prototype.min = function () {\r\n        return this.elem;\r\n    };\r\n    PairingHeap.prototype.empty = function () {\r\n        return this.elem == null;\r\n    };\r\n    PairingHeap.prototype.contains = function (h) {\r\n        if (this === h)\r\n            return true;\r\n        for (var i = 0; i < this.subheaps.length; i++) {\r\n            if (this.subheaps[i].contains(h))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    PairingHeap.prototype.isHeap = function (lessThan) {\r\n        var _this = this;\r\n        return this.subheaps.every(function (h) { return lessThan(_this.elem, h.elem) && h.isHeap(lessThan); });\r\n    };\r\n    PairingHeap.prototype.insert = function (obj, lessThan) {\r\n        return this.merge(new PairingHeap(obj), lessThan);\r\n    };\r\n    PairingHeap.prototype.merge = function (heap2, lessThan) {\r\n        if (this.empty())\r\n            return heap2;\r\n        else if (heap2.empty())\r\n            return this;\r\n        else if (lessThan(this.elem, heap2.elem)) {\r\n            this.subheaps.push(heap2);\r\n            return this;\r\n        }\r\n        else {\r\n            heap2.subheaps.push(this);\r\n            return heap2;\r\n        }\r\n    };\r\n    PairingHeap.prototype.removeMin = function (lessThan) {\r\n        if (this.empty())\r\n            return null;\r\n        else\r\n            return this.mergePairs(lessThan);\r\n    };\r\n    PairingHeap.prototype.mergePairs = function (lessThan) {\r\n        if (this.subheaps.length == 0)\r\n            return new PairingHeap(null);\r\n        else if (this.subheaps.length == 1) {\r\n            return this.subheaps[0];\r\n        }\r\n        else {\r\n            var firstPair = this.subheaps.pop().merge(this.subheaps.pop(), lessThan);\r\n            var remaining = this.mergePairs(lessThan);\r\n            return firstPair.merge(remaining, lessThan);\r\n        }\r\n    };\r\n    PairingHeap.prototype.decreaseKey = function (subheap, newValue, setHeapNode, lessThan) {\r\n        var newHeap = subheap.removeMin(lessThan);\r\n        subheap.elem = newHeap.elem;\r\n        subheap.subheaps = newHeap.subheaps;\r\n        if (setHeapNode !== null && newHeap.elem !== null) {\r\n            setHeapNode(subheap.elem, subheap);\r\n        }\r\n        var pairingNode = new PairingHeap(newValue);\r\n        if (setHeapNode !== null) {\r\n            setHeapNode(newValue, pairingNode);\r\n        }\r\n        return this.merge(pairingNode, lessThan);\r\n    };\r\n    return PairingHeap;\r\n}());\r\nexports.PairingHeap = PairingHeap;\r\nvar PriorityQueue = (function () {\r\n    function PriorityQueue(lessThan) {\r\n        this.lessThan = lessThan;\r\n    }\r\n    PriorityQueue.prototype.top = function () {\r\n        if (this.empty()) {\r\n            return null;\r\n        }\r\n        return this.root.elem;\r\n    };\r\n    PriorityQueue.prototype.push = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var pairingNode;\r\n        for (var i = 0, arg; arg = args[i]; ++i) {\r\n            pairingNode = new PairingHeap(arg);\r\n            this.root = this.empty() ?\r\n                pairingNode : this.root.merge(pairingNode, this.lessThan);\r\n        }\r\n        return pairingNode;\r\n    };\r\n    PriorityQueue.prototype.empty = function () {\r\n        return !this.root || !this.root.elem;\r\n    };\r\n    PriorityQueue.prototype.isHeap = function () {\r\n        return this.root.isHeap(this.lessThan);\r\n    };\r\n    PriorityQueue.prototype.forEach = function (f) {\r\n        this.root.forEach(f);\r\n    };\r\n    PriorityQueue.prototype.pop = function () {\r\n        if (this.empty()) {\r\n            return null;\r\n        }\r\n        var obj = this.root.min();\r\n        this.root = this.root.removeMin(this.lessThan);\r\n        return obj;\r\n    };\r\n    PriorityQueue.prototype.reduceKey = function (heapNode, newKey, setHeapNode) {\r\n        if (setHeapNode === void 0) { setHeapNode = null; }\r\n        this.root = this.root.decreaseKey(heapNode, newKey, setHeapNode, this.lessThan);\r\n    };\r\n    PriorityQueue.prototype.toString = function (selector) {\r\n        return this.root.toString(selector);\r\n    };\r\n    PriorityQueue.prototype.count = function () {\r\n        return this.root.count();\r\n    };\r\n    return PriorityQueue;\r\n}());\r\nexports.PriorityQueue = PriorityQueue;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHF1ZXVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvcHF1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7SUFJSSxxQkFBbUIsSUFBTztRQUFQLFNBQUksR0FBSixJQUFJLENBQUc7UUFDdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVNLDhCQUFRLEdBQWYsVUFBZ0IsUUFBUTtRQUNwQixJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUUsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDM0MsSUFBSSxPQUFPLEdBQW1CLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7Z0JBQ2YsU0FBUyxHQUFHLEtBQUssQ0FBQztnQkFDbEIsU0FBUzthQUNaO1lBQ0QsSUFBSSxTQUFTLEVBQUU7Z0JBQ1gsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7YUFDbkI7WUFDRCxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsU0FBUyxHQUFHLElBQUksQ0FBQztTQUNwQjtRQUNELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUNaLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztTQUN6QjtRQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDeEQsQ0FBQztJQUVNLDZCQUFPLEdBQWQsVUFBZSxDQUFD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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar Point = (function () {\r\n    function Point() {\r\n    }\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\nvar LineSegment = (function () {\r\n    function LineSegment(x1, y1, x2, y2) {\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n    }\r\n    return LineSegment;\r\n}());\r\nexports.LineSegment = LineSegment;\r\nvar PolyPoint = (function (_super) {\r\n    __extends(PolyPoint, _super);\r\n    function PolyPoint() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return PolyPoint;\r\n}(Point));\r\nexports.PolyPoint = PolyPoint;\r\nfunction isLeft(P0, P1, P2) {\r\n    return (P1.x - P0.x) * (P2.y - P0.y) - (P2.x - P0.x) * (P1.y - P0.y);\r\n}\r\nexports.isLeft = isLeft;\r\nfunction above(p, vi, vj) {\r\n    return isLeft(p, vi, vj) > 0;\r\n}\r\nfunction below(p, vi, vj) {\r\n    return isLeft(p, vi, vj) < 0;\r\n}\r\nfunction ConvexHull(S) {\r\n    var P = S.slice(0).sort(function (a, b) { return a.x !== b.x ? b.x - a.x : b.y - a.y; });\r\n    var n = S.length, i;\r\n    var minmin = 0;\r\n    var xmin = P[0].x;\r\n    for (i = 1; i < n; ++i) {\r\n        if (P[i].x !== xmin)\r\n            break;\r\n    }\r\n    var minmax = i - 1;\r\n    var H = [];\r\n    H.push(P[minmin]);\r\n    if (minmax === n - 1) {\r\n        if (P[minmax].y !== P[minmin].y)\r\n            H.push(P[minmax]);\r\n    }\r\n    else {\r\n        var maxmin, maxmax = n - 1;\r\n        var xmax = P[n - 1].x;\r\n        for (i = n - 2; i >= 0; i--)\r\n            if (P[i].x !== xmax)\r\n                break;\r\n        maxmin = i + 1;\r\n        i = minmax;\r\n        while (++i <= maxmin) {\r\n            if (isLeft(P[minmin], P[maxmin], P[i]) >= 0 && i < maxmin)\r\n                continue;\r\n            while (H.length > 1) {\r\n                if (isLeft(H[H.length - 2], H[H.length - 1], P[i]) > 0)\r\n                    break;\r\n                else\r\n                    H.length -= 1;\r\n            }\r\n            if (i != minmin)\r\n                H.push(P[i]);\r\n        }\r\n        if (maxmax != maxmin)\r\n            H.push(P[maxmax]);\r\n        var bot = H.length;\r\n        i = maxmin;\r\n        while (--i >= minmax) {\r\n            if (isLeft(P[maxmax], P[minmax], P[i]) >= 0 && i > minmax)\r\n                continue;\r\n            while (H.length > bot) {\r\n                if (isLeft(H[H.length - 2], H[H.length - 1], P[i]) > 0)\r\n                    break;\r\n                else\r\n                    H.length -= 1;\r\n            }\r\n            if (i != minmin)\r\n                H.push(P[i]);\r\n        }\r\n    }\r\n    return H;\r\n}\r\nexports.ConvexHull = ConvexHull;\r\nfunction clockwiseRadialSweep(p, P, f) {\r\n    P.slice(0).sort(function (a, b) { return Math.atan2(a.y - p.y, a.x - p.x) - Math.atan2(b.y - p.y, b.x - p.x); }).forEach(f);\r\n}\r\nexports.clockwiseRadialSweep = clockwiseRadialSweep;\r\nfunction nextPolyPoint(p, ps) {\r\n    if (p.polyIndex === ps.length - 1)\r\n        return ps[0];\r\n    return ps[p.polyIndex + 1];\r\n}\r\nfunction prevPolyPoint(p, ps) {\r\n    if (p.polyIndex === 0)\r\n        return ps[ps.length - 1];\r\n    return ps[p.polyIndex - 1];\r\n}\r\nfunction tangent_PointPolyC(P, V) {\r\n    var Vclosed = V.slice(0);\r\n    Vclosed.push(V[0]);\r\n    return { rtan: Rtangent_PointPolyC(P, Vclosed), ltan: Ltangent_PointPolyC(P, Vclosed) };\r\n}\r\nfunction Rtangent_PointPolyC(P, V) {\r\n    var n = V.length - 1;\r\n    var a, b, c;\r\n    var upA, dnC;\r\n    if (below(P, V[1], V[0]) && !above(P, V[n - 1], V[0]))\r\n        return 0;\r\n    for (a = 0, b = n;;) {\r\n        if (b - a === 1)\r\n            if (above(P, V[a], V[b]))\r\n                return a;\r\n            else\r\n                return b;\r\n        c = Math.floor((a + b) / 2);\r\n        dnC = below(P, V[c + 1], V[c]);\r\n        if (dnC && !above(P, V[c - 1], V[c]))\r\n            return c;\r\n        upA = above(P, V[a + 1], V[a]);\r\n        if (upA) {\r\n            if (dnC)\r\n                b = c;\r\n            else {\r\n                if (above(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n        else {\r\n            if (!dnC)\r\n                a = c;\r\n            else {\r\n                if (below(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction Ltangent_PointPolyC(P, V) {\r\n    var n = V.length - 1;\r\n    var a, b, c;\r\n    var dnA, dnC;\r\n    if (above(P, V[n - 1], V[0]) && !below(P, V[1], V[0]))\r\n        return 0;\r\n    for (a = 0, b = n;;) {\r\n        if (b - a === 1)\r\n            if (below(P, V[a], V[b]))\r\n                return a;\r\n            else\r\n                return b;\r\n        c = Math.floor((a + b) / 2);\r\n        dnC = below(P, V[c + 1], V[c]);\r\n        if (above(P, V[c - 1], V[c]) && !dnC)\r\n            return c;\r\n        dnA = below(P, V[a + 1], V[a]);\r\n        if (dnA) {\r\n            if (!dnC)\r\n                b = c;\r\n            else {\r\n                if (below(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n        else {\r\n            if (dnC)\r\n                a = c;\r\n            else {\r\n                if (above(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction tangent_PolyPolyC(V, W, t1, t2, cmp1, cmp2) {\r\n    var ix1, ix2;\r\n    ix1 = t1(W[0], V);\r\n    ix2 = t2(V[ix1], W);\r\n    var done = false;\r\n    while (!done) {\r\n        done = true;\r\n        while (true) {\r\n            if (ix1 === V.length - 1)\r\n                ix1 = 0;\r\n            if (cmp1(W[ix2], V[ix1], V[ix1 + 1]))\r\n                break;\r\n            ++ix1;\r\n        }\r\n        while (true) {\r\n            if (ix2 === 0)\r\n                ix2 = W.length - 1;\r\n            if (cmp2(V[ix1], W[ix2], W[ix2 - 1]))\r\n                break;\r\n            --ix2;\r\n            done = false;\r\n        }\r\n    }\r\n    return { t1: ix1, t2: ix2 };\r\n}\r\nexports.tangent_PolyPolyC = tangent_PolyPolyC;\r\nfunction LRtangent_PolyPolyC(V, W) {\r\n    var rl = RLtangent_PolyPolyC(W, V);\r\n    return { t1: rl.t2, t2: rl.t1 };\r\n}\r\nexports.LRtangent_PolyPolyC = LRtangent_PolyPolyC;\r\nfunction RLtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Rtangent_PointPolyC, Ltangent_PointPolyC, above, below);\r\n}\r\nexports.RLtangent_PolyPolyC = RLtangent_PolyPolyC;\r\nfunction LLtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Ltangent_PointPolyC, Ltangent_PointPolyC, below, below);\r\n}\r\nexports.LLtangent_PolyPolyC = LLtangent_PolyPolyC;\r\nfunction RRtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Rtangent_PointPolyC, Rtangent_PointPolyC, above, above);\r\n}\r\nexports.RRtangent_PolyPolyC = RRtangent_PolyPolyC;\r\nvar BiTangent = (function () {\r\n    function BiTangent(t1, t2) {\r\n        this.t1 = t1;\r\n        this.t2 = t2;\r\n    }\r\n    return BiTangent;\r\n}());\r\nexports.BiTangent = BiTangent;\r\nvar BiTangents = (function () {\r\n    function BiTangents() {\r\n    }\r\n    return BiTangents;\r\n}());\r\nexports.BiTangents = BiTangents;\r\nvar TVGPoint = (function (_super) {\r\n    __extends(TVGPoint, _super);\r\n    function TVGPoint() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return TVGPoint;\r\n}(Point));\r\nexports.TVGPoint = TVGPoint;\r\nvar VisibilityVertex = (function () {\r\n    function VisibilityVertex(id, polyid, polyvertid, p) {\r\n        this.id = id;\r\n        this.polyid = polyid;\r\n        this.polyvertid = polyvertid;\r\n        this.p = p;\r\n        p.vv = this;\r\n    }\r\n    return VisibilityVertex;\r\n}());\r\nexports.VisibilityVertex = VisibilityVertex;\r\nvar VisibilityEdge = (function () {\r\n    function VisibilityEdge(source, target) {\r\n        this.source = source;\r\n        this.target = target;\r\n    }\r\n    VisibilityEdge.prototype.length = function () {\r\n        var dx = this.source.p.x - this.target.p.x;\r\n        var dy = this.source.p.y - this.target.p.y;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    };\r\n    return VisibilityEdge;\r\n}());\r\nexports.VisibilityEdge = VisibilityEdge;\r\nvar TangentVisibilityGraph = (function () {\r\n    function TangentVisibilityGraph(P, g0) {\r\n        this.P = P;\r\n        this.V = [];\r\n        this.E = [];\r\n        if (!g0) {\r\n            var n = P.length;\r\n            for (var i = 0; i < n; i++) {\r\n                var p = P[i];\r\n                for (var j = 0; j < p.length; ++j) {\r\n                    var pj = p[j], vv = new VisibilityVertex(this.V.length, i, j, pj);\r\n                    this.V.push(vv);\r\n                    if (j > 0)\r\n                        this.E.push(new VisibilityEdge(p[j - 1].vv, vv));\r\n                }\r\n                if (p.length > 1)\r\n                    this.E.push(new VisibilityEdge(p[0].vv, p[p.length - 1].vv));\r\n            }\r\n            for (var i = 0; i < n - 1; i++) {\r\n                var Pi = P[i];\r\n                for (var j = i + 1; j < n; j++) {\r\n                    var Pj = P[j], t = tangents(Pi, Pj);\r\n                    for (var q in t) {\r\n                        var c = t[q], source = Pi[c.t1], target = Pj[c.t2];\r\n                        this.addEdgeIfVisible(source, target, i, j);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.V = g0.V.slice(0);\r\n            this.E = g0.E.slice(0);\r\n        }\r\n    }\r\n    TangentVisibilityGraph.prototype.addEdgeIfVisible = function (u, v, i1, i2) {\r\n        if (!this.intersectsPolys(new LineSegment(u.x, u.y, v.x, v.y), i1, i2)) {\r\n            this.E.push(new VisibilityEdge(u.vv, v.vv));\r\n        }\r\n    };\r\n    TangentVisibilityGraph.prototype.addPoint = function (p, i1) {\r\n        var n = this.P.length;\r\n        this.V.push(new VisibilityVertex(this.V.length, n, 0, p));\r\n        for (var i = 0; i < n; ++i) {\r\n            if (i === i1)\r\n                continue;\r\n            var poly = this.P[i], t = tangent_PointPolyC(p, poly);\r\n            this.addEdgeIfVisible(p, poly[t.ltan], i1, i);\r\n            this.addEdgeIfVisible(p, poly[t.rtan], i1, i);\r\n        }\r\n        return p.vv;\r\n    };\r\n    TangentVisibilityGraph.prototype.intersectsPolys = function (l, i1, i2) {\r\n        for (var i = 0, n = this.P.length; i < n; ++i) {\r\n            if (i != i1 && i != i2 && intersects(l, this.P[i]).length > 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return TangentVisibilityGraph;\r\n}());\r\nexports.TangentVisibilityGraph = TangentVisibilityGraph;\r\nfunction intersects(l, P) {\r\n    var ints = [];\r\n    for (var i = 1, n = P.length; i < n; ++i) {\r\n        var int = rectangle_1.Rectangle.lineIntersection(l.x1, l.y1, l.x2, l.y2, P[i - 1].x, P[i - 1].y, P[i].x, P[i].y);\r\n        if (int)\r\n            ints.push(int);\r\n    }\r\n    return ints;\r\n}\r\nfunction tangents(V, W) {\r\n    var m = V.length - 1, n = W.length - 1;\r\n    var bt = new BiTangents();\r\n    for (var i = 0; i < m; ++i) {\r\n        for (var j = 0; j < n; ++j) {\r\n            var v1 = V[i == 0 ? m - 1 : i - 1];\r\n            var v2 = V[i];\r\n            var v3 = V[i + 1];\r\n            var w1 = W[j == 0 ? n - 1 : j - 1];\r\n            var w2 = W[j];\r\n            var w3 = W[j + 1];\r\n            var v1v2w2 = isLeft(v1, v2, w2);\r\n            var v2w1w2 = isLeft(v2, w1, w2);\r\n            var v2w2w3 = isLeft(v2, w2, w3);\r\n            var w1w2v2 = isLeft(w1, w2, v2);\r\n            var w2v1v2 = isLeft(w2, v1, v2);\r\n            var w2v2v3 = isLeft(w2, v2, v3);\r\n            if (v1v2w2 >= 0 && v2w1w2 >= 0 && v2w2w3 < 0\r\n                && w1w2v2 >= 0 && w2v1v2 >= 0 && w2v2v3 < 0) {\r\n                bt.ll = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 <= 0 && v2w1w2 <= 0 && v2w2w3 > 0\r\n                && w1w2v2 <= 0 && w2v1v2 <= 0 && w2v2v3 > 0) {\r\n                bt.rr = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 <= 0 && v2w1w2 > 0 && v2w2w3 <= 0\r\n                && w1w2v2 >= 0 && w2v1v2 < 0 && w2v2v3 >= 0) {\r\n                bt.rl = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 >= 0 && v2w1w2 < 0 && v2w2w3 >= 0\r\n                && w1w2v2 <= 0 && w2v1v2 > 0 && w2v2v3 <= 0) {\r\n                bt.lr = new BiTangent(i, j);\r\n            }\r\n        }\r\n    }\r\n    return bt;\r\n}\r\nexports.tangents = tangents;\r\nfunction isPointInsidePoly(p, poly) {\r\n    for (var i = 1, n = poly.length; i < n; ++i)\r\n        if (below(poly[i - 1], poly[i], p))\r\n            return false;\r\n    return true;\r\n}\r\nfunction isAnyPInQ(p, q) {\r\n    return !p.every(function (v) { return !isPointInsidePoly(v, q); });\r\n}\r\nfunction polysOverlap(p, q) {\r\n    if (isAnyPInQ(p, q))\r\n        return true;\r\n    if (isAnyPInQ(q, p))\r\n        return true;\r\n    for (var i = 1, n = p.length; i < n; ++i) {\r\n        var v = p[i], u = p[i - 1];\r\n        if (intersects(new LineSegment(u.x, u.y, v.x, v.y), q).length > 0)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nexports.polysOverlap = polysOverlap;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VvbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2dlb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUNBQXFDO0FBQ2pDO0lBQUE7SUFHQSxDQUFDO0lBQUQsWUFBQztBQUFELENBQUMsQUFIRCxJQUdDO0FBSFksc0JBQUs7QUFLbEI7SUFDSSxxQkFBbUIsRUFBVSxFQUFTLEVBQVUsRUFBUyxFQUFVLEVBQVMsRUFBVTtRQUFuRSxPQUFFLEdBQUYsRUFBRSxDQUFRO1FBQVMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUFTLE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxPQUFFLEdBQUYsRUFBRSxDQUFRO0lBQUksQ0FBQztJQUMvRixrQkFBQztBQUFELENBQUMsQUFGRCxJQUVDO0FBRlksa0NBQVc7QUFJeEI7SUFBK0IsNkJBQUs7SUFBcEM7O0lBRUEsQ0FBQztJQUFELGdCQUFDO0FBQUQsQ0FBQyxBQUZELENBQStCLEtBQUssR0FFbkM7QUFGWSw4QkFBUztBQVV0QixTQUFnQixNQUFNLENBQUMsRUFBUyxFQUFFLEVBQVMsRUFBRSxFQUFTO0lBQ2xELE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRkQsd0JBRUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxDQUFRLEVBQUUsRUFBUyxFQUFFLEVBQVM7SUFDekMsT0FBTyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUVE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SSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFHckIsSUFBSSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsQ0FBQztJQUNwQyxJQUFJLEdBQVksRUFBRSxHQUFZLENBQUM7SUFJL0IsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsT0FBTyxDQUFDLENBQUM7SUFFYixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUNYLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixPQUFPLENBQUMsQ0FBQzs7Z0JBRVQsT0FBTyxDQUFDLENBQUM7UUFFakIsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsT0FBTyxDQUFDLENBQUM7UUFJYixHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar packingOptions = {\r\n    PADDING: 10,\r\n    GOLDEN_SECTION: (1 + Math.sqrt(5)) / 2,\r\n    FLOAT_EPSILON: 0.0001,\r\n    MAX_INERATIONS: 100\r\n};\r\nfunction applyPacking(graphs, w, h, node_size, desired_ratio, centerGraph) {\r\n    if (desired_ratio === void 0) { desired_ratio = 1; }\r\n    if (centerGraph === void 0) { centerGraph = true; }\r\n    var init_x = 0, init_y = 0, svg_width = w, svg_height = h, desired_ratio = typeof desired_ratio !== 'undefined' ? desired_ratio : 1, node_size = typeof node_size !== 'undefined' ? node_size : 0, real_width = 0, real_height = 0, min_width = 0, global_bottom = 0, line = [];\r\n    if (graphs.length == 0)\r\n        return;\r\n    calculate_bb(graphs);\r\n    apply(graphs, desired_ratio);\r\n    if (centerGraph) {\r\n        put_nodes_to_right_positions(graphs);\r\n    }\r\n    function calculate_bb(graphs) {\r\n        graphs.forEach(function (g) {\r\n            calculate_single_bb(g);\r\n        });\r\n        function calculate_single_bb(graph) {\r\n            var min_x = Number.MAX_VALUE, min_y = Number.MAX_VALUE, max_x = 0, max_y = 0;\r\n            graph.array.forEach(function (v) {\r\n                var w = typeof v.width !== 'undefined' ? v.width : node_size;\r\n                var h = typeof v.height !== 'undefined' ? v.height : node_size;\r\n                w /= 2;\r\n                h /= 2;\r\n                max_x = Math.max(v.x + w, max_x);\r\n                min_x = Math.min(v.x - w, min_x);\r\n                max_y = Math.max(v.y + h, max_y);\r\n                min_y = Math.min(v.y - h, min_y);\r\n            });\r\n            graph.width = max_x - min_x;\r\n            graph.height = max_y - min_y;\r\n        }\r\n    }\r\n    function put_nodes_to_right_positions(graphs) {\r\n        graphs.forEach(function (g) {\r\n            var center = { x: 0, y: 0 };\r\n            g.array.forEach(function (node) {\r\n                center.x += node.x;\r\n                center.y += node.y;\r\n            });\r\n            center.x /= g.array.length;\r\n            center.y /= g.array.length;\r\n            var corner = { x: center.x - g.width / 2, y: center.y - g.height / 2 };\r\n            var offset = { x: g.x - corner.x + svg_width / 2 - real_width / 2, y: g.y - corner.y + svg_height / 2 - real_height / 2 };\r\n            g.array.forEach(function (node) {\r\n                node.x += offset.x;\r\n                node.y += offset.y;\r\n            });\r\n        });\r\n    }\r\n    function apply(data, desired_ratio) {\r\n        var curr_best_f = Number.POSITIVE_INFINITY;\r\n        var curr_best = 0;\r\n        data.sort(function (a, b) { return b.height - a.height; });\r\n        min_width = data.reduce(function (a, b) {\r\n            return a.width < b.width ? a.width : b.width;\r\n        });\r\n        var left = x1 = min_width;\r\n        var right = x2 = get_entire_width(data);\r\n        var iterationCounter = 0;\r\n        var f_x1 = Number.MAX_VALUE;\r\n        var f_x2 = Number.MAX_VALUE;\r\n        var flag = -1;\r\n        var dx = Number.MAX_VALUE;\r\n        var df = Number.MAX_VALUE;\r\n        while ((dx > min_width) || df > packingOptions.FLOAT_EPSILON) {\r\n            if (flag != 1) {\r\n                var x1 = right - (right - left) / packingOptions.GOLDEN_SECTION;\r\n                var f_x1 = step(data, x1);\r\n            }\r\n            if (flag != 0) {\r\n                var x2 = left + (right - left) / packingOptions.GOLDEN_SECTION;\r\n                var f_x2 = step(data, x2);\r\n            }\r\n            dx = Math.abs(x1 - x2);\r\n            df = Math.abs(f_x1 - f_x2);\r\n            if (f_x1 < curr_best_f) {\r\n                curr_best_f = f_x1;\r\n                curr_best = x1;\r\n            }\r\n            if (f_x2 < curr_best_f) {\r\n                curr_best_f = f_x2;\r\n                curr_best = x2;\r\n            }\r\n            if (f_x1 > f_x2) {\r\n                left = x1;\r\n                x1 = x2;\r\n                f_x1 = f_x2;\r\n                flag = 1;\r\n            }\r\n            else {\r\n                right = x2;\r\n                x2 = x1;\r\n                f_x2 = f_x1;\r\n                flag = 0;\r\n            }\r\n            if (iterationCounter++ > 100) {\r\n                break;\r\n            }\r\n        }\r\n        step(data, curr_best);\r\n    }\r\n    function step(data, max_width) {\r\n        line = [];\r\n        real_width = 0;\r\n        real_height = 0;\r\n        global_bottom = init_y;\r\n        for (var i = 0; i < data.length; i++) {\r\n            var o = data[i];\r\n            put_rect(o, max_width);\r\n        }\r\n        return Math.abs(get_real_ratio() - desired_ratio);\r\n    }\r\n    function put_rect(rect, max_width) {\r\n        var parent = undefined;\r\n        for (var i = 0; i < line.length; i++) {\r\n            if ((line[i].space_left >= rect.height) && (line[i].x + line[i].width + rect.width + packingOptions.PADDING - max_width) <= packingOptions.FLOAT_EPSILON) {\r\n                parent = line[i];\r\n                break;\r\n            }\r\n        }\r\n        line.push(rect);\r\n        if (parent !== undefined) {\r\n            rect.x = parent.x + parent.width + packingOptions.PADDING;\r\n            rect.y = parent.bottom;\r\n            rect.space_left = rect.height;\r\n            rect.bottom = rect.y;\r\n            parent.space_left -= rect.height + packingOptions.PADDING;\r\n            parent.bottom += rect.height + packingOptions.PADDING;\r\n        }\r\n        else {\r\n            rect.y = global_bottom;\r\n            global_bottom += rect.height + packingOptions.PADDING;\r\n            rect.x = init_x;\r\n            rect.bottom = rect.y;\r\n            rect.space_left = rect.height;\r\n        }\r\n        if (rect.y + rect.height - real_height > -packingOptions.FLOAT_EPSILON)\r\n            real_height = rect.y + rect.height - init_y;\r\n        if (rect.x + rect.width - real_width > -packingOptions.FLOAT_EPSILON)\r\n            real_width = rect.x + rect.width - init_x;\r\n    }\r\n    ;\r\n    function get_entire_width(data) {\r\n        var width = 0;\r\n        data.forEach(function (d) { return width += d.width + packingOptions.PADDING; });\r\n        return width;\r\n    }\r\n    function get_real_ratio() {\r\n        return (real_width / real_height);\r\n    }\r\n}\r\nexports.applyPacking = applyPacking;\r\nfunction separateGraphs(nodes, links) {\r\n    var marks = {};\r\n    var ways = {};\r\n    var graphs = [];\r\n    var clusters = 0;\r\n    for (var i = 0; i < links.length; i++) {\r\n        var link = links[i];\r\n        var n1 = link.source;\r\n        var n2 = link.target;\r\n        if (ways[n1.index])\r\n            ways[n1.index].push(n2);\r\n        else\r\n            ways[n1.index] = [n2];\r\n        if (ways[n2.index])\r\n            ways[n2.index].push(n1);\r\n        else\r\n            ways[n2.index] = [n1];\r\n    }\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        if (marks[node.index])\r\n            continue;\r\n        explore_node(node, true);\r\n    }\r\n    function explore_node(n, is_new) {\r\n        if (marks[n.index] !== undefined)\r\n            return;\r\n        if (is_new) {\r\n            clusters++;\r\n            graphs.push({ array: [] });\r\n        }\r\n        marks[n.index] = clusters;\r\n        graphs[clusters - 1].array.push(n);\r\n        var adjacent = ways[n.index];\r\n        if (!adjacent)\r\n            return;\r\n        for (var j = 0; j < adjacent.length; j++) {\r\n            explore_node(adjacent[j], false);\r\n        }\r\n    }\r\n    return graphs;\r\n}\r\nexports.separateGraphs = separateGraphs;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlZGlzY29ubmVjdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvaGFuZGxlZGlzY29ubmVjdGVkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUksSUFBSSxjQUFjLEdBQUc7SUFDakIsT0FBTyxFQUFFLEVBQUU7SUFDWCxjQUFjLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDdEMsYUFBYSxFQUFFLE1BQU07SUFDckIsY0FBYyxFQUFFLEdBQUc7Q0FDdEIsQ0FBQztBQUdGLFNBQWdCLFlBQVksQ0FBQyxNQUFpQixFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLGFBQWlCLEVBQUUsV0FBa0I7SUFBckMsOEJBQUEsRUFBQSxpQkFBaUI7SUFBRSw0QkFBQSxFQUFBLGtCQUFrQjtJQUVsRyxJQUFJLE1BQU0sR0FBRyxDQUFDLEVBQ1YsTUFBTSxHQUFHLENBQUMsRUFFVixTQUFTLEdBQUcsQ0FBQyxFQUNiLFVBQVUsR0FBRyxDQUFDLEVBRWQsYUFBYSxHQUFHLE9BQU8sYUFBYSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ3hFLFNBQVMsR0FBRyxPQUFPLFNBQVMsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUU1RCxVQUFVLEdBQUcsQ0FBQyxFQUNkLFdBQVcsR0FBRyxDQUFDLEVBQ2YsU0FBUyxHQUFHLENBQUMsRUFFYixhQUFhLEdBQUcsQ0FBQyxFQUNqQixJQUFJLEdBQUcsRUFBRSxDQUFDO0lBRWQsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUM7UUFDbEIsT0FBTztJQVVYLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQixLQUFLLENBQUMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzdCLElBQUcsV0FBVyxFQUFFO1FBQ1osNEJBQTRCLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDeEM7SUFHRCxTQUFTLFlBQVksQ0FBQyxNQUFNO1FBRXhCLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQ3RCLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzFCLENBQUMsQ0FBQyxDQUFDO1FBRUgsU0FBUyxtQkFBbUIsQ0FBQyxLQUFLO1lBQzlCLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQ2xELEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUV6QixLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7Z0JBQzNCLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztnQkFDN0QsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUMvRCxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNQLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2pDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNqQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDakMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDckMsQ0FBQyxDQUFDLENBQUM7WUFFSCxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDNUIsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLENBQUM7SUFDTCxDQUFDO0lBdUNELFNBQVMsNEJBQTRCLENBQUMsTUFBTTtRQUN4QyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUV0QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBRTVCLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSTtnQkFDMUIsTUFBTSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdkIsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFHM0IsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3ZFLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLEdBQUcsQ0FBQyxHQUFHLFVBQVUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar vpsc_1 = require(\"./vpsc\");\r\nvar shortestpaths_1 = require(\"./shortestpaths\");\r\nvar NodeWrapper = (function () {\r\n    function NodeWrapper(id, rect, children) {\r\n        this.id = id;\r\n        this.rect = rect;\r\n        this.children = children;\r\n        this.leaf = typeof children === 'undefined' || children.length === 0;\r\n    }\r\n    return NodeWrapper;\r\n}());\r\nexports.NodeWrapper = NodeWrapper;\r\nvar Vert = (function () {\r\n    function Vert(id, x, y, node, line) {\r\n        if (node === void 0) { node = null; }\r\n        if (line === void 0) { line = null; }\r\n        this.id = id;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.node = node;\r\n        this.line = line;\r\n    }\r\n    return Vert;\r\n}());\r\nexports.Vert = Vert;\r\nvar LongestCommonSubsequence = (function () {\r\n    function LongestCommonSubsequence(s, t) {\r\n        this.s = s;\r\n        this.t = t;\r\n        var mf = LongestCommonSubsequence.findMatch(s, t);\r\n        var tr = t.slice(0).reverse();\r\n        var mr = LongestCommonSubsequence.findMatch(s, tr);\r\n        if (mf.length >= mr.length) {\r\n            this.length = mf.length;\r\n            this.si = mf.si;\r\n            this.ti = mf.ti;\r\n            this.reversed = false;\r\n        }\r\n        else {\r\n            this.length = mr.length;\r\n            this.si = mr.si;\r\n            this.ti = t.length - mr.ti - mr.length;\r\n            this.reversed = true;\r\n        }\r\n    }\r\n    LongestCommonSubsequence.findMatch = function (s, t) {\r\n        var m = s.length;\r\n        var n = t.length;\r\n        var match = { length: 0, si: -1, ti: -1 };\r\n        var l = new Array(m);\r\n        for (var i = 0; i < m; i++) {\r\n            l[i] = new Array(n);\r\n            for (var j = 0; j < n; j++)\r\n                if (s[i] === t[j]) {\r\n                    var v = l[i][j] = (i === 0 || j === 0) ? 1 : l[i - 1][j - 1] + 1;\r\n                    if (v > match.length) {\r\n                        match.length = v;\r\n                        match.si = i - v + 1;\r\n                        match.ti = j - v + 1;\r\n                    }\r\n                    ;\r\n                }\r\n                else\r\n                    l[i][j] = 0;\r\n        }\r\n        return match;\r\n    };\r\n    LongestCommonSubsequence.prototype.getSequence = function () {\r\n        return this.length >= 0 ? this.s.slice(this.si, this.si + this.length) : [];\r\n    };\r\n    return LongestCommonSubsequence;\r\n}());\r\nexports.LongestCommonSubsequence = LongestCommonSubsequence;\r\nvar GridRouter = (function () {\r\n    function GridRouter(originalnodes, accessor, groupPadding) {\r\n        var _this = this;\r\n        if (groupPadding === void 0) { groupPadding = 12; }\r\n        this.originalnodes = originalnodes;\r\n        this.groupPadding = groupPadding;\r\n        this.leaves = null;\r\n        this.nodes = originalnodes.map(function (v, i) { return new NodeWrapper(i, accessor.getBounds(v), accessor.getChildren(v)); });\r\n        this.leaves = this.nodes.filter(function (v) { return v.leaf; });\r\n        this.groups = this.nodes.filter(function (g) { return !g.leaf; });\r\n        this.cols = this.getGridLines('x');\r\n        this.rows = this.getGridLines('y');\r\n        this.groups.forEach(function (v) {\r\n            return v.children.forEach(function (c) { return _this.nodes[c].parent = v; });\r\n        });\r\n        this.root = { children: [] };\r\n        this.nodes.forEach(function (v) {\r\n            if (typeof v.parent === 'undefined') {\r\n                v.parent = _this.root;\r\n                _this.root.children.push(v.id);\r\n            }\r\n            v.ports = [];\r\n        });\r\n        this.backToFront = this.nodes.slice(0);\r\n        this.backToFront.sort(function (x, y) { return _this.getDepth(x) - _this.getDepth(y); });\r\n        var frontToBackGroups = this.backToFront.slice(0).reverse().filter(function (g) { return !g.leaf; });\r\n        frontToBackGroups.forEach(function (v) {\r\n            var r = rectangle_1.Rectangle.empty();\r\n            v.children.forEach(function (c) { return r = r.union(_this.nodes[c].rect); });\r\n            v.rect = r.inflate(_this.groupPadding);\r\n        });\r\n        var colMids = this.midPoints(this.cols.map(function (r) { return r.pos; }));\r\n        var rowMids = this.midPoints(this.rows.map(function (r) { return r.pos; }));\r\n        var rowx = colMids[0], rowX = colMids[colMids.length - 1];\r\n        var coly = rowMids[0], colY = rowMids[rowMids.length - 1];\r\n        var hlines = this.rows.map(function (r) { return ({ x1: rowx, x2: rowX, y1: r.pos, y2: r.pos }); })\r\n            .concat(rowMids.map(function (m) { return ({ x1: rowx, x2: rowX, y1: m, y2: m }); }));\r\n        var vlines = this.cols.map(function (c) { return ({ x1: c.pos, x2: c.pos, y1: coly, y2: colY }); })\r\n            .concat(colMids.map(function (m) { return ({ x1: m, x2: m, y1: coly, y2: colY }); }));\r\n        var lines = hlines.concat(vlines);\r\n        lines.forEach(function (l) { return l.verts = []; });\r\n        this.verts = [];\r\n        this.edges = [];\r\n        hlines.forEach(function (h) {\r\n            return vlines.forEach(function (v) {\r\n                var p = new Vert(_this.verts.length, v.x1, h.y1);\r\n                h.verts.push(p);\r\n                v.verts.push(p);\r\n                _this.verts.push(p);\r\n                var i = _this.backToFront.length;\r\n                while (i-- > 0) {\r\n                    var node = _this.backToFront[i], r = node.rect;\r\n                    var dx = Math.abs(p.x - r.cx()), dy = Math.abs(p.y - r.cy());\r\n                    if (dx < r.width() / 2 && dy < r.height() / 2) {\r\n                        p.node = node;\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        lines.forEach(function (l, li) {\r\n            _this.nodes.forEach(function (v, i) {\r\n                v.rect.lineIntersections(l.x1, l.y1, l.x2, l.y2).forEach(function (intersect, j) {\r\n                    var p = new Vert(_this.verts.length, intersect.x, intersect.y, v, l);\r\n                    _this.verts.push(p);\r\n                    l.verts.push(p);\r\n                    v.ports.push(p);\r\n                });\r\n            });\r\n            var isHoriz = Math.abs(l.y1 - l.y2) < 0.1;\r\n            var delta = function (a, b) { return isHoriz ? b.x - a.x : b.y - a.y; };\r\n            l.verts.sort(delta);\r\n            for (var i = 1; i < l.verts.length; i++) {\r\n                var u = l.verts[i - 1], v = l.verts[i];\r\n                if (u.node && u.node === v.node && u.node.leaf)\r\n                    continue;\r\n                _this.edges.push({ source: u.id, target: v.id, length: Math.abs(delta(u, v)) });\r\n            }\r\n        });\r\n    }\r\n    GridRouter.prototype.avg = function (a) { return a.reduce(function (x, y) { return x + y; }) / a.length; };\r\n    GridRouter.prototype.getGridLines = function (axis) {\r\n        var columns = [];\r\n        var ls = this.leaves.slice(0, this.leaves.length);\r\n        while (ls.length > 0) {\r\n            var overlapping = ls.filter(function (v) { return v.rect['overlap' + axis.toUpperCase()](ls[0].rect); });\r\n            var col = {\r\n                nodes: overlapping,\r\n                pos: this.avg(overlapping.map(function (v) { return v.rect['c' + axis](); }))\r\n            };\r\n            columns.push(col);\r\n            col.nodes.forEach(function (v) { return ls.splice(ls.indexOf(v), 1); });\r\n        }\r\n        columns.sort(function (a, b) { return a.pos - b.pos; });\r\n        return columns;\r\n    };\r\n    GridRouter.prototype.getDepth = function (v) {\r\n        var depth = 0;\r\n        while (v.parent !== this.root) {\r\n            depth++;\r\n            v = v.parent;\r\n        }\r\n        return depth;\r\n    };\r\n    GridRouter.prototype.midPoints = function (a) {\r\n        var gap = a[1] - a[0];\r\n        var mids = [a[0] - gap / 2];\r\n        for (var i = 1; i < a.length; i++) {\r\n            mids.push((a[i] + a[i - 1]) / 2);\r\n        }\r\n        mids.push(a[a.length - 1] + gap / 2);\r\n        return mids;\r\n    };\r\n    GridRouter.prototype.findLineage = function (v) {\r\n        var lineage = [v];\r\n        do {\r\n            v = v.parent;\r\n            lineage.push(v);\r\n        } while (v !== this.root);\r\n        return lineage.reverse();\r\n    };\r\n    GridRouter.prototype.findAncestorPathBetween = function (a, b) {\r\n        var aa = this.findLineage(a), ba = this.findLineage(b), i = 0;\r\n        while (aa[i] === ba[i])\r\n            i++;\r\n        return { commonAncestor: aa[i - 1], lineages: aa.slice(i).concat(ba.slice(i)) };\r\n    };\r\n    GridRouter.prototype.siblingObstacles = function (a, b) {\r\n        var _this = this;\r\n        var path = this.findAncestorPathBetween(a, b);\r\n        var lineageLookup = {};\r\n        path.lineages.forEach(function (v) { return lineageLookup[v.id] = {}; });\r\n        var obstacles = path.commonAncestor.children.filter(function (v) { return !(v in lineageLookup); });\r\n        path.lineages\r\n            .filter(function (v) { return v.parent !== path.commonAncestor; })\r\n            .forEach(function (v) { return obstacles = obstacles.concat(v.parent.children.filter(function (c) { return c !== v.id; })); });\r\n        return obstacles.map(function (v) { return _this.nodes[v]; });\r\n    };\r\n    GridRouter.getSegmentSets = function (routes, x, y) {\r\n        var vsegments = [];\r\n        for (var ei = 0; ei < routes.length; ei++) {\r\n            var route = routes[ei];\r\n            for (var si = 0; si < route.length; si++) {\r\n                var s = route[si];\r\n                s.edgeid = ei;\r\n                s.i = si;\r\n                var sdx = s[1][x] - s[0][x];\r\n                if (Math.abs(sdx) < 0.1) {\r\n                    vsegments.push(s);\r\n                }\r\n            }\r\n        }\r\n        vsegments.sort(function (a, b) { return a[0][x] - b[0][x]; });\r\n        var vsegmentsets = [];\r\n        var segmentset = null;\r\n        for (var i = 0; i < vsegments.length; i++) {\r\n            var s = vsegments[i];\r\n            if (!segmentset || Math.abs(s[0][x] - segmentset.pos) > 0.1) {\r\n                segmentset = { pos: s[0][x], segments: [] };\r\n                vsegmentsets.push(segmentset);\r\n            }\r\n            segmentset.segments.push(s);\r\n        }\r\n        return vsegmentsets;\r\n    };\r\n    GridRouter.nudgeSegs = function (x, y, routes, segments, leftOf, gap) {\r\n        var n = segments.length;\r\n        if (n <= 1)\r\n            return;\r\n        var vs = segments.map(function (s) { return new vpsc_1.Variable(s[0][x]); });\r\n        var cs = [];\r\n        for (var i = 0; i < n; i++) {\r\n            for (var j = 0; j < n; j++) {\r\n                if (i === j)\r\n                    continue;\r\n                var s1 = segments[i], s2 = segments[j], e1 = s1.edgeid, e2 = s2.edgeid, lind = -1, rind = -1;\r\n                if (x == 'x') {\r\n                    if (leftOf(e1, e2)) {\r\n                        if (s1[0][y] < s1[1][y]) {\r\n                            lind = j, rind = i;\r\n                        }\r\n                        else {\r\n                            lind = i, rind = j;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (leftOf(e1, e2)) {\r\n                        if (s1[0][y] < s1[1][y]) {\r\n                            lind = i, rind = j;\r\n                        }\r\n                        else {\r\n                            lind = j, rind = i;\r\n                        }\r\n                    }\r\n                }\r\n                if (lind >= 0) {\r\n                    cs.push(new vpsc_1.Constraint(vs[lind], vs[rind], gap));\r\n                }\r\n            }\r\n        }\r\n        var solver = new vpsc_1.Solver(vs, cs);\r\n        solver.solve();\r\n        vs.forEach(function (v, i) {\r\n            var s = segments[i];\r\n            var pos = v.position();\r\n            s[0][x] = s[1][x] = pos;\r\n            var route = routes[s.edgeid];\r\n            if (s.i > 0)\r\n                route[s.i - 1][1][x] = pos;\r\n            if (s.i < route.length - 1)\r\n                route[s.i + 1][0][x] = pos;\r\n        });\r\n    };\r\n    GridRouter.nudgeSegments = function (routes, x, y, leftOf, gap) {\r\n        var vsegmentsets = GridRouter.getSegmentSets(routes, x, y);\r\n        for (var i = 0; i < vsegmentsets.length; i++) {\r\n            var ss = vsegmentsets[i];\r\n            var events = [];\r\n            for (var j = 0; j < ss.segments.length; j++) {\r\n                var s = ss.segments[j];\r\n                events.push({ type: 0, s: s, pos: Math.min(s[0][y], s[1][y]) });\r\n                events.push({ type: 1, s: s, pos: Math.max(s[0][y], s[1][y]) });\r\n            }\r\n            events.sort(function (a, b) { return a.pos - b.pos + a.type - b.type; });\r\n            var open = [];\r\n            var openCount = 0;\r\n            events.forEach(function (e) {\r\n                if (e.type === 0) {\r\n                    open.push(e.s);\r\n                    openCount++;\r\n                }\r\n                else {\r\n                    openCount--;\r\n                }\r\n                if (openCount == 0) {\r\n                    GridRouter.nudgeSegs(x, y, routes, open, leftOf, gap);\r\n                    open = [];\r\n                }\r\n            });\r\n        }\r\n    };\r\n    GridRouter.prototype.routeEdges = function (edges, nudgeGap, source, target) {\r\n        var _this = this;\r\n        var routePaths = edges.map(function (e) { return _this.route(source(e), target(e)); });\r\n        var order = GridRouter.orderEdges(routePaths);\r\n        var routes = routePaths.map(function (e) { return GridRouter.makeSegments(e); });\r\n        GridRouter.nudgeSegments(routes, 'x', 'y', order, nudgeGap);\r\n        GridRouter.nudgeSegments(routes, 'y', 'x', order, nudgeGap);\r\n        GridRouter.unreverseEdges(routes, routePaths);\r\n        return routes;\r\n    };\r\n    GridRouter.unreverseEdges = function (routes, routePaths) {\r\n        routes.forEach(function (segments, i) {\r\n            var path = routePaths[i];\r\n            if (path.reversed) {\r\n                segments.reverse();\r\n                segments.forEach(function (segment) {\r\n                    segment.reverse();\r\n                });\r\n            }\r\n        });\r\n    };\r\n    GridRouter.angleBetween2Lines = function (line1, line2) {\r\n        var angle1 = Math.atan2(line1[0].y - line1[1].y, line1[0].x - line1[1].x);\r\n        var angle2 = Math.atan2(line2[0].y - line2[1].y, line2[0].x - line2[1].x);\r\n        var diff = angle1 - angle2;\r\n        if (diff > Math.PI || diff < -Math.PI) {\r\n            diff = angle2 - angle1;\r\n        }\r\n        return diff;\r\n    };\r\n    GridRouter.isLeft = function (a, b, c) {\r\n        return ((b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x)) <= 0;\r\n    };\r\n    GridRouter.getOrder = function (pairs) {\r\n        var outgoing = {};\r\n        for (var i = 0; i < pairs.length; i++) {\r\n            var p = pairs[i];\r\n            if (typeof outgoing[p.l] === 'undefined')\r\n                outgoing[p.l] = {};\r\n            outgoing[p.l][p.r] = true;\r\n        }\r\n        return function (l, r) { return typeof outgoing[l] !== 'undefined' && outgoing[l][r]; };\r\n    };\r\n    GridRouter.orderEdges = function (edges) {\r\n        var edgeOrder = [];\r\n        for (var i = 0; i < edges.length - 1; i++) {\r\n            for (var j = i + 1; j < edges.length; j++) {\r\n                var e = edges[i], f = edges[j], lcs = new LongestCommonSubsequence(e, f);\r\n                var u, vi, vj;\r\n                if (lcs.length === 0)\r\n                    continue;\r\n                if (lcs.reversed) {\r\n                    f.reverse();\r\n                    f.reversed = true;\r\n                    lcs = new LongestCommonSubsequence(e, f);\r\n                }\r\n                if ((lcs.si <= 0 || lcs.ti <= 0) &&\r\n                    (lcs.si + lcs.length >= e.length || lcs.ti + lcs.length >= f.length)) {\r\n                    edgeOrder.push({ l: i, r: j });\r\n                    continue;\r\n                }\r\n                if (lcs.si + lcs.length >= e.length || lcs.ti + lcs.length >= f.length) {\r\n                    u = e[lcs.si + 1];\r\n                    vj = e[lcs.si - 1];\r\n                    vi = f[lcs.ti - 1];\r\n                }\r\n                else {\r\n                    u = e[lcs.si + lcs.length - 2];\r\n                    vi = e[lcs.si + lcs.length];\r\n                    vj = f[lcs.ti + lcs.length];\r\n                }\r\n                if (GridRouter.isLeft(u, vi, vj)) {\r\n                    edgeOrder.push({ l: j, r: i });\r\n                }\r\n                else {\r\n                    edgeOrder.push({ l: i, r: j });\r\n                }\r\n            }\r\n        }\r\n        return GridRouter.getOrder(edgeOrder);\r\n    };\r\n    GridRouter.makeSegments = function (path) {\r\n        function copyPoint(p) {\r\n            return { x: p.x, y: p.y };\r\n        }\r\n        var isStraight = function (a, b, c) { return Math.abs((b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x)) < 0.001; };\r\n        var segments = [];\r\n        var a = copyPoint(path[0]);\r\n        for (var i = 1; i < path.length; i++) {\r\n            var b = copyPoint(path[i]), c = i < path.length - 1 ? path[i + 1] : null;\r\n            if (!c || !isStraight(a, b, c)) {\r\n                segments.push([a, b]);\r\n                a = b;\r\n            }\r\n        }\r\n        return segments;\r\n    };\r\n    GridRouter.prototype.route = function (s, t) {\r\n        var _this = this;\r\n        var source = this.nodes[s], target = this.nodes[t];\r\n        this.obstacles = this.siblingObstacles(source, target);\r\n        var obstacleLookup = {};\r\n        this.obstacles.forEach(function (o) { return obstacleLookup[o.id] = o; });\r\n        this.passableEdges = this.edges.filter(function (e) {\r\n            var u = _this.verts[e.source], v = _this.verts[e.target];\r\n            return !(u.node && u.node.id in obstacleLookup\r\n                || v.node && v.node.id in obstacleLookup);\r\n        });\r\n        for (var i = 1; i < source.ports.length; i++) {\r\n            var u = source.ports[0].id;\r\n            var v = source.ports[i].id;\r\n            this.passableEdges.push({\r\n                source: u,\r\n                target: v,\r\n                length: 0\r\n            });\r\n        }\r\n        for (var i = 1; i < target.ports.length; i++) {\r\n            var u = target.ports[0].id;\r\n            var v = target.ports[i].id;\r\n            this.passableEdges.push({\r\n                source: u,\r\n                target: v,\r\n                length: 0\r\n            });\r\n        }\r\n        var getSource = function (e) { return e.source; }, getTarget = function (e) { return e.target; }, getLength = function (e) { return e.length; };\r\n        var shortestPathCalculator = new shortestpaths_1.Calculator(this.verts.length, this.passableEdges, getSource, getTarget, getLength);\r\n        var bendPenalty = function (u, v, w) {\r\n            var a = _this.verts[u], b = _this.verts[v], c = _this.verts[w];\r\n            var dx = Math.abs(c.x - a.x), dy = Math.abs(c.y - a.y);\r\n            if (a.node === source && a.node === b.node || b.node === target && b.node === c.node)\r\n                return 0;\r\n            return dx > 1 && dy > 1 ? 1000 : 0;\r\n        };\r\n        var shortestPath = shortestPathCalculator.PathFromNodeToNodeWithPrevCost(source.ports[0].id, target.ports[0].id, bendPenalty);\r\n        var pathPoints = shortestPath.reverse().map(function (vi) { return _this.verts[vi]; });\r\n        pathPoints.push(this.nodes[target.id].ports[0]);\r\n        return pathPoints.filter(function (v, i) {\r\n            return !(i < pathPoints.length - 1 && pathPoints[i + 1].node === source && v.node === source\r\n                || i > 0 && v.node === target && pathPoints[i - 1].node === target);\r\n        });\r\n    };\r\n    GridRouter.getRoutePath = function (route, cornerradius, arrowwidth, arrowheight) {\r\n        var result = {\r\n            routepath: 'M ' + route[0][0].x + ' ' + route[0][0].y + ' ',\r\n            arrowpath: ''\r\n        };\r\n        if (route.length > 1) {\r\n            for (var i = 0; i < route.length; i++) {\r\n                var li = route[i];\r\n                var x = li[1].x, y = li[1].y;\r\n                var dx = x - li[0].x;\r\n                var dy = y - li[0].y;\r\n                if (i < route.length - 1) {\r\n                    if (Math.abs(dx) > 0) {\r\n                        x -= dx / Math.abs(dx) * cornerradius;\r\n                    }\r\n                    else {\r\n                        y -= dy / Math.abs(dy) * cornerradius;\r\n                    }\r\n                    result.routepath += 'L ' + x + ' ' + y + ' ';\r\n                    var l = route[i + 1];\r\n                    var x0 = l[0].x, y0 = l[0].y;\r\n                    var x1 = l[1].x;\r\n                    var y1 = l[1].y;\r\n                    dx = x1 - x0;\r\n                    dy = y1 - y0;\r\n                    var angle = GridRouter.angleBetween2Lines(li, l) < 0 ? 1 : 0;\r\n                    var x2, y2;\r\n                    if (Math.abs(dx) > 0) {\r\n                        x2 = x0 + dx / Math.abs(dx) * cornerradius;\r\n                        y2 = y0;\r\n                    }\r\n                    else {\r\n                        x2 = x0;\r\n                        y2 = y0 + dy / Math.abs(dy) * cornerradius;\r\n                    }\r\n                    var cx = Math.abs(x2 - x);\r\n                    var cy = Math.abs(y2 - y);\r\n                    result.routepath += 'A ' + cx + ' ' + cy + ' 0 0 ' + angle + ' ' + x2 + ' ' + y2 + ' ';\r\n                }\r\n                else {\r\n                    var arrowtip = [x, y];\r\n                    var arrowcorner1, arrowcorner2;\r\n                    if (Math.abs(dx) > 0) {\r\n                        x -= dx / Math.abs(dx) * arrowheight;\r\n                        arrowcorner1 = [x, y + arrowwidth];\r\n                        arrowcorner2 = [x, y - arrowwidth];\r\n                    }\r\n                    else {\r\n                        y -= dy / Math.abs(dy) * arrowheight;\r\n                        arrowcorner1 = [x + arrowwidth, y];\r\n                        arrowcorner2 = [x - arrowwidth, y];\r\n                    }\r\n                    result.routepath += 'L ' + x + ' ' + y + ' ';\r\n                    if (arrowheight > 0) {\r\n                        result.arrowpath = 'M ' + arrowtip[0] + ' ' + arrowtip[1] + ' L ' + arrowcorner1[0] + ' ' + arrowcorner1[1]\r\n                            + ' L ' + arrowcorner2[0] + ' ' + arrowcorner2[1];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var li = route[0];\r\n            var x = li[1].x, y = li[1].y;\r\n            var dx = x - li[0].x;\r\n            var dy = y - li[0].y;\r\n            var arrowtip = [x, y];\r\n            var arrowcorner1, arrowcorner2;\r\n            if (Math.abs(dx) > 0) {\r\n                x -= dx / Math.abs(dx) * arrowheight;\r\n                arrowcorner1 = [x, y + arrowwidth];\r\n                arrowcorner2 = [x, y - arrowwidth];\r\n            }\r\n            else {\r\n                y -= dy / Math.abs(dy) * arrowheight;\r\n                arrowcorner1 = [x + arrowwidth, y];\r\n                arrowcorner2 = [x - arrowwidth, y];\r\n            }\r\n            result.routepath += 'L ' + x + ' ' + y + ' ';\r\n            if (arrowheight > 0) {\r\n                result.arrowpath = 'M ' + arrowtip[0] + ' ' + arrowtip[1] + ' L ' + arrowcorner1[0] + ' ' + arrowcorner1[1]\r\n                    + ' L ' + arrowcorner2[0] + ' ' + arrowcorner2[1];\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    return GridRouter;\r\n}());\r\nexports.GridRouter = GridRouter;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZHJvdXRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2dyaWRyb3V0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx5Q0FBcUM7QUFDckMsK0JBQW1EO0FBQ25ELGlEQUEwQztBQUt0QztJQUlJLHFCQUFtQixFQUFVLEVBQVMsSUFBZSxFQUFTLFFBQWtCO1FBQTdELE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxTQUFJLEdBQUosSUFBSSxDQUFXO1FBQVMsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUM1RSxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQUFDLEFBUEQsSUFPQztBQVBZLGtDQUFXO0FBUXhCO0lBQ0ksY0FBbUIsRUFBVSxFQUFTLENBQVEsRUFBUyxDQUFTLEVBQVMsSUFBd0IsRUFBUyxJQUFXO1FBQTVDLHFCQUFBLEVBQUEsV0FBd0I7UUFBUyxxQkFBQSxFQUFBLFdBQVc7UUFBbEcsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUFTLE1BQUMsR0FBRCxDQUFDLENBQU87UUFBUyxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQVMsU0FBSSxHQUFKLElBQUksQ0FBb0I7UUFBUyxTQUFJLEdBQUosSUFBSSxDQUFPO0lBQUcsQ0FBQztJQUM3SCxXQUFDO0FBQUQsQ0FBQyxBQUZELElBRUM7QUFGWSxvQkFBSTtBQUlqQjtJQUtJLGtDQUFtQixDQUFNLEVBQVMsQ0FBTTtRQUFyQixNQUFDLEdBQUQsQ0FBQyxDQUFLO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBSztRQUNwQyxJQUFJLEVBQUUsR0FBRyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxD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","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./src/adaptor\"));\r\n__export(require(\"./src/d3adaptor\"));\r\n__export(require(\"./src/descent\"));\r\n__export(require(\"./src/geom\"));\r\n__export(require(\"./src/gridrouter\"));\r\n__export(require(\"./src/handledisconnected\"));\r\n__export(require(\"./src/layout\"));\r\n__export(require(\"./src/layout3d\"));\r\n__export(require(\"./src/linklengths\"));\r\n__export(require(\"./src/powergraph\"));\r\n__export(require(\"./src/pqueue\"));\r\n__export(require(\"./src/rbtree\"));\r\n__export(require(\"./src/rectangle\"));\r\n__export(require(\"./src/shortestpaths\"));\r\n__export(require(\"./src/vpsc\"));\r\n__export(require(\"./src/batch\"));\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9XZWJDb2xhL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbUNBQTZCO0FBQzdCLHFDQUErQjtBQUMvQixtQ0FBNkI7QUFDN0IsZ0NBQTBCO0FBQzFCLHNDQUFnQztBQUNoQyw4Q0FBd0M7QUFDeEMsa0NBQTRCO0FBQzVCLG9DQUE4QjtBQUM5Qix1Q0FBaUM7QUFDakMsc0NBQWdDO0FBQ2hDLGtDQUE0QjtBQUM1QixrQ0FBNEI7QUFDNUIscUNBQStCO0FBQy9CLHlDQUFtQztBQUNuQyxnQ0FBMEI7QUFDMUIsaUNBQTJCIn0=","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n","import _ from 'underscore';\n\nexport class Normalizer {\n    constructor(points) {\n        this.points = points.map(e=>e.slice());\n        //pass the data over\n        this.points.forEach((p, i)=>{\n            p.data = points[i].data;\n        });\n        let nds = this.nds = _.unzip(this.points);\n        let maxD = this.maxD = [];\n        let minD = this.minD = [];\n        let rangeD = this.rangeD = [];\n        let normalizedD = this.normalizedD = [];\n        nds.forEach((d, i)=>{\n            maxD[i] = _.max(d);\n            minD[i] = _.min(d);\n            rangeD[i] = (maxD[i] != minD[i]) ? maxD[i] - minD[i] : 1;\n            normalizedD[i] = d.map(e=>(e-minD[i])/rangeD[i]);\n        });\n        let length = this.points.length;\n        this.normalizedPoints = [];\n        for (let i = 0; i < length; i++) {\n            this.normalizedPoints[i] = [];\n            for (let j = 0; j < this.nds.length; j++) {\n                this.normalizedPoints[i][j] = normalizedD[j][i];\n            }\n        }\n        //Add one step to pass the data over if there is.\n        for (let i = 0; i < length; i++) {\n            this.normalizedPoints[i].data = this.points[i].data;\n        }\n    }\n\n    /**\n     * Input a set of points in this scale range [0, 1] and will be scaled back to\n     * - Original scale ([minX, maxX], [minY, maxY], [minZ, maxZ])\n     * @param points\n     */\n    scaleBackPoints(points) {\n        return points.map(point => {\n            return this.scaleBackPoint(point);\n        });\n    }\n\n    /**\n     * Input a single point in this scale range [0, 1] and will be scaled back to\n     * - Original scale ([minX, maxX], [minY, maxY], [minZ, maxZ])\n     * @param points\n     */\n    scaleBackPoint(point) {\n        let newPoint = point.map((vs, i)=>{\n            let v = this.rangeD[i]*vs + this.minD[i];\n            return v;\n        });\n        return newPoint;\n    }\n}\n","export class BinaryBinner {\n    constructor(points, dimension) {\n        //TODO: Should check if there are more than 3 unique values here or even after the binning.\n        //TODO: May need to clone the points to avoid modifying it, but we don't do to reserve other data or to make the process faster\n        // //Clone these to avoid modifying them\n        // this.points = points.map(p=>p.slice(0));\n        this.points = points;\n        this.dimension = dimension;\n    }\n\n    get leaders() {\n        let self = this;\n        let theLeaders = {};\n        //find all the leaders\n        this.points.forEach(point => {\n            const binarypoint = point.map(d=>Math.round(d));\n            const binarykey = binarypoint.join('');\n            if (!theLeaders[binarykey]) {\n                let newLeader = [];\n                newLeader.val = binarypoint;\n                theLeaders[binarykey] = newLeader;\n            }\n            theLeaders[binarykey].push(point)\n        });\n\n        return _.values(theLeaders);\n    }\n}","function r(r){var t,n,e=r.length;if(1===e)t=0,n=r[0][1];else{for(var o,a,h,f=0,u=0,i=0,l=0,g=0;g<e;g++)f+=a=(o=r[g])[0],u+=h=o[1],i+=a*a,l+=a*h;n=u/e-(t=(e*l-f*u)/(e*i-f*f))*f/e}return{m:t,b:n}}function t(r){return function(t){return r.b+r.m*t}}function n(r){if(0===r.length)return 0;for(var t,n=r[0],e=0,o=1;o<r.length;o++)t=n+r[o],Math.abs(n)>=Math.abs(r[o])?e+=n-t+r[o]:e+=r[o]-t+n,n=t;return n+e}function e(r){if(0===r.length)throw new Error(\"mean requires at least one data point\");return n(r)/r.length}function o(r,t){var n,o,a=e(r),h=0;if(2===t)for(o=0;o<r.length;o++)h+=(n=r[o]-a)*n;else for(o=0;o<r.length;o++)h+=Math.pow(r[o]-a,t);return h}function a(r){if(0===r.length)throw new Error(\"variance requires at least one data point\");return o(r,2)/r.length}function h(r){if(1===r.length)return 0;var t=a(r);return Math.sqrt(t)}function f(r,t){if(r.length<2)return 1;for(var n=0,e=0;e<r.length;e++)n+=r[e][1];for(var o=n/r.length,a=0,h=0;h<r.length;h++)a+=Math.pow(o-r[h][1],2);for(var f=0,u=0;u<r.length;u++)f+=Math.pow(r[u][1]-t(r[u][0]),2);return 1-f/a}function u(r){if(0===r.length)throw new Error(\"mode requires at least one data point\");if(1===r.length)return r[0];for(var t=r[0],n=NaN,e=0,o=1,a=1;a<r.length+1;a++)r[a]!==t?(o>e&&(e=o,n=t),o=1,t=r[a]):o++;return n}function i(r){return r.slice().sort(function(r,t){return r-t})}function l(r){return u(i(r))}function g(r){for(var t,n=new Map,e=0,o=0;o<r.length;o++){var a=n.get(r[o]);void 0===a?a=1:a++,a>e&&(t=r[o],e=a),n.set(r[o],a)}if(0===e)throw new Error(\"mode requires at last one data point\");return t}function v(r){if(0===r.length)throw new Error(\"min requires at least one data point\");for(var t=r[0],n=1;n<r.length;n++)r[n]<t&&(t=r[n]);return t}function c(r){if(0===r.length)throw new Error(\"max requires at least one data point\");for(var t=r[0],n=1;n<r.length;n++)r[n]>t&&(t=r[n]);return t}function s(r){if(0===r.length)throw new Error(\"extent requires at least one data point\");for(var t=r[0],n=r[0],e=1;e<r.length;e++)r[e]>n&&(n=r[e]),r[e]<t&&(t=r[e]);return[t,n]}function p(r){return r[0]}function M(r){return r[r.length-1]}function w(r){return[r[0],r[r.length-1]]}function q(r){for(var t=0,n=0;n<r.length;n++)t+=r[n];return t}function E(r){for(var t=1,n=0;n<r.length;n++)t*=r[n];return t}function y(r,t){var n=r.length*t;if(0===r.length)throw new Error(\"quantile requires at least one data point.\");if(t<0||t>1)throw new Error(\"quantiles must be between 0 and 1\");return 1===t?r[r.length-1]:0===t?r[0]:n%1!=0?r[Math.ceil(n)-1]:r.length%2==0?(r[n-1]+r[n])/2:r[n]}function b(r,t,n,e){for(n=n||0,e=e||r.length-1;e>n;){if(e-n>600){var o=e-n+1,a=t-n+1,h=Math.log(o),f=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*f*(o-f)/o);a-o/2<0&&(u*=-1),b(r,t,Math.max(n,Math.floor(t-a*f/o+u)),Math.min(e,Math.floor(t+(o-a)*f/o+u)))}var i=r[t],l=n,g=e;for(d(r,n,t),r[e]>i&&d(r,n,e);l<g;){for(d(r,l,g),l++,g--;r[l]<i;)l++;for(;r[g]>i;)g--}r[n]===i?d(r,n,g):d(r,++g,e),g<=t&&(n=g+1),t<=g&&(e=g-1)}}function d(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function I(r,t){var n=r.slice();if(Array.isArray(t)){!function(r,t){for(var n=[0],e=0;e<t.length;e++)n.push(N(r.length,t[e]));n.push(r.length-1),n.sort(C);var o=[0,n.length-1];for(;o.length;){var a=Math.ceil(o.pop()),h=Math.floor(o.pop());if(!(a-h<=1)){var f=Math.floor((h+a)/2);P(r,n[f],Math.floor(n[h]),Math.ceil(n[a])),o.push(h,f,f,a)}}}(n,t);for(var e=[],o=0;o<t.length;o++)e[o]=y(n,t[o]);return e}return P(n,N(n.length,t),0,n.length-1),y(n,t)}function P(r,t,n,e){t%1==0?b(r,t,n,e):(b(r,t=Math.floor(t),n,e),b(r,t+1,t+1,e))}function C(r,t){return r-t}function N(r,t){var n=r*t;return 1===t?r-1:0===t?0:n%1!=0?Math.ceil(n)-1:r%2==0?n-.5:n}function _(r,t){if(t<r[0])return 0;if(t>r[r.length-1])return 1;var n=function(r,t){var n=0,e=0,o=r.length;for(;e<o;)t<=r[n=e+o>>>1]?o=n:e=-~n;return e}(r,t);if(r[n]!==t)return n/r.length;n++;var e=function(r,t){var n=0,e=0,o=r.length;for(;e<o;)t>=r[n=e+o>>>1]?e=-~n:o=n;return e}(r,t);if(e===n)return n/r.length;var o=e-n+1;return o*(e+n)/2/o/r.length}function A(r,t){return _(i(r),t)}function z(r){var t=I(r,.75),n=I(r,.25);if(\"number\"==typeof t&&\"number\"==typeof n)return t-n}function U(r){return+I(r,.5)}function K(r){for(var t=U(r),n=[],e=0;e<r.length;e++)n.push(Math.abs(r[e]-t));return U(n)}function B(r,t){var n=[];if(t<1)throw new Error(\"chunk size must be a positive number\");if(Math.floor(t)!==t)throw new Error(\"chunk size must be an integer\");for(var e=0;e<r.length;e+=t)n.push(r.slice(e,e+t));return n}function G(r,t,n){if(0===r.length)return[];n=n||Math.random;for(var e=r.length,o=[],a=0;a<t;a++){var h=Math.floor(n()*e);o.push(r[h])}return o}function H(r,t){t=t||Math.random;for(var n,e,o=r.length;o>0;)e=Math.floor(t()*o--),n=r[o],r[o]=r[e],r[e]=n;return r}function J(r,t){return H(r.slice().slice(),t)}function Q(r,t,n){return J(r,n).slice(0,t)}function R(r){for(var t,n=0,e=0;e<r.length;e++)0!==e&&r[e]===t||(t=r[e],n++);return n}function W(r,t){for(var n=[],e=0;e<r;e++){for(var o=[],a=0;a<t;a++)o.push(0);n.push(o)}return n}function Y(r,t,n,e){var o;if(r>0){var a=(n[t]-n[r-1])/(t-r+1);o=e[t]-e[r-1]-(t-r+1)*a*a}else o=e[t]-n[t]*n[t]/(t+1);return o<0?0:o}function Z(r,t,n,e,o,a,h){if(!(r>t)){var f=Math.floor((r+t)/2);e[n][f]=e[n-1][f-1],o[n][f]=f;var u=n;r>n&&(u=Math.max(u,o[n][r-1]||0)),u=Math.max(u,o[n-1][f]||0);var i,l,g,v=f-1;t<e.length-1&&(v=Math.min(v,o[n][t+1]||0));for(var c=v;c>=u&&!((i=Y(c,f,a,h))+e[n-1][u-1]>=e[n][f]);--c)(l=Y(u,f,a,h)+e[n-1][u-1])<e[n][f]&&(e[n][f]=l,o[n][f]=u),u++,(g=i+e[n-1][c-1])<e[n][f]&&(e[n][f]=g,o[n][f]=c);Z(r,f-1,n,e,o,a,h),Z(f+1,t,n,e,o,a,h)}}function x(r,t){if(t>r.length)throw new Error(\"cannot generate more classes than there are data values\");var n=i(r);if(1===R(n))return[n];var e=W(t,n.length),o=W(t,n.length);!function(r,t,n){for(var e=t[0].length,o=r[Math.floor(e/2)],a=[],h=[],f=0,u=void 0;f<e;++f)u=r[f]-o,0===f?(a.push(u),h.push(u*u)):(a.push(a[f-1]+u),h.push(h[f-1]+u*u)),t[0][f]=Y(0,f,a,h),n[0][f]=0;for(var i=1;i<t.length;++i)Z(i<t.length-1?i:e-1,e-1,i,t,n,a,h)}(n,e,o);for(var a=[],h=o[0].length-1,f=o.length-1;f>=0;f--){var u=o[f][h];a[f]=n.slice(u,h+1),f>0&&(h=u-1)}return a}function T(r,t){if(r.length<2)return r;for(var n=v(r),e=c(r),o=[n],a=(e-n)/t,h=1;h<t;h++)o.push(o[0]+a*h);return o.push(e),o}function D(r,t){if(r.length!==t.length)throw new Error(\"sampleCovariance requires samples with equal lengths\");if(r.length<2)throw new Error(\"sampleCovariance requires at least two data points in each sample\");for(var n=e(r),o=e(t),a=0,h=0;h<r.length;h++)a+=(r[h]-n)*(t[h]-o);return a/(r.length-1)}function L(r){if(r.length<2)throw new Error(\"sampleVariance requires at least two data points\");return o(r,2)/(r.length-1)}function O(r){var t=L(r);return Math.sqrt(t)}function X(r,t){return D(r,t)/O(r)/O(t)}function V(r){if(r.length<3)throw new Error(\"sampleSkewness requires at least three data points\");for(var t,n=e(r),o=0,a=0,h=0;h<r.length;h++)o+=(t=r[h]-n)*t,a+=t*t*t;var f=Math.sqrt(o/(r.length-1)),u=r.length;return u*a/((u-1)*(u-2)*Math.pow(f,3))}function m(r){var t=r.length;if(t<4)throw new Error(\"sampleKurtosis requires at least four data points\");for(var n,o=e(r),a=0,h=0,f=0;f<t;f++)a+=(n=r[f]-o)*n,h+=n*n*n*n;return(t-1)/((t-2)*(t-3))*(t*(t+1)*h/(a*a)-3*(t-1))}function F(r){for(var t=new Array(r.length),n=[r.slice()],e=0;e<r.length;e++)t[e]=0;for(var o=0;o<r.length;)if(t[o]<o){var a=0;o%2!=0&&(a=t[o]);var h=r[a];r[a]=r[o],r[o]=h,n.push(r.slice()),t[o]++,o=0}else t[o]=0,o++;return n}function k(r,t){var n,e,o,a,h=[];for(n=0;n<r.length;n++)if(1===t)h.push([r[n]]);else for(o=k(r.slice(n+1,r.length),t-1),e=0;e<o.length;e++)(a=o[e]).unshift(r[n]),h.push(a);return h}function S(r,t){for(var n=[],e=0;e<r.length;e++)if(1===t)n.push([r[e]]);else for(var o=S(r.slice(e,r.length),t-1),a=0;a<o.length;a++)n.push([r[e]].concat(o[a]));return n}function j(r,t,n){return r+(n-r)/(t+1)}function $(r,t,n,e){return(r*t+n*e)/(t+e)}function rr(r,t,n,e,o,a){var h=$(t,n,o,a);return(n*(r+Math.pow(t-h,2))+a*(e+Math.pow(o-h,2)))/(n+a)}function tr(r){if(0===r.length)throw new Error(\"geometricMean requires at least one data point\");for(var t=1,n=0;n<r.length;n++){if(r[n]<=0)throw new Error(\"geometricMean requires only positive numbers as input\");t*=r[n]}return Math.pow(t,1/r.length)}function nr(r){if(0===r.length)throw new Error(\"harmonicMean requires at least one data point\");for(var t=0,n=0;n<r.length;n++){if(r[n]<=0)throw new Error(\"harmonicMean requires only positive numbers as input\");t+=1/r[n]}return r.length/t}function er(r){return y(r,.5)}function or(r,t,n){return(r*t-n)/(t-1)}function ar(r){if(0===r.length)throw new Error(\"rootMeanSquare requires at least one data point\");for(var t=0,n=0;n<r.length;n++)t+=Math.pow(r[n],2);return Math.sqrt(t/r.length)}function hr(r,t){return(e(r)-t)/(h(r)/Math.sqrt(r.length))}function fr(r,t,n){var o=r.length,a=t.length;if(!o||!a)return null;n||(n=0);var h=e(r),f=e(t),u=L(r),i=L(t);return\"number\"==typeof h&&\"number\"==typeof f&&\"number\"==typeof u&&\"number\"==typeof i?(h-f-n)/Math.sqrt(((o-1)*u+(a-1)*i)/(o+a-2)*(1/o+1/a)):void 0}var ur=function(){this.totalCount=0,this.data={}};ur.prototype.train=function(r,t){for(var n in this.data[t]||(this.data[t]={}),r){var e=r[n];void 0===this.data[t][n]&&(this.data[t][n]={}),void 0===this.data[t][n][e]&&(this.data[t][n][e]=0),this.data[t][n][e]++}this.totalCount++},ur.prototype.score=function(r){var t,n={};for(var e in r){var o=r[e];for(t in this.data)n[t]={},n[t][e+\"_\"+o]=this.data[t][e]?(this.data[t][e][o]||0)/this.totalCount:0}var a={};for(t in n)for(var h in a[t]=0,n[t])a[t]+=n[t][h];return a};var ir=function(){this.weights=[],this.bias=0};ir.prototype.predict=function(r){if(r.length!==this.weights.length)return null;for(var t=0,n=0;n<this.weights.length;n++)t+=this.weights[n]*r[n];return(t+=this.bias)>0?1:0},ir.prototype.train=function(r,t){if(0!==t&&1!==t)return null;r.length!==this.weights.length&&(this.weights=r,this.bias=1);var n=this.predict(r);if(\"number\"==typeof n&&n!==t){for(var e=t-n,o=0;o<this.weights.length;o++)this.weights[o]+=e*r[o];this.bias+=e}return this};var lr=1e-4;function gr(r){if(r<0)throw new Error(\"factorial requires a non-negative value\");if(Math.floor(r)!==r)throw new Error(\"factorial requires an integer input\");for(var t=1,n=2;n<=r;n++)t*=n;return t}function vr(r){if(Number.isInteger(r))return r<=0?NaN:gr(r-1);if(--r<0)return Math.PI/(Math.sin(Math.PI*-r)*vr(-r));var t=r+.25;return Math.pow(r/Math.E,r)*Math.sqrt(2*Math.PI*(r+1/6))*(1+1/144/Math.pow(t,2)-1/12960/Math.pow(t,3)-257/207360/Math.pow(t,4)-52/2612736/Math.pow(t,5)+5741173/9405849600/Math.pow(t,6)+37529/18811699200/Math.pow(t,7))}var cr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],sr=607/128,pr=Math.log(Math.sqrt(2*Math.PI));function Mr(r){if(r<=0)return Infinity;r--;for(var t=cr[0],n=1;n<15;n++)t+=cr[n]/(r+n);var e=sr+.5+r;return pr+Math.log(t)-e+(r+.5)*Math.log(e)}function wr(r){if(r<0||r>1)throw new Error(\"bernoulliDistribution requires probability to be between 0 and 1 inclusive\");return[1-r,r]}function qr(r,t){if(!(t<0||t>1||r<=0||r%1!=0)){var n=0,e=0,o=[],a=1;do{o[n]=a*Math.pow(t,n)*Math.pow(1-t,r-n),e+=o[n],a=a*(r-++n+1)/n}while(e<1-lr);return o}}function Er(r){if(!(r<=0)){var t=0,n=0,e=[],o=1;do{e[t]=Math.exp(-r)*Math.pow(r,t)/o,n+=e[t],o*=++t}while(n<1-lr);return e}}var yr={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function br(r,t,n){for(var o=0,a=t(e(r)),h=[],f=[],u=0;u<r.length;u++)void 0===h[r[u]]&&(h[r[u]]=0),h[r[u]]++;for(var i=0;i<h.length;i++)void 0===h[i]&&(h[i]=0);for(var l in a)l in h&&(f[+l]=a[l]*r.length);for(var g=f.length-1;g>=0;g--)f[g]<3&&(f[g-1]+=f[g],f.pop(),h[g-1]+=h[g],h.pop());for(var v=0;v<h.length;v++)o+=Math.pow(h[v]-f[v],2)/f[v];return yr[h.length-1-1][n]<o}var dr=Math.sqrt(2*Math.PI),Ir={gaussian:function(r){return Math.exp(-.5*r*r)/dr}},Pr={nrd:function(r){var t=O(r),n=z(r);return\"number\"==typeof n&&(t=Math.min(t,n/1.34)),1.06*t*Math.pow(r.length,-.2)}};function Cr(r,t,n){var e,o;if(void 0===t)e=Ir.gaussian;else if(\"string\"==typeof t){if(!Ir[t])throw new Error('Unknown kernel \"'+t+'\"');e=Ir[t]}else e=t;if(void 0===n)o=Pr.nrd(r);else if(\"string\"==typeof n){if(!Pr[n])throw new Error('Unknown bandwidth method \"'+n+'\"');o=Pr[n](r)}else o=n;return function(t){var n=0,a=0;for(n=0;n<r.length;n++)a+=e((t-r[n])/o);return a/o/r.length}}function Nr(r,t,n){return(r-t)/n}var _r=Math.sqrt(2*Math.PI);function Ar(r){for(var t=r,n=r,e=1;e<15;e++)t+=n*=r*r/(2*e+1);return Math.round(1e4*(.5+t/_r*Math.exp(-r*r/2)))/1e4}for(var zr=[],Ur=0;Ur<=3.09;Ur+=.01)zr.push(Ar(Ur));function Kr(r){var t=Math.abs(r),n=Math.min(Math.round(100*t),zr.length-1);return r>=0?zr[n]:+(1-zr[n]).toFixed(4)}function Br(r){var t=1/(1+.5*Math.abs(r)),n=t*Math.exp(-Math.pow(r,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return r>=0?1-n:n-1}function Gr(r){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-r*r)/2,2)-Math.log(1-r*r)/t)-(2/(Math.PI*t)+Math.log(1-r*r)/2));return r>=0?n:-n}function Hr(r){return 0===r?r=lr:r>=1&&(r=1-lr),Math.sqrt(2)*Gr(2*r-1)}function Jr(r,t,n,o){if(void 0===o&&(o=1e4),void 0===n&&(n=\"two_side\"),\"two_side\"!==n&&\"greater\"!==n&&\"less\"!==n)throw new Error(\"`alternative` must be either 'two_side', 'greater', or 'less'\");for(var a=e(r)-e(t),h=new Array(o),f=r.concat(t),u=Math.floor(f.length/2),i=0;i<o;i++){H(f);var l=f.slice(0,u),g=f.slice(u,f.length),v=e(l)-e(g);h[i]=v}var c=0;if(\"two_side\"===n)for(var s=0;s<=o;s++)Math.abs(h[s])>=Math.abs(a)&&(c+=1);else if(\"greater\"===n)for(var p=0;p<=o;p++)h[p]>=a&&(c+=1);else for(var M=0;M<=o;M++)h[M]<=a&&(c+=1);return c/o}function Qr(r){if(\"number\"==typeof r)return r<0?-1:0===r?0:1;throw new TypeError(\"not a number\")}function Rr(r,t,n,e,o){if(\"function\"!=typeof r)throw new TypeError(\"func must be a function\");for(var a=0;a<e;a++){var h=(t+n)/2;if(0===r(h)||Math.abs((n-t)/2)<o)return h;Qr(r(h))===Qr(r(t))?t=h:n=h}throw new Error(\"maximum number of iterations exceeded\")}export{r as linearRegression,t as linearRegressionLine,h as standardDeviation,f as rSquared,l as mode,g as modeFast,u as modeSorted,v as min,c as max,s as extent,p as minSorted,M as maxSorted,w as extentSorted,n as sum,q as sumSimple,E as product,I as quantile,y as quantileSorted,A as quantileRank,_ as quantileRankSorted,z as interquartileRange,z as iqr,K as medianAbsoluteDeviation,K as mad,B as chunk,G as sampleWithReplacement,J as shuffle,H as shuffleInPlace,Q as sample,x as ckmeans,R as uniqueCountSorted,o as sumNthPowerDeviations,T as equalIntervalBreaks,D as sampleCovariance,X as sampleCorrelation,L as sampleVariance,O as sampleStandardDeviation,V as sampleSkewness,m as sampleKurtosis,F as permutationsHeap,k as combinations,S as combinationsReplacement,j as addToMean,$ as combineMeans,rr as combineVariances,tr as geometricMean,nr as harmonicMean,e as average,e as mean,U as median,er as medianSorted,or as subtractFromMean,ar as rootMeanSquare,ar as rms,a as variance,hr as tTest,fr as tTestTwoSample,ur as BayesianClassifier,ur as bayesian,ir as PerceptronModel,ir as perceptron,lr as epsilon,gr as factorial,vr as gamma,Mr as gammaln,wr as bernoulliDistribution,qr as binomialDistribution,Er as poissonDistribution,yr as chiSquaredDistributionTable,br as chiSquaredGoodnessOfFit,Cr as kernelDensityEstimation,Cr as kde,Nr as zScore,Kr as cumulativeStdNormalProbability,zr as standardNormalTable,Br as errorFunction,Br as erf,Gr as inverseErrorFunction,Hr as probit,Jr as permutationTest,Rr as bisect,b as quickselect,Qr as sign,i as numericSort};\n//# sourceMappingURL=simple-statistics.mjs.map\n","import {Normalizer} from \"./modules/normalizer\";\r\nimport {BinaryBinner} from \"./modules/binaryBinner\";\r\nimport {_} from 'underscore'\r\nimport {LeaderBinner} from \"./modules/leaderBinner\";\r\nimport {createGraph, equalPoints, mst} from \"./modules/kruskal-mst\";\r\nimport {Outlying} from \"./modules/outlying\";\r\n\r\n(function (window) {\r\n    /**\r\n     * initialize a scagnosticsnd object\r\n     * @param inputPoints   {*[][]} set of points from the scatter plot\r\n     * @returns {*[][]}\r\n     */\r\n    window.binarybin = function (inputPoints, options = {}) {\r\n        let callback = function(d){};\r\n        outputValue(\"calculate\", function () {\r\n            let dims = inputPoints[0].length;\r\n            //Clone it to avoid modifying it.\r\n            let points = inputPoints.map(e => e.slice());\r\n            //Add one step to pass the data over if there is.\r\n            for (let i = 0; i < points.length; i++) {\r\n                points[i].data = inputPoints[i].data;\r\n            }\r\n            let normalizedPoints = points;\r\n            if (options.isNormalized === undefined) {\r\n                let normalizer = new Normalizer(points);\r\n                normalizedPoints = normalizer.normalizedPoints;\r\n                outputValue(\"normalizedPoints\", normalizedPoints);\r\n                outputValue(\"normalizer\", normalizer);\r\n            }\r\n            /******This section is about finding number of bins and binners******/\r\n            let sites = null;\r\n            let bins = null;\r\n            let binner = null;\r\n            let binSize = null;\r\n            let binRadius = 0;\r\n            let startBinGridSize = options.startBinGridSize;\r\n\r\n            if (options.isBinned === undefined) {//Only do the binning if needed.\r\n\r\n                bins = [];\r\n\r\n\r\n                // This section uses binary binner\r\n                binner = new BinaryBinner(normalizedPoints, dims);\r\n                bins = binner.leaders;\r\n\r\n                // }\r\n                sites = bins.map(d => d.val); //=>sites are the set of centers of all bins\r\n                /******This section is about the binning and binning results******/\r\n                outputValue(\"binner\", binner);\r\n                outputValue(\"bins\", bins);\r\n                outputValue(\"binSize\", binSize);\r\n                outputValue(\"binRadius\", binRadius)\r\n            } else {\r\n                sites = normalizedPoints;\r\n            }\r\n\r\n            outputValue(\"binnedSites\", sites);\r\n        });\r\n        outputValue(\"callback\", function (_) {\r\n            return arguments.length ? (callback = _, window.binarybin) : callback;\r\n\r\n        });\r\n        outputValue(\"data\", function (_) {\r\n            return arguments.length ? (inputPoints = _, window.binarybin) : inputPoints;\r\n        });\r\n        return window.binarybin;\r\n\r\n        function outputValue(name, value) {\r\n            window.binarybin[name] = value;\r\n        }\r\n    };\r\n\r\n})(window);","// https://gist.github.com/bmershon/25a74f7b1c7cbd07e7456af1d2c07da1\n// See https://en.wikipedia.org/wiki/Kruskal%27s_algorithm\\\n// Depends on DisjointSet.\nimport _ from \"underscore\";\n\n/**\n * This function create the pairs between node and its links.\n *\n * @param links\n * @returns [[\"nodeX,nodeY\": Array(numberOfLinksRelatedToTheNodes)]]\n */\nexport function pairNodeLinks(links) {\n    let nestedByNodes = {};\n    links.forEach(l => {\n        let sourceKey = l.source.join(',');\n        if (!nestedByNodes[sourceKey]) {\n            nestedByNodes[sourceKey] = [];\n        }\n        nestedByNodes[sourceKey].push(l);\n        let targetKey = l.target.join(',');\n        if (!nestedByNodes[targetKey]) {\n            nestedByNodes[targetKey] = [];\n        }\n        nestedByNodes[targetKey].push(l);\n    });\n    //Pair the results\n    let pairedResults = _.pairs(nestedByNodes);\n    return pairedResults;\n}\n\n/**\n * This function returns corners (three vertices) of vertices of degree two in the for mat of\n * point1, point2, point3 => point1 is the the vertex with degree two (two edges connected to it are [point1, point2] and [point1, point3] (order of the points in each edge is not important)).\n * @param tree\n * @returns {*}\n */\nexport function getAllV2CornersFromTree(tree) {\n    let pairedResults = pairNodeLinks(tree.links);\n    //Get all pairs with length = 2 (V2)\n    let allV2 = pairedResults.filter(p => p[1].length == 2);\n\n    let allCorners = allV2.map(v2 => {\n        let corner = [];\n        //First point is the common vertice\n        corner.push(v2[0].split(',').map(d => +d));//map(d=>+d) is to convert the strings into digits\n        //Push the source or target if they are not the common vertices of the two edges\n        v2[1].forEach(link => {\n            if (link.source.join(',') != v2[0]) {\n                corner.push(link.source);\n            } else {\n                corner.push(link.target);\n            }\n        });\n        return corner;\n    });\n    return allCorners;\n}\n/**\n * This function returns all vertices with degree greater than or equal 2\n * @param tree\n */\nexport function getAllV2OrGreaterFromTree(tree) {\n    let pairedResults = pairNodeLinks(tree.links);\n    //Get all pairs with length >= 2 (V2)\n    let allGTEV2 = pairedResults.filter(p => p[1].length >= 2);\n    return allGTEV2.map(v => v[0].split(',').map(Number));\n}\n/**\n * This function returns all single degree vertices from a tree\n * @param tree\n */\nexport function getAllV1sFromTree(tree) {\n    let pairedResults = pairNodeLinks(tree.links);\n    //Get all pairs with length = 1 (V1)\n    let allV1 = pairedResults.filter(p => p[1].length == 1);\n    return allV1.map(v1 => v1[0].split(',').map(Number));\n}\n\n/**\n * Create a graph from mesh\n * @param triangles is inform of set of triangles as the result from delaunay triangulations\n */\n// export function createGraph(tetrahedra, weights) {\n//\n//     function makeLink(sourceId, targetId, weight) {\n//         return {\"source\": sourceId, \"target\": targetId, \"weight\": weight};\n//     }\n//\n//     let graph = {};\n//     graph.nodes = [];\n//     graph.links = [];\n//     //Creating nodes\n//     tetrahedra.forEach(t => {\n//         t.forEach(id => {\n//             if (!idExists(graph.nodes, id)) {\n//                 graph.nodes.push(makeNode(id));\n//             }\n//         });\n//     });\n//\n//     //Creating links\n//     tetrahedra.forEach(t => {\n//         for (let i = 0; i < t.length - 1; i++) {\n//             let p1 = t[i];\n//             for (let j = i + 1; j < t.length; j++) {\n//                 let p2 = t[j];\n//                 let id1 = p1;\n//                 let id2 = p2;\n//                 let dist = distance(p1, p2, weights);\n//                 let link = makeLink(id1, id2, dist);\n//                 if (!linkExists(graph.links, link)) {\n//                     graph.links.push(link);\n//                 }\n//             }\n//         }\n//     });\n//\n//     //TODO: may sort the id alphabetically => when creating => so we can just check 1 condition only.\n//     function linkExists(links, link) {\n//         let length = links.length;\n//         for (let i = length - 1; i >= 0; --i) {\n//             if (equalLinks(link, links[i])) {\n//                 return true;\n//             }\n//         }\n//         return false;\n//     }\n//     return graph;\n// }\n// Ngan 3/3/2020 remove checking conditions\nexport function createGraph(tetrahedra, weights) {\n\n    function makeLink(sourceId, targetId, weight) {\n        return {\"source\": sourceId, \"target\": targetId, \"weight\": weight};\n    }\n\n    let graph = {};\n    graph.nodes = [];\n    graph.links = [];\n    //Creating nodes\n    tetrahedra.forEach(t => {\n        t.forEach(id => {\n            // if (!idExists(graph.nodes, id)) {\n                graph.nodes.push(makeNode(id));\n            // }\n        });\n    });\n\n    //Creating links\n    tetrahedra.forEach(t => {\n        for (let i = 0; i < t.length - 1; i++) {\n            let p1 = t[i];\n            for (let j = i + 1; j < t.length; j++) {\n                let p2 = t[j];\n                let id1 = p1;\n                let id2 = p2;\n                let dist = distance(p1, p2, weights);\n                let link = makeLink(id1, id2, dist);\n                // if (!linkExists(graph.links, link)) {\n                    graph.links.push(link);\n                // }\n            }\n        }\n    });\n\n    //TODO: may sort the id alphabetically => when creating => so we can just check 1 condition only.\n    function linkExists(links, link) {\n        let length = links.length;\n        for (let i = length - 1; i >= 0; --i) {\n            if (equalLinks(link, links[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    return graph;\n}\n\nexport function distance(a, b, weights) {\n    let totalSumSquared = 0;\n    if (!weights) {\n        for (let i = 0; i < a.length; i++) {\n            let diff = (a[i] - b[i]) * (a[i] - b[i]);\n            if (!Number.isNaN(diff)) {\n                totalSumSquared += diff;\n            }\n        }\n    } else {\n        for (let i = 0; i < a.length; i++) {\n            let diff = (a[i] - b[i]) * (a[i] - b[i]);\n            if (!Number.isNaN(diff)) {\n                totalSumSquared += diff * weights[i];\n            }\n        }\n    }\n//For computer storage issue, some coordinates of the same distance may return different distances if we use long floating point\n//So take only 10 digits after the floating points=> this is precise enough and still have the same values for two different lines of the same distance\n    return Math.round(Math.sqrt(totalSumSquared) * Math.pow(10, 10)) / Math.pow(10, 10);\n}\n\nexport function equalPoints(id1, id2) {\n    for (let i = 0; i < id1.length; i++) {\n        if (id1[i] !== id2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport function pointExists(points, point) {\n    for (let i = 0; i < points.length; i++) {\n        let point1 = points[i];\n        if (equalPoints(point1, point)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport function equalLinks(l1, l2) {\n    return (equalPoints(l1.source, l2.source) && equalPoints(l1.target, l2.target)) ||\n        (equalPoints(l1.source, l2.target) && equalPoints(l1.target, l2.source));\n}\n\nexport function idExists(nodes, id) {\n    let length = nodes.length;\n    for (let i = length - 1; i >= 0; --i) {\n        let node = nodes[i];\n        if (equalPoints(node.id, id)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport function makeNode(id) {\n    return {\"id\": id};\n}\n\n/**\n * create the mst\n * @param graph: in form of nodes and links\n * @returns {{nodes: (selection_nodes|nodes), links: Array}}\n */\nexport function mst(graph) {\n    let vertices = graph.nodes,\n        edges = graph.links.slice(0),\n        selectedEdges = [],\n        forest = new DisjointSet();\n\n    // Each vertex begins \"disconnected\" and isolated from all the others.\n    vertices.forEach((vertex) => {\n        forest.makeSet(vertex.id);\n    });\n\n    // Sort edges in descending order of weight. We will pop edges beginning\n    // from the end of the array.\n    edges.sort((a, b) => {\n        return -(a.weight - b.weight);\n    });\n\n    while (edges.length && forest.size() > 1) {\n        let edge = edges.pop();\n\n        if (forest.find(edge.source) !== forest.find(edge.target)) {\n            forest.union(edge.source, edge.target);\n            selectedEdges.push(edge);\n        }\n    }\n\n    return {\n        nodes: vertices,\n        links: selectedEdges\n    }\n}\n\n//<editor-fold desc=\"This section is for the disjoint set\">\nfunction DisjointSet() {\n    this.index_ = {};\n}\n\nfunction Node(id) {\n    this.id_ = id;\n    this.parent_ = this;\n    this.rank_ = 0;\n}\n\nDisjointSet.prototype.makeSet = function (id) {\n    if (!this.index_[id]) {\n        let created = new Node(id);\n        this.index_[id] = created;\n    }\n}\n\n// Returns the id of the representative element of this set that (id)\n// belongs to.\nDisjointSet.prototype.find = function (id) {\n    if (this.index_[id] === undefined) {\n        return undefined;\n    }\n\n    let current = this.index_[id].parent_;\n    while (current !== current.parent_) {\n        current = current.parent_;\n    }\n    return current.id_;\n}\n\nDisjointSet.prototype.union = function (x, y) {\n    let xRoot = this.index_[this.find(x)];\n    let yRoot = this.index_[this.find(y)];\n\n    if (xRoot === undefined || yRoot === undefined || xRoot === yRoot) {\n        // x and y already belong to the same set.\n        return;\n    }\n\n    if (xRoot.rank < yRoot.rank) { // Move x into the set y is a member of.\n        xRoot.parent_ = yRoot;\n    } else if (yRoot.rank_ < xRoot.rank_) { // Move y into the set x is a member of.\n        yRoot.parent_ = xRoot;\n    } else { // Arbitrarily choose to move y into the set x is a member of.\n        yRoot.parent_ = xRoot;\n        xRoot.rank_++;\n    }\n}\n\n// Returns the current number of disjoint sets.\nDisjointSet.prototype.size = function () {\n    let uniqueIndices = {};\n    Object.keys(this.index_).forEach((id) => {\n        uniqueIndices[id] = true;\n    });\n    return Object.keys(uniqueIndices).length;\n}\n//</editor-fold>","import {distance,distanceL1} from \"./kruskal-mst\";\r\nimport _ from \"underscore\";\r\n\r\nexport class LeaderBinner{\r\n    constructor(points, radius,distanceMethod,maxNumberOfBins){\r\n        //TODO: Should check if there are more than 3 unique values here or even after the binning.\r\n        //TODO: May need to clone the points to avoid modifying it, but we don't do to reserve other data or to make the process faster\r\n        // //Clone these to avoid modifying them\r\n        // this.points = points.map(p=>p.slice(0));\r\n        distanceMethod = distanceMethod||'l2';\r\n        this.distance =distanceMethod==='l2'?distance:distanceL1;\r\n        this.points = points;\r\n        this.radius = radius;\r\n        this.minDistance = Math.sqrt(points[0].length);\r\n        this.maxNumberOfBins = maxNumberOfBins||Infinity;\r\n    }\r\n    get leaders(){\r\n        let self = this;\r\n        let theLeaders = [];\r\n        //find all the leaders\r\n        let earlyStop = this.points.find(point=>{\r\n            let leader = closestLeader(theLeaders, point,this.distance);\r\n            if(!leader){\r\n                let newLeader = [];\r\n                newLeader.val = point;\r\n                theLeaders.push(newLeader);\r\n                if ( theLeaders.length > this.maxNumberOfBins)\r\n                    return true;\r\n            }\r\n        });\r\n        if (!earlyStop)\r\n            //now do this again to set the closest leader.\r\n            this.points.forEach(point=>{\r\n               let leader = closestLeader(theLeaders, point,this.distance);\r\n               leader.push(point);\r\n            });\r\n        return theLeaders;\r\n        function closestLeader(leaders, point,distanceFunc){\r\n            let length = leaders.length;\r\n            let minDistance = self.minDistance;//select 2 since normalized distance can't  be greater than 2.\r\n            let theLeader = null;\r\n            for (let i = 0; i < length; ++i) {\r\n                let l = leaders[i];\r\n                let d = distanceFunc(l.val, point);\r\n                if(d< self.radius){\r\n                    if(d<minDistance){\r\n                        minDistance = d;\r\n                        theLeader = l;\r\n                    }\r\n                }\r\n            }\r\n            return theLeader;\r\n\r\n            // let distances = leaders.map(l=>distance([l.x, l.y], point));\r\n            // //Filter the distance to be <= the radius\r\n            // let copiedDistances = distances.filter(d=>d<self.radius);\r\n            // if(copiedDistances.length===0){\r\n            //     return null;\r\n            // }\r\n            // let theDistance = _.min(distances);\r\n            // let theLeader = leaders[distances.indexOf(theDistance)];\r\n            // return theLeader;\r\n        }\r\n    }\r\n}","//Inspired from https://github.com/d3/d3-hexbin/blob/master/src/hexbin.js\r\n// even division\r\nexport function SquareBinner(){\r\n    // let thirdPi = Math.PI/3,\r\n    //     angles = [0, thirdPi, 2*thirdPi, 3*thirdPi, 4*thirdPi, 5*thirdPi];\r\n\r\n    function pointVal(d){\r\n        return d;\r\n    }\r\n\r\n    var val0 = 0,\r\n        val1 = 1,\r\n        dval,\r\n        val = pointVal,\r\n        r;\r\n\r\n    function evenbin(points){\r\n        var binsById = {}, bins = [], i, n = points.length;\r\n\r\n        for (i = 0; i < n; ++i) {\r\n            pval = val.call(null, point = points[i], i, points);\r\n            if (pval.some(d=>isNaN(d))) continue;\r\n\r\n            var point,\r\n                pval,\r\n                pi = pval.map((pvali,index) => Math.round(pval[index] = pvali / dval));\r\n\r\n            var id = pi.reduce((accumulator, currentValue)=>accumulator+\"-\"+currentValue), bin = binsById[id];\r\n            if (bin) bin.push(point);\r\n            else {\r\n                bins.push(bin = binsById[id] = [point]);\r\n                bin.val = pi.map(d=>(d*dval - (d>0) * dval/2));\r\n            }\r\n        }\r\n\r\n        return bins;\r\n    }\r\n\r\n    //Export it\r\n    this.evenbin = evenbin;\r\n    // this.centers = function(){\r\n    //     var centers = [],\r\n    //         j = Math.round(y0 / dy),\r\n    //         i = Math.round(x0 / dx);\r\n    //     for (var y = j * dy; y < y1 + r; y += dy, ++j) {\r\n    //         for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\r\n    //             centers.push([x, y]);\r\n    //         }\r\n    //     }\r\n    //     return centers;\r\n    // };\r\n    // this.mesh = function(){\r\n    //     var fragment = hexagon(r).slice(0, 4).join(\"l\");\r\n    //     return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\r\n    // };\r\n    //Setters/getters\r\n    this.val = function(_){\r\n        return arguments.length ? (val = _, this) : val;\r\n    }\r\n    this.radius = function(_){\r\n        return arguments.length ? (r= +_, dval = r, this): r;\r\n    }\r\n    this.size = function(_) {\r\n        return arguments.length ? (val0 = 0, val1 = +_, this) : (val1 - val0);\r\n    };\r\n    // this.extent = function(_){\r\n    //     return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], this): [[x0, y0], [x1, y1]];\r\n    // }\r\n\r\n    return this.radius(1);\r\n}","import {Delaunator} from \"./modules/delaunator\";\r\nimport {createGraph} from \"./modules/kruskal-mst\";\r\nimport {mst} from \"./modules/kruskal-mst\";\r\nimport {Outlying} from \"./modules/outlying\";\r\nimport {Skewed} from \"./modules/skewed\";\r\nimport {Sparse} from \"./modules/sparse\";\r\nimport {Clumpy} from \"./modules/clumpy\";\r\nimport {Striated} from \"./modules/striated\";\r\nimport {Convex} from \"./modules/convex\";\r\nimport {Skinny} from \"./modules/skinny\";\r\nimport {Stringy} from \"./modules/stringy\";\r\nimport {Monotonic} from \"./modules/monotonic\";\r\nimport {Normalizer} from \"./modules/normalizer\";\r\nimport {LeaderBinner} from \"./modules/leaderbinner\";\r\nimport {SquareBinner} from \"./modules/squarebinner\";\r\nimport _ from \"underscore\"\r\n// import {Binner} from './modules/binner';\r\n(function(window){\r\n    /**\r\n     * initialize a scagnostic object\r\n     * @param inputPoints   {*[][]} set of points from the scatter plot\r\n     * @returns {*[][]}\r\n     */\r\n    window.binnerN = function() {\r\n        //TODO: If the input points have less than 3 unique values => it is pointless to do all scagnostics => should check this. We leave this for the user to check to improve performance.\r\n        //Clone it to avoid modifying it.\r\n        let startBinGridSize = 40,\r\n            isNormalized = false,\r\n            minNumOfBins = 50,\r\n            maxNumOfBins = 250,\r\n            inputPoints=[],\r\n            points = [],\r\n            normalizedPoints = [],\r\n            binSize = null,\r\n            bins = [],\r\n            binner = null,\r\n            binRadius = 0,\r\n            updateRadius = true,\r\n            coefficient={reduce_coefficient : 0.9,\r\n                reduce_offset : 0,\r\n                increase_coefficient : 1,\r\n                increase_offset : 5},\r\n            loopcount=0,\r\n            binType,isEnoughPoints=false,\r\n            distanceMethod = 'l2',\r\n            callback = function(d){};\r\n\r\n        outputValue(\"calculate\", function () {\r\n            points = inputPoints.slice(0);\r\n            normalizedPoints = points;\r\n            if(!isNormalized) {\r\n                let normalizer = new Normalizer(points);\r\n                normalizedPoints = normalizer.normalizedPoints;\r\n                outputValue(\"normalizedFun\", normalizer);\r\n            }\r\n            outputValue(\"normalizedPoints\", normalizedPoints);\r\n            /******This section is about finding number of bins and binners******/\r\n            //Don't do the binning if the unique set of values are less than 50. Just return the unique set.\r\n            // let uniqueKeys = _.uniq(normalizedPoints.map(p=>p.join(',')));\r\n            // let groups = _.groupBy(normalizedPoints, p=>p.join(','));\r\n            // if(uniqueKeys.length<minNumOfBins){\r\n            //     uniqueKeys.forEach(key=>{\r\n            //         let bin = groups[key];\r\n            //         //Take the coordinate of the first point in the group to be the bin leader (they should have the same points actually=> so just take the first one.\r\n            //         bin.val = bin[0];\r\n            //         bin.binRadius = 0;\r\n            //         bins.push(bin);\r\n            //     });\r\n            // }else{\r\n            binSize = updateRadius? null:binSize;\r\n\r\n                do{\r\n                    //Start with 40x40 bins, and divided by 2 every time there are more than maxNumberofBins none empty cells, increase 5 (+5) if less than minNumberOfBins\r\n                    if(binSize===null){\r\n                        binSize = startBinGridSize;\r\n                        updateRadius = false;\r\n                    }else if(bins.length>maxNumOfBins){\r\n                        binSize = binSize*coefficient.reduce_coefficient+coefficient.reduce_offset;\r\n                    }else if(bins.length<minNumOfBins){\r\n                        binSize = binSize*coefficient.increase_coefficient+coefficient.increase_offset;\r\n                    }\r\n\r\n                    // }else if(!binType || binType===\"leader\"){\r\n                    // This section uses leader binner\r\n                    if(binType===\"evenbin\"){\r\n                        // This section uses hexagon binning\r\n                        let gridsize = 1/binSize;\r\n                        binner = new SquareBinner().radius(gridsize);//extent from [0, 0] to [1, 1] since we already normalized data.\r\n                        bins = binner.evenbin(normalizedPoints);\r\n                        binRadius = gridsize;\r\n                    }else if(!binType || binType===\"leader\"){\r\n                        binRadius = 1/(binSize*2);\r\n                        binner = new LeaderBinner(normalizedPoints, binRadius,distanceMethod,maxNumOfBins);\r\n                        bins = binner.leaders;\r\n                    }\r\n                    loopcount++;\r\n                    callback(loopcount,bins.length);\r\n                }while(bins.length > maxNumOfBins || bins.length < minNumOfBins);\r\n            // }\r\n            let sites = bins.map(d => d.val); //=>sites are the set of centers of all bins\r\n            //Assigning output results\r\n            outputValue(\"binner\", binner);\r\n            outputValue(\"bins\", bins);\r\n            outputValue(\"binSize\", binSize);\r\n            outputValue(\"binRadius\", binRadius);\r\n            outputValue(\"binnedSites\", sites);\r\n            outputValue(\"loopcount\", loopcount);\r\n            return window.binnerN;\r\n        });\r\n\r\n        outputValue(\"callback\", function (_) {\r\n            return arguments.length ? (callback = _, window.binnerN) : callback;\r\n\r\n        });\r\n        outputValue(\"binType\", function (_) {\r\n            return arguments.length ? (binType = _, window.binnerN) : binType;\r\n\r\n        });\r\n        outputValue(\"distanceMethod\", function (_) {\r\n            return arguments.length ? (distanceMethod = _, window.binnerN) : distanceMethod;\r\n\r\n        });\r\n\r\n        outputValue(\"calculatePoint\", function (siginput) {\r\n            points = inputPoints.slice(0).concat(siginput);\r\n            inputPoints=points;\r\n            normalizedPoints = points;\r\n            if(!isNormalized) {\r\n                let normalizer = new Normalizer(points);\r\n                normalizedPoints = normalizer.normalizedPoints;\r\n                outputValue(\"normalizedFun\", normalizer);\r\n            }\r\n            outputValue(\"normalizedPoints\", normalizedPoints);\r\n            if (!isEnoughPoints) {\r\n                /******This section is about finding number of bins and binners******/\r\n                    //Don't do the binning if the unique set of values are less than 50. Just return the unique set.\r\n                let uniqueKeys = _.uniq(normalizedPoints.map(p => p.join(',')));\r\n                let groups = _.groupBy(normalizedPoints, p => p.join(','));\r\n                if (uniqueKeys.length < minNumOfBins) {\r\n                    uniqueKeys.forEach(key => {\r\n                        let bin = groups[key];\r\n                        //Take the coordinate of the first point in the group to be the bin leader (they should have the same points actually=> so just take the first one.\r\n                        bin.val = bin[0];\r\n                        bin.binRadius = updateRadius ? 0 : binRadius;\r\n                        bins.push(bin);\r\n                    });\r\n                    isEnoughPoints = false;\r\n                }else\r\n                    isEnoughPoints = true\r\n            }\r\n            if (isEnoughPoints){\r\n            do{\r\n                    //Start with 40x40 bins, and divided by 2 every time there are more than maxNumberofBins none empty cells, increase 5 (+5) if less than minNumberOfBins\r\n                    if(binSize===null){\r\n                        binSize = startBinGridSize;\r\n                    }else if(bins.length>maxNumOfBins*2){\r\n                        binSize = binSize*0.9;\r\n                    }else if(bins.length<minNumOfBins){\r\n                        binSize = binSize + 5;\r\n                    }\r\n\r\n                    // }else if(!binType || binType===\"leader\"){\r\n                    // This section uses leader binner\r\n                    binRadius = 1/(binSize*2);\r\n                    binner = new LeaderBinner(normalizedPoints, binRadius);\r\n                    bins = binner.leaders;\r\n                    //}\r\n                }while(bins.length > maxNumOfBins*2 || bins.length < minNumOfBins);\r\n            }\r\n            let sites = bins.map(d => d.val); //=>sites are the set of centers of all bins\r\n            //Assigning output results\r\n            outputValue(\"binner\", binner);\r\n            outputValue(\"bins\", bins);\r\n            outputValue(\"binSize\", binSize);\r\n            outputValue(\"binRadius\", binRadius);\r\n            outputValue(\"binnedSites\", sites);\r\n            return window.binnerN;\r\n        });\r\n\r\n\r\n        outputValue(\"coefficient\", function (_) {\r\n            //Put all of the options into a variable called graphicopt\r\n            if (arguments.length) {\r\n                for (let i in _) {\r\n                    if ('undefined' !== typeof _[i]) {\r\n                        coefficient[i] = _[i];\r\n                    }\r\n                }\r\n                return window.binnerN;\r\n            }else {\r\n                return coefficient;\r\n            }\r\n\r\n        });\r\n\r\n        outputValue(\"startBinGridSize\", function (_) {\r\n            return arguments.length ? (startBinGridSize = _, window.binnerN) : startBinGridSize;\r\n\r\n        });\r\n        outputValue(\"isNormalized\", function (_) {\r\n            return arguments.length ? (isNormalized = _, window.binnerN) : isNormalized;\r\n\r\n        });\r\n        outputValue(\"minNumOfBins\", function (_) {\r\n            return arguments.length ? (minNumOfBins = _, window.binnerN) : minNumOfBins;\r\n\r\n        });\r\n        outputValue(\"maxNumOfBins\", function (_) {\r\n            return arguments.length ? (maxNumOfBins = _, window.binnerN) : maxNumOfBins;\r\n\r\n        });\r\n        outputValue(\"data\", function (_) {\r\n            return arguments.length ? (inputPoints = _,isEnoughPoints=false, window.binnerN) : inputPoints;\r\n        });\r\n        outputValue(\"updateRadius\", function (_) {\r\n            if (arguments.length&& _)\r\n                binSize=null;\r\n            return arguments.length ? (updateRadius = _, window.binnerN) : updateRadius;\r\n        });\r\n        return window.binnerN;\r\n        function outputValue(name, value){\r\n            window.binnerN[name] = value;\r\n        }\r\n    };\r\n\r\n})(window);","(function () {\r\n    'use strict'\r\n    'use strict';\r\n    var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\n    function createCommonjsModule(fn, module) {\r\n        return module = { exports: {} }, fn(module, module.exports), module.exports;\r\n    }\r\n\r\n    var underscore = createCommonjsModule(function (module, exports) {\r\n        //     Underscore.js 1.9.1\r\n        //     http://underscorejs.org\r\n        //     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\r\n        //     Underscore may be freely distributed under the MIT license.\r\n\r\n        (function() {\r\n\r\n            // Baseline setup\r\n            // --------------\r\n\r\n            // Establish the root object, `window` (`self`) in the browser, `global`\r\n            // on the server, or `this` in some virtual machines. We use `self`\r\n            // instead of `window` for `WebWorker` support.\r\n            var root = typeof self == 'object' && self.self === self && self ||\r\n                typeof commonjsGlobal == 'object' && commonjsGlobal.global === commonjsGlobal && commonjsGlobal ||\r\n                this ||\r\n                {};\r\n\r\n            // Save the previous value of the `_` variable.\r\n            var previousUnderscore = root._;\r\n\r\n            // Save bytes in the minified (but not gzipped) version:\r\n            var ArrayProto = Array.prototype, ObjProto = Object.prototype;\r\n            var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\r\n\r\n            // Create quick reference variables for speed access to core prototypes.\r\n            var push = ArrayProto.push,\r\n                slice = ArrayProto.slice,\r\n                toString = ObjProto.toString,\r\n                hasOwnProperty = ObjProto.hasOwnProperty;\r\n\r\n            // All **ECMAScript 5** native function implementations that we hope to use\r\n            // are declared here.\r\n            var nativeIsArray = Array.isArray,\r\n                nativeKeys = Object.keys,\r\n                nativeCreate = Object.create;\r\n\r\n            // Naked function reference for surrogate-prototype-swapping.\r\n            var Ctor = function(){};\r\n\r\n            // Create a safe reference to the Underscore object for use below.\r\n            var _ = function(obj) {\r\n                if (obj instanceof _) return obj;\r\n                if (!(this instanceof _)) return new _(obj);\r\n                this._wrapped = obj;\r\n            };\r\n\r\n            // Export the Underscore object for **Node.js**, with\r\n            // backwards-compatibility for their old module API. If we're in\r\n            // the browser, add `_` as a global object.\r\n            // (`nodeType` is checked to ensure that `module`\r\n            // and `exports` are not HTML elements.)\r\n            if (!exports.nodeType) {\r\n                if (!module.nodeType && module.exports) {\r\n                    exports = module.exports = _;\r\n                }\r\n                exports._ = _;\r\n            } else {\r\n                root._ = _;\r\n            }\r\n\r\n            // Current version.\r\n            _.VERSION = '1.9.1';\r\n\r\n            // Internal function that returns an efficient (for current engines) version\r\n            // of the passed-in callback, to be repeatedly applied in other Underscore\r\n            // functions.\r\n            var optimizeCb = function(func, context, argCount) {\r\n                if (context === void 0) return func;\r\n                switch (argCount == null ? 3 : argCount) {\r\n                    case 1: return function(value) {\r\n                        return func.call(context, value);\r\n                    };\r\n                    // The 2-argument case is omitted because were not using it.\r\n                    case 3: return function(value, index, collection) {\r\n                        return func.call(context, value, index, collection);\r\n                    };\r\n                    case 4: return function(accumulator, value, index, collection) {\r\n                        return func.call(context, accumulator, value, index, collection);\r\n                    };\r\n                }\r\n                return function() {\r\n                    return func.apply(context, arguments);\r\n                };\r\n            };\r\n\r\n            var builtinIteratee;\r\n\r\n            // An internal function to generate callbacks that can be applied to each\r\n            // element in a collection, returning the desired result  either `identity`,\r\n            // an arbitrary callback, a property matcher, or a property accessor.\r\n            var cb = function(value, context, argCount) {\r\n                if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\r\n                if (value == null) return _.identity;\r\n                if (_.isFunction(value)) return optimizeCb(value, context, argCount);\r\n                if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\r\n                return _.property(value);\r\n            };\r\n\r\n            // External wrapper for our callback generator. Users may customize\r\n            // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\r\n            // This abstraction hides the internal-only argCount argument.\r\n            _.iteratee = builtinIteratee = function(value, context) {\r\n                return cb(value, context, Infinity);\r\n            };\r\n\r\n            // Some functions take a variable number of arguments, or a few expected\r\n            // arguments at the beginning and then a variable number of values to operate\r\n            // on. This helper accumulates all remaining arguments past the functions\r\n            // argument length (or an explicit `startIndex`), into an array that becomes\r\n            // the last argument. Similar to ES6s \"rest parameter\".\r\n            var restArguments = function(func, startIndex) {\r\n                startIndex = startIndex == null ? func.length - 1 : +startIndex;\r\n                return function() {\r\n                    var length = Math.max(arguments.length - startIndex, 0),\r\n                        rest = Array(length),\r\n                        index = 0;\r\n                    for (; index < length; index++) {\r\n                        rest[index] = arguments[index + startIndex];\r\n                    }\r\n                    switch (startIndex) {\r\n                        case 0: return func.call(this, rest);\r\n                        case 1: return func.call(this, arguments[0], rest);\r\n                        case 2: return func.call(this, arguments[0], arguments[1], rest);\r\n                    }\r\n                    var args = Array(startIndex + 1);\r\n                    for (index = 0; index < startIndex; index++) {\r\n                        args[index] = arguments[index];\r\n                    }\r\n                    args[startIndex] = rest;\r\n                    return func.apply(this, args);\r\n                };\r\n            };\r\n\r\n            // An internal function for creating a new object that inherits from another.\r\n            var baseCreate = function(prototype) {\r\n                if (!_.isObject(prototype)) return {};\r\n                if (nativeCreate) return nativeCreate(prototype);\r\n                Ctor.prototype = prototype;\r\n                var result = new Ctor;\r\n                Ctor.prototype = null;\r\n                return result;\r\n            };\r\n\r\n            var shallowProperty = function(key) {\r\n                return function(obj) {\r\n                    return obj == null ? void 0 : obj[key];\r\n                };\r\n            };\r\n\r\n            var has = function(obj, path) {\r\n                return obj != null && hasOwnProperty.call(obj, path);\r\n            };\r\n\r\n            var deepGet = function(obj, path) {\r\n                var length = path.length;\r\n                for (var i = 0; i < length; i++) {\r\n                    if (obj == null) return void 0;\r\n                    obj = obj[path[i]];\r\n                }\r\n                return length ? obj : void 0;\r\n            };\r\n\r\n            // Helper for collection methods to determine whether a collection\r\n            // should be iterated as an array or as an object.\r\n            // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\r\n            // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\r\n            var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n            var getLength = shallowProperty('length');\r\n            var isArrayLike = function(collection) {\r\n                var length = getLength(collection);\r\n                return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n            };\r\n\r\n            // Collection Functions\r\n            // --------------------\r\n\r\n            // The cornerstone, an `each` implementation, aka `forEach`.\r\n            // Handles raw objects in addition to array-likes. Treats all\r\n            // sparse array-likes as if they were dense.\r\n            _.each = _.forEach = function(obj, iteratee, context) {\r\n                iteratee = optimizeCb(iteratee, context);\r\n                var i, length;\r\n                if (isArrayLike(obj)) {\r\n                    for (i = 0, length = obj.length; i < length; i++) {\r\n                        iteratee(obj[i], i, obj);\r\n                    }\r\n                } else {\r\n                    var keys = _.keys(obj);\r\n                    for (i = 0, length = keys.length; i < length; i++) {\r\n                        iteratee(obj[keys[i]], keys[i], obj);\r\n                    }\r\n                }\r\n                return obj;\r\n            };\r\n\r\n            // Return the results of applying the iteratee to each element.\r\n            _.map = _.collect = function(obj, iteratee, context) {\r\n                iteratee = cb(iteratee, context);\r\n                var keys = !isArrayLike(obj) && _.keys(obj),\r\n                    length = (keys || obj).length,\r\n                    results = Array(length);\r\n                for (var index = 0; index < length; index++) {\r\n                    var currentKey = keys ? keys[index] : index;\r\n                    results[index] = iteratee(obj[currentKey], currentKey, obj);\r\n                }\r\n                return results;\r\n            };\r\n\r\n            // Create a reducing function iterating left or right.\r\n            var createReduce = function(dir) {\r\n                // Wrap code that reassigns argument variables in a separate function than\r\n                // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\r\n                var reducer = function(obj, iteratee, memo, initial) {\r\n                    var keys = !isArrayLike(obj) && _.keys(obj),\r\n                        length = (keys || obj).length,\r\n                        index = dir > 0 ? 0 : length - 1;\r\n                    if (!initial) {\r\n                        memo = obj[keys ? keys[index] : index];\r\n                        index += dir;\r\n                    }\r\n                    for (; index >= 0 && index < length; index += dir) {\r\n                        var currentKey = keys ? keys[index] : index;\r\n                        memo = iteratee(memo, obj[currentKey], currentKey, obj);\r\n                    }\r\n                    return memo;\r\n                };\r\n\r\n                return function(obj, iteratee, memo, context) {\r\n                    var initial = arguments.length >= 3;\r\n                    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\r\n                };\r\n            };\r\n\r\n            // **Reduce** builds up a single result from a list of values, aka `inject`,\r\n            // or `foldl`.\r\n            _.reduce = _.foldl = _.inject = createReduce(1);\r\n\r\n            // The right-associative version of reduce, also known as `foldr`.\r\n            _.reduceRight = _.foldr = createReduce(-1);\r\n\r\n            // Return the first value which passes a truth test. Aliased as `detect`.\r\n            _.find = _.detect = function(obj, predicate, context) {\r\n                var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\r\n                var key = keyFinder(obj, predicate, context);\r\n                if (key !== void 0 && key !== -1) return obj[key];\r\n            };\r\n\r\n            // Return all the elements that pass a truth test.\r\n            // Aliased as `select`.\r\n            _.filter = _.select = function(obj, predicate, context) {\r\n                var results = [];\r\n                predicate = cb(predicate, context);\r\n                _.each(obj, function(value, index, list) {\r\n                    if (predicate(value, index, list)) results.push(value);\r\n                });\r\n                return results;\r\n            };\r\n\r\n            // Return all the elements for which a truth test fails.\r\n            _.reject = function(obj, predicate, context) {\r\n                return _.filter(obj, _.negate(cb(predicate)), context);\r\n            };\r\n\r\n            // Determine whether all of the elements match a truth test.\r\n            // Aliased as `all`.\r\n            _.every = _.all = function(obj, predicate, context) {\r\n                predicate = cb(predicate, context);\r\n                var keys = !isArrayLike(obj) && _.keys(obj),\r\n                    length = (keys || obj).length;\r\n                for (var index = 0; index < length; index++) {\r\n                    var currentKey = keys ? keys[index] : index;\r\n                    if (!predicate(obj[currentKey], currentKey, obj)) return false;\r\n                }\r\n                return true;\r\n            };\r\n\r\n            // Determine if at least one element in the object matches a truth test.\r\n            // Aliased as `any`.\r\n            _.some = _.any = function(obj, predicate, context) {\r\n                predicate = cb(predicate, context);\r\n                var keys = !isArrayLike(obj) && _.keys(obj),\r\n                    length = (keys || obj).length;\r\n                for (var index = 0; index < length; index++) {\r\n                    var currentKey = keys ? keys[index] : index;\r\n                    if (predicate(obj[currentKey], currentKey, obj)) return true;\r\n                }\r\n                return false;\r\n            };\r\n\r\n            // Determine if the array or object contains a given item (using `===`).\r\n            // Aliased as `includes` and `include`.\r\n            _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\r\n                if (!isArrayLike(obj)) obj = _.values(obj);\r\n                if (typeof fromIndex != 'number' || guard) fromIndex = 0;\r\n                return _.indexOf(obj, item, fromIndex) >= 0;\r\n            };\r\n\r\n            // Invoke a method (with arguments) on every item in a collection.\r\n            _.invoke = restArguments(function(obj, path, args) {\r\n                var contextPath, func;\r\n                if (_.isFunction(path)) {\r\n                    func = path;\r\n                } else if (_.isArray(path)) {\r\n                    contextPath = path.slice(0, -1);\r\n                    path = path[path.length - 1];\r\n                }\r\n                return _.map(obj, function(context) {\r\n                    var method = func;\r\n                    if (!method) {\r\n                        if (contextPath && contextPath.length) {\r\n                            context = deepGet(context, contextPath);\r\n                        }\r\n                        if (context == null) return void 0;\r\n                        method = context[path];\r\n                    }\r\n                    return method == null ? method : method.apply(context, args);\r\n                });\r\n            });\r\n\r\n            // Convenience version of a common use case of `map`: fetching a property.\r\n            _.pluck = function(obj, key) {\r\n                return _.map(obj, _.property(key));\r\n            };\r\n\r\n            // Convenience version of a common use case of `filter`: selecting only objects\r\n            // containing specific `key:value` pairs.\r\n            _.where = function(obj, attrs) {\r\n                return _.filter(obj, _.matcher(attrs));\r\n            };\r\n\r\n            // Convenience version of a common use case of `find`: getting the first object\r\n            // containing specific `key:value` pairs.\r\n            _.findWhere = function(obj, attrs) {\r\n                return _.find(obj, _.matcher(attrs));\r\n            };\r\n\r\n            // Return the maximum element (or element-based computation).\r\n            _.max = function(obj, iteratee, context) {\r\n                var result = -Infinity, lastComputed = -Infinity,\r\n                    value, computed;\r\n                if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\r\n                    obj = isArrayLike(obj) ? obj : _.values(obj);\r\n                    for (var i = 0, length = obj.length; i < length; i++) {\r\n                        value = obj[i];\r\n                        if (value != null && value > result) {\r\n                            result = value;\r\n                        }\r\n                    }\r\n                } else {\r\n                    iteratee = cb(iteratee, context);\r\n                    _.each(obj, function(v, index, list) {\r\n                        computed = iteratee(v, index, list);\r\n                        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\r\n                            result = v;\r\n                            lastComputed = computed;\r\n                        }\r\n                    });\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Return the minimum element (or element-based computation).\r\n            _.min = function(obj, iteratee, context) {\r\n                var result = Infinity, lastComputed = Infinity,\r\n                    value, computed;\r\n                if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\r\n                    obj = isArrayLike(obj) ? obj : _.values(obj);\r\n                    for (var i = 0, length = obj.length; i < length; i++) {\r\n                        value = obj[i];\r\n                        if (value != null && value < result) {\r\n                            result = value;\r\n                        }\r\n                    }\r\n                } else {\r\n                    iteratee = cb(iteratee, context);\r\n                    _.each(obj, function(v, index, list) {\r\n                        computed = iteratee(v, index, list);\r\n                        if (computed < lastComputed || computed === Infinity && result === Infinity) {\r\n                            result = v;\r\n                            lastComputed = computed;\r\n                        }\r\n                    });\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Shuffle a collection.\r\n            _.shuffle = function(obj) {\r\n                return _.sample(obj, Infinity);\r\n            };\r\n\r\n            // Sample **n** random values from a collection using the modern version of the\r\n            // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\r\n            // If **n** is not specified, returns a single random element.\r\n            // The internal `guard` argument allows it to work with `map`.\r\n            _.sample = function(obj, n, guard) {\r\n                if (n == null || guard) {\r\n                    if (!isArrayLike(obj)) obj = _.values(obj);\r\n                    return obj[_.random(obj.length - 1)];\r\n                }\r\n                var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\r\n                var length = getLength(sample);\r\n                n = Math.max(Math.min(n, length), 0);\r\n                var last = length - 1;\r\n                for (var index = 0; index < n; index++) {\r\n                    var rand = _.random(index, last);\r\n                    var temp = sample[index];\r\n                    sample[index] = sample[rand];\r\n                    sample[rand] = temp;\r\n                }\r\n                return sample.slice(0, n);\r\n            };\r\n\r\n            // Sort the object's values by a criterion produced by an iteratee.\r\n            _.sortBy = function(obj, iteratee, context) {\r\n                var index = 0;\r\n                iteratee = cb(iteratee, context);\r\n                return _.pluck(_.map(obj, function(value, key, list) {\r\n                    return {\r\n                        value: value,\r\n                        index: index++,\r\n                        criteria: iteratee(value, key, list)\r\n                    };\r\n                }).sort(function(left, right) {\r\n                    var a = left.criteria;\r\n                    var b = right.criteria;\r\n                    if (a !== b) {\r\n                        if (a > b || a === void 0) return 1;\r\n                        if (a < b || b === void 0) return -1;\r\n                    }\r\n                    return left.index - right.index;\r\n                }), 'value');\r\n            };\r\n\r\n            // An internal function used for aggregate \"group by\" operations.\r\n            var group = function(behavior, partition) {\r\n                return function(obj, iteratee, context) {\r\n                    var result = partition ? [[], []] : {};\r\n                    iteratee = cb(iteratee, context);\r\n                    _.each(obj, function(value, index) {\r\n                        var key = iteratee(value, index, obj);\r\n                        behavior(result, value, key);\r\n                    });\r\n                    return result;\r\n                };\r\n            };\r\n\r\n            // Groups the object's values by a criterion. Pass either a string attribute\r\n            // to group by, or a function that returns the criterion.\r\n            _.groupBy = group(function(result, value, key) {\r\n                if (has(result, key)) result[key].push(value); else result[key] = [value];\r\n            });\r\n\r\n            // Indexes the object's values by a criterion, similar to `groupBy`, but for\r\n            // when you know that your index values will be unique.\r\n            _.indexBy = group(function(result, value, key) {\r\n                result[key] = value;\r\n            });\r\n\r\n            // Counts instances of an object that group by a certain criterion. Pass\r\n            // either a string attribute to count by, or a function that returns the\r\n            // criterion.\r\n            _.countBy = group(function(result, value, key) {\r\n                if (has(result, key)) result[key]++; else result[key] = 1;\r\n            });\r\n\r\n            var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\r\n            // Safely create a real, live array from anything iterable.\r\n            _.toArray = function(obj) {\r\n                if (!obj) return [];\r\n                if (_.isArray(obj)) return slice.call(obj);\r\n                if (_.isString(obj)) {\r\n                    // Keep surrogate pair characters together\r\n                    return obj.match(reStrSymbol);\r\n                }\r\n                if (isArrayLike(obj)) return _.map(obj, _.identity);\r\n                return _.values(obj);\r\n            };\r\n\r\n            // Return the number of elements in an object.\r\n            _.size = function(obj) {\r\n                if (obj == null) return 0;\r\n                return isArrayLike(obj) ? obj.length : _.keys(obj).length;\r\n            };\r\n\r\n            // Split a collection into two arrays: one whose elements all satisfy the given\r\n            // predicate, and one whose elements all do not satisfy the predicate.\r\n            _.partition = group(function(result, value, pass) {\r\n                result[pass ? 0 : 1].push(value);\r\n            }, true);\r\n\r\n            // Array Functions\r\n            // ---------------\r\n\r\n            // Get the first element of an array. Passing **n** will return the first N\r\n            // values in the array. Aliased as `head` and `take`. The **guard** check\r\n            // allows it to work with `_.map`.\r\n            _.first = _.head = _.take = function(array, n, guard) {\r\n                if (array == null || array.length < 1) return n == null ? void 0 : [];\r\n                if (n == null || guard) return array[0];\r\n                return _.initial(array, array.length - n);\r\n            };\r\n\r\n            // Returns everything but the last entry of the array. Especially useful on\r\n            // the arguments object. Passing **n** will return all the values in\r\n            // the array, excluding the last N.\r\n            _.initial = function(array, n, guard) {\r\n                return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\r\n            };\r\n\r\n            // Get the last element of an array. Passing **n** will return the last N\r\n            // values in the array.\r\n            _.last = function(array, n, guard) {\r\n                if (array == null || array.length < 1) return n == null ? void 0 : [];\r\n                if (n == null || guard) return array[array.length - 1];\r\n                return _.rest(array, Math.max(0, array.length - n));\r\n            };\r\n\r\n            // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\r\n            // Especially useful on the arguments object. Passing an **n** will return\r\n            // the rest N values in the array.\r\n            _.rest = _.tail = _.drop = function(array, n, guard) {\r\n                return slice.call(array, n == null || guard ? 1 : n);\r\n            };\r\n\r\n            // Trim out all falsy values from an array.\r\n            _.compact = function(array) {\r\n                return _.filter(array, Boolean);\r\n            };\r\n\r\n            // Internal implementation of a recursive `flatten` function.\r\n            var flatten = function(input, shallow, strict, output) {\r\n                output = output || [];\r\n                var idx = output.length;\r\n                for (var i = 0, length = getLength(input); i < length; i++) {\r\n                    var value = input[i];\r\n                    if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\r\n                        // Flatten current level of array or arguments object.\r\n                        if (shallow) {\r\n                            var j = 0, len = value.length;\r\n                            while (j < len) output[idx++] = value[j++];\r\n                        } else {\r\n                            flatten(value, shallow, strict, output);\r\n                            idx = output.length;\r\n                        }\r\n                    } else if (!strict) {\r\n                        output[idx++] = value;\r\n                    }\r\n                }\r\n                return output;\r\n            };\r\n\r\n            // Flatten out an array, either recursively (by default), or just one level.\r\n            _.flatten = function(array, shallow) {\r\n                return flatten(array, shallow, false);\r\n            };\r\n\r\n            // Return a version of the array that does not contain the specified value(s).\r\n            _.without = restArguments(function(array, otherArrays) {\r\n                return _.difference(array, otherArrays);\r\n            });\r\n\r\n            // Produce a duplicate-free version of the array. If the array has already\r\n            // been sorted, you have the option of using a faster algorithm.\r\n            // The faster algorithm will not work with an iteratee if the iteratee\r\n            // is not a one-to-one function, so providing an iteratee will disable\r\n            // the faster algorithm.\r\n            // Aliased as `unique`.\r\n            _.uniq = _.unique = function(array, isSorted, iteratee, context) {\r\n                if (!_.isBoolean(isSorted)) {\r\n                    context = iteratee;\r\n                    iteratee = isSorted;\r\n                    isSorted = false;\r\n                }\r\n                if (iteratee != null) iteratee = cb(iteratee, context);\r\n                var result = [];\r\n                var seen = [];\r\n                for (var i = 0, length = getLength(array); i < length; i++) {\r\n                    var value = array[i],\r\n                        computed = iteratee ? iteratee(value, i, array) : value;\r\n                    if (isSorted && !iteratee) {\r\n                        if (!i || seen !== computed) result.push(value);\r\n                        seen = computed;\r\n                    } else if (iteratee) {\r\n                        if (!_.contains(seen, computed)) {\r\n                            seen.push(computed);\r\n                            result.push(value);\r\n                        }\r\n                    } else if (!_.contains(result, value)) {\r\n                        result.push(value);\r\n                    }\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Produce an array that contains the union: each distinct element from all of\r\n            // the passed-in arrays.\r\n            _.union = restArguments(function(arrays) {\r\n                return _.uniq(flatten(arrays, true, true));\r\n            });\r\n\r\n            // Produce an array that contains every item shared between all the\r\n            // passed-in arrays.\r\n            _.intersection = function(array) {\r\n                var result = [];\r\n                var argsLength = arguments.length;\r\n                for (var i = 0, length = getLength(array); i < length; i++) {\r\n                    var item = array[i];\r\n                    if (_.contains(result, item)) continue;\r\n                    var j;\r\n                    for (j = 1; j < argsLength; j++) {\r\n                        if (!_.contains(arguments[j], item)) break;\r\n                    }\r\n                    if (j === argsLength) result.push(item);\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Take the difference between one array and a number of other arrays.\r\n            // Only the elements present in just the first array will remain.\r\n            _.difference = restArguments(function(array, rest) {\r\n                rest = flatten(rest, true, true);\r\n                return _.filter(array, function(value){\r\n                    return !_.contains(rest, value);\r\n                });\r\n            });\r\n\r\n            // Complement of _.zip. Unzip accepts an array of arrays and groups\r\n            // each array's elements on shared indices.\r\n            _.unzip = function(array) {\r\n                var length = array && _.max(array, getLength).length || 0;\r\n                var result = Array(length);\r\n\r\n                for (var index = 0; index < length; index++) {\r\n                    result[index] = _.pluck(array, index);\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Zip together multiple lists into a single array -- elements that share\r\n            // an index go together.\r\n            _.zip = restArguments(_.unzip);\r\n\r\n            // Converts lists into objects. Pass either a single array of `[key, value]`\r\n            // pairs, or two parallel arrays of the same length -- one of keys, and one of\r\n            // the corresponding values. Passing by pairs is the reverse of _.pairs.\r\n            _.object = function(list, values) {\r\n                var result = {};\r\n                for (var i = 0, length = getLength(list); i < length; i++) {\r\n                    if (values) {\r\n                        result[list[i]] = values[i];\r\n                    } else {\r\n                        result[list[i][0]] = list[i][1];\r\n                    }\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Generator function to create the findIndex and findLastIndex functions.\r\n            var createPredicateIndexFinder = function(dir) {\r\n                return function(array, predicate, context) {\r\n                    predicate = cb(predicate, context);\r\n                    var length = getLength(array);\r\n                    var index = dir > 0 ? 0 : length - 1;\r\n                    for (; index >= 0 && index < length; index += dir) {\r\n                        if (predicate(array[index], index, array)) return index;\r\n                    }\r\n                    return -1;\r\n                };\r\n            };\r\n\r\n            // Returns the first index on an array-like that passes a predicate test.\r\n            _.findIndex = createPredicateIndexFinder(1);\r\n            _.findLastIndex = createPredicateIndexFinder(-1);\r\n\r\n            // Use a comparator function to figure out the smallest index at which\r\n            // an object should be inserted so as to maintain order. Uses binary search.\r\n            _.sortedIndex = function(array, obj, iteratee, context) {\r\n                iteratee = cb(iteratee, context, 1);\r\n                var value = iteratee(obj);\r\n                var low = 0, high = getLength(array);\r\n                while (low < high) {\r\n                    var mid = Math.floor((low + high) / 2);\r\n                    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\r\n                }\r\n                return low;\r\n            };\r\n\r\n            // Generator function to create the indexOf and lastIndexOf functions.\r\n            var createIndexFinder = function(dir, predicateFind, sortedIndex) {\r\n                return function(array, item, idx) {\r\n                    var i = 0, length = getLength(array);\r\n                    if (typeof idx == 'number') {\r\n                        if (dir > 0) {\r\n                            i = idx >= 0 ? idx : Math.max(idx + length, i);\r\n                        } else {\r\n                            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\r\n                        }\r\n                    } else if (sortedIndex && idx && length) {\r\n                        idx = sortedIndex(array, item);\r\n                        return array[idx] === item ? idx : -1;\r\n                    }\r\n                    if (item !== item) {\r\n                        idx = predicateFind(slice.call(array, i, length), _.isNaN);\r\n                        return idx >= 0 ? idx + i : -1;\r\n                    }\r\n                    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\r\n                        if (array[idx] === item) return idx;\r\n                    }\r\n                    return -1;\r\n                };\r\n            };\r\n\r\n            // Return the position of the first occurrence of an item in an array,\r\n            // or -1 if the item is not included in the array.\r\n            // If the array is large and already in sort order, pass `true`\r\n            // for **isSorted** to use binary search.\r\n            _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\r\n            _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\r\n\r\n            // Generate an integer Array containing an arithmetic progression. A port of\r\n            // the native Python `range()` function. See\r\n            // [the Python documentation](http://docs.python.org/library/functions.html#range).\r\n            _.range = function(start, stop, step) {\r\n                if (stop == null) {\r\n                    stop = start || 0;\r\n                    start = 0;\r\n                }\r\n                if (!step) {\r\n                    step = stop < start ? -1 : 1;\r\n                }\r\n\r\n                var length = Math.max(Math.ceil((stop - start) / step), 0);\r\n                var range = Array(length);\r\n\r\n                for (var idx = 0; idx < length; idx++, start += step) {\r\n                    range[idx] = start;\r\n                }\r\n\r\n                return range;\r\n            };\r\n\r\n            // Chunk a single array into multiple arrays, each containing `count` or fewer\r\n            // items.\r\n            _.chunk = function(array, count) {\r\n                if (count == null || count < 1) return [];\r\n                var result = [];\r\n                var i = 0, length = array.length;\r\n                while (i < length) {\r\n                    result.push(slice.call(array, i, i += count));\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Function (ahem) Functions\r\n            // ------------------\r\n\r\n            // Determines whether to execute a function as a constructor\r\n            // or a normal function with the provided arguments.\r\n            var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\r\n                if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\r\n                var self = baseCreate(sourceFunc.prototype);\r\n                var result = sourceFunc.apply(self, args);\r\n                if (_.isObject(result)) return result;\r\n                return self;\r\n            };\r\n\r\n            // Create a function bound to a given object (assigning `this`, and arguments,\r\n            // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\r\n            // available.\r\n            _.bind = restArguments(function(func, context, args) {\r\n                if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\r\n                var bound = restArguments(function(callArgs) {\r\n                    return executeBound(func, bound, context, this, args.concat(callArgs));\r\n                });\r\n                return bound;\r\n            });\r\n\r\n            // Partially apply a function by creating a version that has had some of its\r\n            // arguments pre-filled, without changing its dynamic `this` context. _ acts\r\n            // as a placeholder by default, allowing any combination of arguments to be\r\n            // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\r\n            _.partial = restArguments(function(func, boundArgs) {\r\n                var placeholder = _.partial.placeholder;\r\n                var bound = function() {\r\n                    var position = 0, length = boundArgs.length;\r\n                    var args = Array(length);\r\n                    for (var i = 0; i < length; i++) {\r\n                        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\r\n                    }\r\n                    while (position < arguments.length) args.push(arguments[position++]);\r\n                    return executeBound(func, bound, this, this, args);\r\n                };\r\n                return bound;\r\n            });\r\n\r\n            _.partial.placeholder = _;\r\n\r\n            // Bind a number of an object's methods to that object. Remaining arguments\r\n            // are the method names to be bound. Useful for ensuring that all callbacks\r\n            // defined on an object belong to it.\r\n            _.bindAll = restArguments(function(obj, keys) {\r\n                keys = flatten(keys, false, false);\r\n                var index = keys.length;\r\n                if (index < 1) throw new Error('bindAll must be passed function names');\r\n                while (index--) {\r\n                    var key = keys[index];\r\n                    obj[key] = _.bind(obj[key], obj);\r\n                }\r\n            });\r\n\r\n            // Memoize an expensive function by storing its results.\r\n            _.memoize = function(func, hasher) {\r\n                var memoize = function(key) {\r\n                    var cache = memoize.cache;\r\n                    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\r\n                    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\r\n                    return cache[address];\r\n                };\r\n                memoize.cache = {};\r\n                return memoize;\r\n            };\r\n\r\n            // Delays a function for the given number of milliseconds, and then calls\r\n            // it with the arguments supplied.\r\n            _.delay = restArguments(function(func, wait, args) {\r\n                return setTimeout(function() {\r\n                    return func.apply(null, args);\r\n                }, wait);\r\n            });\r\n\r\n            // Defers a function, scheduling it to run after the current call stack has\r\n            // cleared.\r\n            _.defer = _.partial(_.delay, _, 1);\r\n\r\n            // Returns a function, that, when invoked, will only be triggered at most once\r\n            // during a given window of time. Normally, the throttled function will run\r\n            // as much as it can, without ever going more than once per `wait` duration;\r\n            // but if you'd like to disable the execution on the leading edge, pass\r\n            // `{leading: false}`. To disable execution on the trailing edge, ditto.\r\n            _.throttle = function(func, wait, options) {\r\n                var timeout, context, args, result;\r\n                var previous = 0;\r\n                if (!options) options = {};\r\n\r\n                var later = function() {\r\n                    previous = options.leading === false ? 0 : _.now();\r\n                    timeout = null;\r\n                    result = func.apply(context, args);\r\n                    if (!timeout) context = args = null;\r\n                };\r\n\r\n                var throttled = function() {\r\n                    var now = _.now();\r\n                    if (!previous && options.leading === false) previous = now;\r\n                    var remaining = wait - (now - previous);\r\n                    context = this;\r\n                    args = arguments;\r\n                    if (remaining <= 0 || remaining > wait) {\r\n                        if (timeout) {\r\n                            clearTimeout(timeout);\r\n                            timeout = null;\r\n                        }\r\n                        previous = now;\r\n                        result = func.apply(context, args);\r\n                        if (!timeout) context = args = null;\r\n                    } else if (!timeout && options.trailing !== false) {\r\n                        timeout = setTimeout(later, remaining);\r\n                    }\r\n                    return result;\r\n                };\r\n\r\n                throttled.cancel = function() {\r\n                    clearTimeout(timeout);\r\n                    previous = 0;\r\n                    timeout = context = args = null;\r\n                };\r\n\r\n                return throttled;\r\n            };\r\n\r\n            // Returns a function, that, as long as it continues to be invoked, will not\r\n            // be triggered. The function will be called after it stops being called for\r\n            // N milliseconds. If `immediate` is passed, trigger the function on the\r\n            // leading edge, instead of the trailing.\r\n            _.debounce = function(func, wait, immediate) {\r\n                var timeout, result;\r\n\r\n                var later = function(context, args) {\r\n                    timeout = null;\r\n                    if (args) result = func.apply(context, args);\r\n                };\r\n\r\n                var debounced = restArguments(function(args) {\r\n                    if (timeout) clearTimeout(timeout);\r\n                    if (immediate) {\r\n                        var callNow = !timeout;\r\n                        timeout = setTimeout(later, wait);\r\n                        if (callNow) result = func.apply(this, args);\r\n                    } else {\r\n                        timeout = _.delay(later, wait, this, args);\r\n                    }\r\n\r\n                    return result;\r\n                });\r\n\r\n                debounced.cancel = function() {\r\n                    clearTimeout(timeout);\r\n                    timeout = null;\r\n                };\r\n\r\n                return debounced;\r\n            };\r\n\r\n            // Returns the first function passed as an argument to the second,\r\n            // allowing you to adjust arguments, run code before and after, and\r\n            // conditionally execute the original function.\r\n            _.wrap = function(func, wrapper) {\r\n                return _.partial(wrapper, func);\r\n            };\r\n\r\n            // Returns a negated version of the passed-in predicate.\r\n            _.negate = function(predicate) {\r\n                return function() {\r\n                    return !predicate.apply(this, arguments);\r\n                };\r\n            };\r\n\r\n            // Returns a function that is the composition of a list of functions, each\r\n            // consuming the return value of the function that follows.\r\n            _.compose = function() {\r\n                var args = arguments;\r\n                var start = args.length - 1;\r\n                return function() {\r\n                    var i = start;\r\n                    var result = args[start].apply(this, arguments);\r\n                    while (i--) result = args[i].call(this, result);\r\n                    return result;\r\n                };\r\n            };\r\n\r\n            // Returns a function that will only be executed on and after the Nth call.\r\n            _.after = function(times, func) {\r\n                return function() {\r\n                    if (--times < 1) {\r\n                        return func.apply(this, arguments);\r\n                    }\r\n                };\r\n            };\r\n\r\n            // Returns a function that will only be executed up to (but not including) the Nth call.\r\n            _.before = function(times, func) {\r\n                var memo;\r\n                return function() {\r\n                    if (--times > 0) {\r\n                        memo = func.apply(this, arguments);\r\n                    }\r\n                    if (times <= 1) func = null;\r\n                    return memo;\r\n                };\r\n            };\r\n\r\n            // Returns a function that will be executed at most one time, no matter how\r\n            // often you call it. Useful for lazy initialization.\r\n            _.once = _.partial(_.before, 2);\r\n\r\n            _.restArguments = restArguments;\r\n\r\n            // Object Functions\r\n            // ----------------\r\n\r\n            // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\r\n            var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\r\n            var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\r\n                'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\r\n\r\n            var collectNonEnumProps = function(obj, keys) {\r\n                var nonEnumIdx = nonEnumerableProps.length;\r\n                var constructor = obj.constructor;\r\n                var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\r\n\r\n                // Constructor is a special case.\r\n                var prop = 'constructor';\r\n                if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\r\n\r\n                while (nonEnumIdx--) {\r\n                    prop = nonEnumerableProps[nonEnumIdx];\r\n                    if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\r\n                        keys.push(prop);\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Retrieve the names of an object's own properties.\r\n            // Delegates to **ECMAScript 5**'s native `Object.keys`.\r\n            _.keys = function(obj) {\r\n                if (!_.isObject(obj)) return [];\r\n                if (nativeKeys) return nativeKeys(obj);\r\n                var keys = [];\r\n                for (var key in obj) if (has(obj, key)) keys.push(key);\r\n                // Ahem, IE < 9.\r\n                if (hasEnumBug) collectNonEnumProps(obj, keys);\r\n                return keys;\r\n            };\r\n\r\n            // Retrieve all the property names of an object.\r\n            _.allKeys = function(obj) {\r\n                if (!_.isObject(obj)) return [];\r\n                var keys = [];\r\n                for (var key in obj) keys.push(key);\r\n                // Ahem, IE < 9.\r\n                if (hasEnumBug) collectNonEnumProps(obj, keys);\r\n                return keys;\r\n            };\r\n\r\n            // Retrieve the values of an object's properties.\r\n            _.values = function(obj) {\r\n                var keys = _.keys(obj);\r\n                var length = keys.length;\r\n                var values = Array(length);\r\n                for (var i = 0; i < length; i++) {\r\n                    values[i] = obj[keys[i]];\r\n                }\r\n                return values;\r\n            };\r\n\r\n            // Returns the results of applying the iteratee to each element of the object.\r\n            // In contrast to _.map it returns an object.\r\n            _.mapObject = function(obj, iteratee, context) {\r\n                iteratee = cb(iteratee, context);\r\n                var keys = _.keys(obj),\r\n                    length = keys.length,\r\n                    results = {};\r\n                for (var index = 0; index < length; index++) {\r\n                    var currentKey = keys[index];\r\n                    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\r\n                }\r\n                return results;\r\n            };\r\n\r\n            // Convert an object into a list of `[key, value]` pairs.\r\n            // The opposite of _.object.\r\n            _.pairs = function(obj) {\r\n                var keys = _.keys(obj);\r\n                var length = keys.length;\r\n                var pairs = Array(length);\r\n                for (var i = 0; i < length; i++) {\r\n                    pairs[i] = [keys[i], obj[keys[i]]];\r\n                }\r\n                return pairs;\r\n            };\r\n\r\n            // Invert the keys and values of an object. The values must be serializable.\r\n            _.invert = function(obj) {\r\n                var result = {};\r\n                var keys = _.keys(obj);\r\n                for (var i = 0, length = keys.length; i < length; i++) {\r\n                    result[obj[keys[i]]] = keys[i];\r\n                }\r\n                return result;\r\n            };\r\n\r\n            // Return a sorted list of the function names available on the object.\r\n            // Aliased as `methods`.\r\n            _.functions = _.methods = function(obj) {\r\n                var names = [];\r\n                for (var key in obj) {\r\n                    if (_.isFunction(obj[key])) names.push(key);\r\n                }\r\n                return names.sort();\r\n            };\r\n\r\n            // An internal function for creating assigner functions.\r\n            var createAssigner = function(keysFunc, defaults) {\r\n                return function(obj) {\r\n                    var length = arguments.length;\r\n                    if (defaults) obj = Object(obj);\r\n                    if (length < 2 || obj == null) return obj;\r\n                    for (var index = 1; index < length; index++) {\r\n                        var source = arguments[index],\r\n                            keys = keysFunc(source),\r\n                            l = keys.length;\r\n                        for (var i = 0; i < l; i++) {\r\n                            var key = keys[i];\r\n                            if (!defaults || obj[key] === void 0) obj[key] = source[key];\r\n                        }\r\n                    }\r\n                    return obj;\r\n                };\r\n            };\r\n\r\n            // Extend a given object with all the properties in passed-in object(s).\r\n            _.extend = createAssigner(_.allKeys);\r\n\r\n            // Assigns a given object with all the own properties in the passed-in object(s).\r\n            // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\r\n            _.extendOwn = _.assign = createAssigner(_.keys);\r\n\r\n            // Returns the first key on an object that passes a predicate test.\r\n            _.findKey = function(obj, predicate, context) {\r\n                predicate = cb(predicate, context);\r\n                var keys = _.keys(obj), key;\r\n                for (var i = 0, length = keys.length; i < length; i++) {\r\n                    key = keys[i];\r\n                    if (predicate(obj[key], key, obj)) return key;\r\n                }\r\n            };\r\n\r\n            // Internal pick helper function to determine if `obj` has key `key`.\r\n            var keyInObj = function(value, key, obj) {\r\n                return key in obj;\r\n            };\r\n\r\n            // Return a copy of the object only containing the whitelisted properties.\r\n            _.pick = restArguments(function(obj, keys) {\r\n                var result = {}, iteratee = keys[0];\r\n                if (obj == null) return result;\r\n                if (_.isFunction(iteratee)) {\r\n                    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\r\n                    keys = _.allKeys(obj);\r\n                } else {\r\n                    iteratee = keyInObj;\r\n                    keys = flatten(keys, false, false);\r\n                    obj = Object(obj);\r\n                }\r\n                for (var i = 0, length = keys.length; i < length; i++) {\r\n                    var key = keys[i];\r\n                    var value = obj[key];\r\n                    if (iteratee(value, key, obj)) result[key] = value;\r\n                }\r\n                return result;\r\n            });\r\n\r\n            // Return a copy of the object without the blacklisted properties.\r\n            _.omit = restArguments(function(obj, keys) {\r\n                var iteratee = keys[0], context;\r\n                if (_.isFunction(iteratee)) {\r\n                    iteratee = _.negate(iteratee);\r\n                    if (keys.length > 1) context = keys[1];\r\n                } else {\r\n                    keys = _.map(flatten(keys, false, false), String);\r\n                    iteratee = function(value, key) {\r\n                        return !_.contains(keys, key);\r\n                    };\r\n                }\r\n                return _.pick(obj, iteratee, context);\r\n            });\r\n\r\n            // Fill in a given object with default properties.\r\n            _.defaults = createAssigner(_.allKeys, true);\r\n\r\n            // Creates an object that inherits from the given prototype object.\r\n            // If additional properties are provided then they will be added to the\r\n            // created object.\r\n            _.create = function(prototype, props) {\r\n                var result = baseCreate(prototype);\r\n                if (props) _.extendOwn(result, props);\r\n                return result;\r\n            };\r\n\r\n            // Create a (shallow-cloned) duplicate of an object.\r\n            _.clone = function(obj) {\r\n                if (!_.isObject(obj)) return obj;\r\n                return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\r\n            };\r\n\r\n            // Invokes interceptor with the obj, and then returns obj.\r\n            // The primary purpose of this method is to \"tap into\" a method chain, in\r\n            // order to perform operations on intermediate results within the chain.\r\n            _.tap = function(obj, interceptor) {\r\n                interceptor(obj);\r\n                return obj;\r\n            };\r\n\r\n            // Returns whether an object has a given set of `key:value` pairs.\r\n            _.isMatch = function(object, attrs) {\r\n                var keys = _.keys(attrs), length = keys.length;\r\n                if (object == null) return !length;\r\n                var obj = Object(object);\r\n                for (var i = 0; i < length; i++) {\r\n                    var key = keys[i];\r\n                    if (attrs[key] !== obj[key] || !(key in obj)) return false;\r\n                }\r\n                return true;\r\n            };\r\n\r\n\r\n            // Internal recursive comparison function for `isEqual`.\r\n            var eq, deepEq;\r\n            eq = function(a, b, aStack, bStack) {\r\n                // Identical objects are equal. `0 === -0`, but they aren't identical.\r\n                // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\r\n                if (a === b) return a !== 0 || 1 / a === 1 / b;\r\n                // `null` or `undefined` only equal to itself (strict comparison).\r\n                if (a == null || b == null) return false;\r\n                // `NaN`s are equivalent, but non-reflexive.\r\n                if (a !== a) return b !== b;\r\n                // Exhaust primitive checks\r\n                var type = typeof a;\r\n                if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\r\n                return deepEq(a, b, aStack, bStack);\r\n            };\r\n\r\n            // Internal recursive comparison function for `isEqual`.\r\n            deepEq = function(a, b, aStack, bStack) {\r\n                // Unwrap any wrapped objects.\r\n                if (a instanceof _) a = a._wrapped;\r\n                if (b instanceof _) b = b._wrapped;\r\n                // Compare `[[Class]]` names.\r\n                var className = toString.call(a);\r\n                if (className !== toString.call(b)) return false;\r\n                switch (className) {\r\n                    // Strings, numbers, regular expressions, dates, and booleans are compared by value.\r\n                    case '[object RegExp]':\r\n                    // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\r\n                    case '[object String]':\r\n                        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\r\n                        // equivalent to `new String(\"5\")`.\r\n                        return '' + a === '' + b;\r\n                    case '[object Number]':\r\n                        // `NaN`s are equivalent, but non-reflexive.\r\n                        // Object(NaN) is equivalent to NaN.\r\n                        if (+a !== +a) return +b !== +b;\r\n                        // An `egal` comparison is performed for other numeric values.\r\n                        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\r\n                    case '[object Date]':\r\n                    case '[object Boolean]':\r\n                        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\r\n                        // millisecond representations. Note that invalid dates with millisecond representations\r\n                        // of `NaN` are not equivalent.\r\n                        return +a === +b;\r\n                    case '[object Symbol]':\r\n                        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\r\n                }\r\n\r\n                var areArrays = className === '[object Array]';\r\n                if (!areArrays) {\r\n                    if (typeof a != 'object' || typeof b != 'object') return false;\r\n\r\n                    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\r\n                    // from different frames are.\r\n                    var aCtor = a.constructor, bCtor = b.constructor;\r\n                    if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\r\n                        _.isFunction(bCtor) && bCtor instanceof bCtor)\r\n                        && ('constructor' in a && 'constructor' in b)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                // Assume equality for cyclic structures. The algorithm for detecting cyclic\r\n                // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\r\n\r\n                // Initializing stack of traversed objects.\r\n                // It's done here since we only need them for objects and arrays comparison.\r\n                aStack = aStack || [];\r\n                bStack = bStack || [];\r\n                var length = aStack.length;\r\n                while (length--) {\r\n                    // Linear search. Performance is inversely proportional to the number of\r\n                    // unique nested structures.\r\n                    if (aStack[length] === a) return bStack[length] === b;\r\n                }\r\n\r\n                // Add the first object to the stack of traversed objects.\r\n                aStack.push(a);\r\n                bStack.push(b);\r\n\r\n                // Recursively compare objects and arrays.\r\n                if (areArrays) {\r\n                    // Compare array lengths to determine if a deep comparison is necessary.\r\n                    length = a.length;\r\n                    if (length !== b.length) return false;\r\n                    // Deep compare the contents, ignoring non-numeric properties.\r\n                    while (length--) {\r\n                        if (!eq(a[length], b[length], aStack, bStack)) return false;\r\n                    }\r\n                } else {\r\n                    // Deep compare objects.\r\n                    var keys = _.keys(a), key;\r\n                    length = keys.length;\r\n                    // Ensure that both objects contain the same number of properties before comparing deep equality.\r\n                    if (_.keys(b).length !== length) return false;\r\n                    while (length--) {\r\n                        // Deep compare each member\r\n                        key = keys[length];\r\n                        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\r\n                    }\r\n                }\r\n                // Remove the first object from the stack of traversed objects.\r\n                aStack.pop();\r\n                bStack.pop();\r\n                return true;\r\n            };\r\n\r\n            // Perform a deep comparison to check if two objects are equal.\r\n            _.isEqual = function(a, b) {\r\n                return eq(a, b);\r\n            };\r\n\r\n            // Is a given array, string, or object empty?\r\n            // An \"empty\" object has no enumerable own-properties.\r\n            _.isEmpty = function(obj) {\r\n                if (obj == null) return true;\r\n                if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\r\n                return _.keys(obj).length === 0;\r\n            };\r\n\r\n            // Is a given value a DOM element?\r\n            _.isElement = function(obj) {\r\n                return !!(obj && obj.nodeType === 1);\r\n            };\r\n\r\n            // Is a given value an array?\r\n            // Delegates to ECMA5's native Array.isArray\r\n            _.isArray = nativeIsArray || function(obj) {\r\n                return toString.call(obj) === '[object Array]';\r\n            };\r\n\r\n            // Is a given variable an object?\r\n            _.isObject = function(obj) {\r\n                var type = typeof obj;\r\n                return type === 'function' || type === 'object' && !!obj;\r\n            };\r\n\r\n            // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\r\n            _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\r\n                _['is' + name] = function(obj) {\r\n                    return toString.call(obj) === '[object ' + name + ']';\r\n                };\r\n            });\r\n\r\n            // Define a fallback version of the method in browsers (ahem, IE < 9), where\r\n            // there isn't any inspectable \"Arguments\" type.\r\n            if (!_.isArguments(arguments)) {\r\n                _.isArguments = function(obj) {\r\n                    return has(obj, 'callee');\r\n                };\r\n            }\r\n\r\n            // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n            // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\r\n            var nodelist = root.document && root.document.childNodes;\r\n            if (typeof Int8Array != 'object' && typeof nodelist != 'function') {\r\n                _.isFunction = function(obj) {\r\n                    return typeof obj == 'function' || false;\r\n                };\r\n            }\r\n\r\n            // Is a given object a finite number?\r\n            _.isFinite = function(obj) {\r\n                return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\r\n            };\r\n\r\n            // Is the given value `NaN`?\r\n            _.isNaN = function(obj) {\r\n                return _.isNumber(obj) && isNaN(obj);\r\n            };\r\n\r\n            // Is a given value a boolean?\r\n            _.isBoolean = function(obj) {\r\n                return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\r\n            };\r\n\r\n            // Is a given value equal to null?\r\n            _.isNull = function(obj) {\r\n                return obj === null;\r\n            };\r\n\r\n            // Is a given variable undefined?\r\n            _.isUndefined = function(obj) {\r\n                return obj === void 0;\r\n            };\r\n\r\n            // Shortcut function for checking if an object has a given property directly\r\n            // on itself (in other words, not on a prototype).\r\n            _.has = function(obj, path) {\r\n                if (!_.isArray(path)) {\r\n                    return has(obj, path);\r\n                }\r\n                var length = path.length;\r\n                for (var i = 0; i < length; i++) {\r\n                    var key = path[i];\r\n                    if (obj == null || !hasOwnProperty.call(obj, key)) {\r\n                        return false;\r\n                    }\r\n                    obj = obj[key];\r\n                }\r\n                return !!length;\r\n            };\r\n\r\n            // Utility Functions\r\n            // -----------------\r\n\r\n            // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\r\n            // previous owner. Returns a reference to the Underscore object.\r\n            _.noConflict = function() {\r\n                root._ = previousUnderscore;\r\n                return this;\r\n            };\r\n\r\n            // Keep the identity function around for default iteratees.\r\n            _.identity = function(value) {\r\n                return value;\r\n            };\r\n\r\n            // Predicate-generating functions. Often useful outside of Underscore.\r\n            _.constant = function(value) {\r\n                return function() {\r\n                    return value;\r\n                };\r\n            };\r\n\r\n            _.noop = function(){};\r\n\r\n            // Creates a function that, when passed an object, will traverse that objects\r\n            // properties down the given `path`, specified as an array of keys or indexes.\r\n            _.property = function(path) {\r\n                if (!_.isArray(path)) {\r\n                    return shallowProperty(path);\r\n                }\r\n                return function(obj) {\r\n                    return deepGet(obj, path);\r\n                };\r\n            };\r\n\r\n            // Generates a function for a given object that returns a given property.\r\n            _.propertyOf = function(obj) {\r\n                if (obj == null) {\r\n                    return function(){};\r\n                }\r\n                return function(path) {\r\n                    return !_.isArray(path) ? obj[path] : deepGet(obj, path);\r\n                };\r\n            };\r\n\r\n            // Returns a predicate for checking whether an object has a given set of\r\n            // `key:value` pairs.\r\n            _.matcher = _.matches = function(attrs) {\r\n                attrs = _.extendOwn({}, attrs);\r\n                return function(obj) {\r\n                    return _.isMatch(obj, attrs);\r\n                };\r\n            };\r\n\r\n            // Run a function **n** times.\r\n            _.times = function(n, iteratee, context) {\r\n                var accum = Array(Math.max(0, n));\r\n                iteratee = optimizeCb(iteratee, context, 1);\r\n                for (var i = 0; i < n; i++) accum[i] = iteratee(i);\r\n                return accum;\r\n            };\r\n\r\n            // Return a random integer between min and max (inclusive).\r\n            _.random = function(min, max) {\r\n                if (max == null) {\r\n                    max = min;\r\n                    min = 0;\r\n                }\r\n                return min + Math.floor(Math.random() * (max - min + 1));\r\n            };\r\n\r\n            // A (possibly faster) way to get the current timestamp as an integer.\r\n            _.now = Date.now || function() {\r\n                return new Date().getTime();\r\n            };\r\n\r\n            // List of HTML entities for escaping.\r\n            var escapeMap = {\r\n                '&': '&amp;',\r\n                '<': '&lt;',\r\n                '>': '&gt;',\r\n                '\"': '&quot;',\r\n                \"'\": '&#x27;',\r\n                '`': '&#x60;'\r\n            };\r\n            var unescapeMap = _.invert(escapeMap);\r\n\r\n            // Functions for escaping and unescaping strings to/from HTML interpolation.\r\n            var createEscaper = function(map) {\r\n                var escaper = function(match) {\r\n                    return map[match];\r\n                };\r\n                // Regexes for identifying a key that needs to be escaped.\r\n                var source = '(?:' + _.keys(map).join('|') + ')';\r\n                var testRegexp = RegExp(source);\r\n                var replaceRegexp = RegExp(source, 'g');\r\n                return function(string) {\r\n                    string = string == null ? '' : '' + string;\r\n                    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\r\n                };\r\n            };\r\n            _.escape = createEscaper(escapeMap);\r\n            _.unescape = createEscaper(unescapeMap);\r\n\r\n            // Traverses the children of `obj` along `path`. If a child is a function, it\r\n            // is invoked with its parent as context. Returns the value of the final\r\n            // child, or `fallback` if any child is undefined.\r\n            _.result = function(obj, path, fallback) {\r\n                if (!_.isArray(path)) path = [path];\r\n                var length = path.length;\r\n                if (!length) {\r\n                    return _.isFunction(fallback) ? fallback.call(obj) : fallback;\r\n                }\r\n                for (var i = 0; i < length; i++) {\r\n                    var prop = obj == null ? void 0 : obj[path[i]];\r\n                    if (prop === void 0) {\r\n                        prop = fallback;\r\n                        i = length; // Ensure we don't continue iterating.\r\n                    }\r\n                    obj = _.isFunction(prop) ? prop.call(obj) : prop;\r\n                }\r\n                return obj;\r\n            };\r\n\r\n            // Generate a unique integer id (unique within the entire client session).\r\n            // Useful for temporary DOM ids.\r\n            var idCounter = 0;\r\n            _.uniqueId = function(prefix) {\r\n                var id = ++idCounter + '';\r\n                return prefix ? prefix + id : id;\r\n            };\r\n\r\n            // By default, Underscore uses ERB-style template delimiters, change the\r\n            // following template settings to use alternative delimiters.\r\n            _.templateSettings = {\r\n                evaluate: /<%([\\s\\S]+?)%>/g,\r\n                interpolate: /<%=([\\s\\S]+?)%>/g,\r\n                escape: /<%-([\\s\\S]+?)%>/g\r\n            };\r\n\r\n            // When customizing `templateSettings`, if you don't want to define an\r\n            // interpolation, evaluation or escaping regex, we need one that is\r\n            // guaranteed not to match.\r\n            var noMatch = /(.)^/;\r\n\r\n            // Certain characters need to be escaped so that they can be put into a\r\n            // string literal.\r\n            var escapes = {\r\n                \"'\": \"'\",\r\n                '\\\\': '\\\\',\r\n                '\\r': 'r',\r\n                '\\n': 'n',\r\n                '\\u2028': 'u2028',\r\n                '\\u2029': 'u2029'\r\n            };\r\n\r\n            var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\r\n\r\n            var escapeChar = function(match) {\r\n                return '\\\\' + escapes[match];\r\n            };\r\n\r\n            // JavaScript micro-templating, similar to John Resig's implementation.\r\n            // Underscore templating handles arbitrary delimiters, preserves whitespace,\r\n            // and correctly escapes quotes within interpolated code.\r\n            // NB: `oldSettings` only exists for backwards compatibility.\r\n            _.template = function(text, settings, oldSettings) {\r\n                if (!settings && oldSettings) settings = oldSettings;\r\n                settings = _.defaults({}, settings, _.templateSettings);\r\n\r\n                // Combine delimiters into one regular expression via alternation.\r\n                var matcher = RegExp([\r\n                    (settings.escape || noMatch).source,\r\n                    (settings.interpolate || noMatch).source,\r\n                    (settings.evaluate || noMatch).source\r\n                ].join('|') + '|$', 'g');\r\n\r\n                // Compile the template source, escaping string literals appropriately.\r\n                var index = 0;\r\n                var source = \"__p+='\";\r\n                text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\r\n                    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\r\n                    index = offset + match.length;\r\n\r\n                    if (escape) {\r\n                        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\r\n                    } else if (interpolate) {\r\n                        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\r\n                    } else if (evaluate) {\r\n                        source += \"';\\n\" + evaluate + \"\\n__p+='\";\r\n                    }\r\n\r\n                    // Adobe VMs need the match returned to produce the correct offset.\r\n                    return match;\r\n                });\r\n                source += \"';\\n\";\r\n\r\n                // If a variable is not specified, place data values in local scope.\r\n                if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\r\n\r\n                source = \"var __t,__p='',__j=Array.prototype.join,\" +\r\n                    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\r\n                    source + 'return __p;\\n';\r\n\r\n                var render;\r\n                try {\r\n                    render = new Function(settings.variable || 'obj', '_', source);\r\n                } catch (e) {\r\n                    e.source = source;\r\n                    throw e;\r\n                }\r\n\r\n                var template = function(data) {\r\n                    return render.call(this, data, _);\r\n                };\r\n\r\n                // Provide the compiled source as a convenience for precompilation.\r\n                var argument = settings.variable || 'obj';\r\n                template.source = 'function(' + argument + '){\\n' + source + '}';\r\n\r\n                return template;\r\n            };\r\n\r\n            // Add a \"chain\" function. Start chaining a wrapped Underscore object.\r\n            _.chain = function(obj) {\r\n                var instance = _(obj);\r\n                instance._chain = true;\r\n                return instance;\r\n            };\r\n\r\n            // OOP\r\n            // ---------------\r\n            // If Underscore is called as a function, it returns a wrapped object that\r\n            // can be used OO-style. This wrapper holds altered versions of all the\r\n            // underscore functions. Wrapped objects may be chained.\r\n\r\n            // Helper function to continue chaining intermediate results.\r\n            var chainResult = function(instance, obj) {\r\n                return instance._chain ? _(obj).chain() : obj;\r\n            };\r\n\r\n            // Add your own custom functions to the Underscore object.\r\n            _.mixin = function(obj) {\r\n                _.each(_.functions(obj), function(name) {\r\n                    var func = _[name] = obj[name];\r\n                    _.prototype[name] = function() {\r\n                        var args = [this._wrapped];\r\n                        push.apply(args, arguments);\r\n                        return chainResult(this, func.apply(_, args));\r\n                    };\r\n                });\r\n                return _;\r\n            };\r\n\r\n            // Add all of the Underscore functions to the wrapper object.\r\n            _.mixin(_);\r\n\r\n            // Add all mutator Array functions to the wrapper.\r\n            _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\r\n                var method = ArrayProto[name];\r\n                _.prototype[name] = function() {\r\n                    var obj = this._wrapped;\r\n                    method.apply(obj, arguments);\r\n                    if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\r\n                    return chainResult(this, obj);\r\n                };\r\n            });\r\n\r\n            // Add all accessor Array functions to the wrapper.\r\n            _.each(['concat', 'join', 'slice'], function(name) {\r\n                var method = ArrayProto[name];\r\n                _.prototype[name] = function() {\r\n                    return chainResult(this, method.apply(this._wrapped, arguments));\r\n                };\r\n            });\r\n\r\n            // Extracts the result from a wrapped and chained object.\r\n            _.prototype.value = function() {\r\n                return this._wrapped;\r\n            };\r\n\r\n            // Provide unwrapping proxy for some methods used in engine operations\r\n            // such as arithmetic and JSON stringification.\r\n            _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\r\n\r\n            _.prototype.toString = function() {\r\n                return String(this._wrapped);\r\n            };\r\n        }());\r\n    });\r\n    var underscore_1 = underscore._;\r\n\r\n    commonjsGlobal.kmeanCluster = {\r\n        normalizedPoints: [],\r\n        opt: getterSetter({isNormalized:true}, function (value) {\r\n            return value;\r\n        }),\r\n        inputdata:[],\r\n        loopcount:0,\r\n        callback: getterSetter(function(){},function(func){return func;}),\r\n        data: getterSetter([], function (arrayOfArrays) {\r\n            if (arrayOfArrays[0]) {\r\n                var n = arrayOfArrays[0].length;\r\n                return (arrayOfArrays.map(function (array) {\r\n                    return array.length == n;\r\n                }).reduce(function (boolA, boolB) {\r\n                    return (boolA & boolB)\r\n                }, true));\r\n            }else {\r\n                commonjsGlobal.kmeanCluster.inputdata = [];\r\n                commonjsGlobal.kmeanCluster.normalizedPoints = [];\r\n            }\r\n            return false;\r\n        },function(d){\r\n            commonjsGlobal.kmeanCluster.inputdata = d;\r\n            commonjsGlobal.kmeanCluster.normalizedPoints = d.slice();\r\n            if(!commonjsGlobal.kmeanCluster.opt().isNormalized) {\r\n                let normalizer = new Normalizer(d);\r\n                commonjsGlobal.kmeanCluster.normalizedPoints = normalizer.normalizedPoints;\r\n                outputValue(\"normalizedFun\", normalizer);\r\n            }\r\n\r\n            return commonjsGlobal.kmeanCluster.normalizedPoints;\r\n        }),\r\n\r\n        calculate: function () {\r\n            var pointsAndCentroids = kmeans(this.normalizedPoints, {k: this.k(), iterations: this.iterations()},undefined,this.distanceMethod());\r\n            var points = pointsAndCentroids.points;\r\n            var centroids = pointsAndCentroids.centroids;\r\n            commonjsGlobal.kmeanCluster.oldCentroid = [];\r\n            let bins =  centroids.map(function (centroid) {\r\n                let temp = points.filter(function (point) {\r\n                    return point.label() == centroid.label();\r\n                }).map(function (point) {\r\n                    return point.location()\r\n                });\r\n                temp.val = centroid.location();\r\n                commonjsGlobal.kmeanCluster.oldCentroid.push(temp.val.slice());\r\n                return temp;\r\n            });\r\n            outputValue(\"bins\", bins);\r\n            outputValue(\"loopcount\", commonjsGlobal.kmeanCluster.loopcount);\r\n        },\r\n\r\n        calculatePoint: function (siginput) {\r\n            this.inputdata = this.inputdata.slice().concat(siginput);\r\n            this.data(this.inputdata);\r\n            var pointsAndCentroids = kmeans(this.normalizedPoints, {k: this.k(), iterations: this.iterations()},undefined,this.distanceMethod());\r\n            var points = pointsAndCentroids.points;\r\n            var centroids = pointsAndCentroids.centroids;\r\n            commonjsGlobal.kmeanCluster.oldCentroid = [];\r\n            let bins =  centroids.map(function (centroid) {\r\n                let temp = points.filter(function (point) {\r\n                    return point.label() == centroid.label();\r\n                }).map(function (point) {\r\n                    return point.location()\r\n                });\r\n                temp.val = centroid.location();\r\n                commonjsGlobal.kmeanCluster.oldCentroid.push(temp.val.slice());\r\n                return temp;\r\n            });\r\n            outputValue(\"bins\", bins);\r\n        },\r\n\r\n        updateRadius: getterSetter(true, undefined,function(val){\r\n            if (val){\r\n                commonjsGlobal.kmeanCluster.oldCentroid = undefined;\r\n            }\r\n        }),\r\n        k: getterSetter(undefined, function (value) {\r\n            return ((value % 1 == 0) & (value > 0))\r\n        }),\r\n\r\n        iterations: getterSetter(Math.pow(10, 3), function (value) {\r\n            return ((value % 1 == 0) & (value > 0))\r\n        }),\r\n\r\n        distanceMethod: getterSetter('l2', function (value) {\r\n            return value||'l2';\r\n        }),\r\n\r\n    };\r\n    function outputValue(name, value){\r\n        commonjsGlobal.kmeanCluster[name] = value;\r\n    }\r\n    class Normalizer {\r\n        constructor(points) {\r\n            this.points = points.slice(0);\r\n            let Arr = this.Arr = underscore.unzip(this.points),\r\n                maxAI = this.maxAI = Arr.map(d=>underscore.max(d)),\r\n                minAI = this.minAI = Arr.map(d=>underscore.min(d)),\r\n                rangeAI = this.rangeAI = Arr.map((d,i)=>((maxAI[i]!=minAI[i]) ? maxAI[i] - minAI[i]: 1)),\r\n                normalizedArr = this.normalizedArr = Arr.map((d,i)=>d.map(x => (x - minAI[i]) / rangeAI[i]));\r\n            this.normalizedPoints = underscore.zip.apply(underscore,normalizedArr);\r\n            //Add one step to pass the data over if there is.\r\n            let length = this.points.length;\r\n            for (let i = 0; i < length; i++) {\r\n                this.normalizedPoints[i].data = this.points[i].data;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Input a set of points in this scale range [0, 1] and will be scaled back to\r\n         * - Original scale ([minX, maxX], [minY, maxY])\r\n         * @param points\r\n         */\r\n        scaleBackPoints(points) {\r\n            return points.map(point=>{\r\n                return this.scaleBackPoint(point);\r\n            });\r\n        }\r\n        /**\r\n         * Input a single point in this scale range [0, 1] and will be scaled back to\r\n         * - Original scale ([minX, maxX], [minY, maxY])\r\n         * @param points\r\n         */\r\n        scaleBackPoint(point) {\r\n            let xs = point,\r\n                x = this.rangeAI.map((d,i)=> d* xs[i] + this.minAI[i]);\r\n            return x;\r\n        }\r\n    }\r\n    function kmeans(data, config, initCentroid,distancemethodName) {\r\n        // default k\r\n        distancemethodName = distancemethodName||'l2';\r\n        var distancemethod  = distancemethodName==='l2'?distanceL2:distanceL1;\r\n        console.log(distancemethodName)\r\n        var k = config.k || Math.round(Math.sqrt(data.length / 2));\r\n        var iterations = config.iterations;\r\n\r\n        // initialize point objects with data\r\n        var points = data.map(function (vector) {\r\n            return new Point(vector)\r\n        });\r\n\r\n        // intialize centroids randomly\r\n        var centroids;\r\n        if (!initCentroid) {\r\n            centroids = [];\r\n            for (var i = 0; i < k; i++) {\r\n                centroids.push(new Centroid(points[i % points.length].location(), i));\r\n            }\r\n        }else{\r\n            centroids = initCentroid.map((d,i)=>new Centroid(new Point(d),i));\r\n        }\r\n\r\n        // update labels and centroid locations until convergence\r\n        for (var iter = 0; iter < iterations; iter++) {\r\n\r\n            const mp = points.map(function (point) {\r\n                return point.updateLabel(centroids)\r\n            });\r\n            const mc = centroids.map(function (centroid) {\r\n                return centroid.updateLocation(points)\r\n            });\r\n            commonjsGlobal.kmeanCluster.loopcount=iter+1;\r\n            commonjsGlobal.kmeanCluster.callback()(iter+1);\r\n            if((mp.indexOf(false)+mc.indexOf(false)) ===-2)\r\n                break;\r\n        }\r\n        ;\r\n\r\n        // return points and centroids\r\n        return {\r\n            points: points,\r\n            centroids: centroids\r\n        };\r\n\r\n        // objects\r\n        function Point(location) {\r\n            var self = this;\r\n            this.location = getterSetter(location);\r\n            this.label = getterSetter();\r\n            this.updateLabel = function (centroids) {\r\n                var distancesSquared = centroids.map(function (centroid) {\r\n                    return distancemethod(self.location(), centroid.location());\r\n                });\r\n                const newl = mindex(distancesSquared);\r\n                const valid = (self.label()===newl);\r\n                self.label(newl);\r\n                return valid;\r\n            };\r\n        };\r\n\r\n        function Centroid(initialLocation, label) {\r\n            var self = this;\r\n            this.location = getterSetter(initialLocation);\r\n            this.label = getterSetter(label);\r\n            this.updateLocation = function (points) {\r\n                var pointsWithThisCentroid = points.filter(function (point) {\r\n                    return point.label() == self.label()\r\n                });\r\n                let valid = false;\r\n                if (pointsWithThisCentroid.length > 0) {\r\n                    const newl = averageLocation(pointsWithThisCentroid);\r\n                    valid = _.isEqual(self.location(),newl);\r\n                    self.location(newl)};\r\n                return valid;\r\n            };\r\n        };\r\n\r\n// convenience functions\r\n\r\n        function distanceL2(oneVector, anotherVector) {\r\n            var squareDiffs = oneVector.map(function (component, i) {\r\n                return Math.pow(component - anotherVector[i], 2);\r\n            });\r\n            return squareDiffs.reduce(function (a, b) {\r\n                return a + b\r\n            }, 0);\r\n        };\r\n\r\n        function distanceL1(oneVector, anotherVector) {\r\n            var squareDiffs = oneVector.map(function (component, i) {\r\n                return Math.abs(component - anotherVector[i]);\r\n            });\r\n            return squareDiffs.reduce(function (a, b) {\r\n                return a + b\r\n            }, 0);\r\n        };\r\n\r\n        function mindex(array) {\r\n            var min = array.reduce(function (a, b) {\r\n                return Math.min(a, b);\r\n            });\r\n            return array.indexOf(min);\r\n        };\r\n\r\n        function sumVectors(a, b) {\r\n            return a.map(function (val, i) {\r\n                return val + b[i]\r\n            });\r\n        };\r\n\r\n        function averageLocation(points) {\r\n            var zeroVector = points[0].location().map(function () {\r\n                return 0\r\n            });\r\n            var locations = points.map(function (point) {\r\n                return point.location()\r\n            });\r\n            var vectorSum = locations.reduce(function (a, b) {\r\n                return sumVectors(a, b)\r\n            }, zeroVector);\r\n            return vectorSum.map(function (val) {\r\n                return val / points.length\r\n            });\r\n        };\r\n\r\n    };\r\n    function getterSetter(initialValue, validator,nextFunc) {\r\n        var thingToGetSet = initialValue;\r\n        var isValid = validator || function (val) {\r\n            return true\r\n        };\r\n        return function (newValue) {\r\n            if (typeof newValue === 'undefined') return thingToGetSet;\r\n            if (isValid(newValue)){\r\n                thingToGetSet = newValue;\r\n                if (nextFunc)\r\n                    nextFunc(newValue);\r\n            }\r\n            return commonjsGlobal.kmeanCluster;\r\n        };\r\n    };\r\n    return commonjsGlobal.kmeanCluster;\r\n}())","module.exports = __WEBPACK_EXTERNAL_MODULE__26__;","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar LayoutAdaptor = (function (_super) {\r\n    __extends(LayoutAdaptor, _super);\r\n    function LayoutAdaptor(options) {\r\n        var _this = _super.call(this) || this;\r\n        var self = _this;\r\n        var o = options;\r\n        if (o.trigger) {\r\n            _this.trigger = o.trigger;\r\n        }\r\n        if (o.kick) {\r\n            _this.kick = o.kick;\r\n        }\r\n        if (o.drag) {\r\n            _this.drag = o.drag;\r\n        }\r\n        if (o.on) {\r\n            _this.on = o.on;\r\n        }\r\n        _this.dragstart = _this.dragStart = layout_1.Layout.dragStart;\r\n        _this.dragend = _this.dragEnd = layout_1.Layout.dragEnd;\r\n        return _this;\r\n    }\r\n    LayoutAdaptor.prototype.trigger = function (e) { };\r\n    ;\r\n    LayoutAdaptor.prototype.kick = function () { };\r\n    ;\r\n    LayoutAdaptor.prototype.drag = function () { };\r\n    ;\r\n    LayoutAdaptor.prototype.on = function (eventType, listener) { return this; };\r\n    ;\r\n    return LayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.LayoutAdaptor = LayoutAdaptor;\r\nfunction adaptor(options) {\r\n    return new LayoutAdaptor(options);\r\n}\r\nexports.adaptor = adaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRhcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2FkYXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQWlEO0FBRTdDO0lBQW1DLGlDQUFNO0lBYXJDLHVCQUFhLE9BQU87UUFBcEIsWUFDSSxpQkFBTyxTQXlCVjtRQXJCRyxJQUFJLElBQUksR0FBRyxLQUFJLENBQUM7UUFDaEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBRWhCLElBQUssQ0FBQyxDQUFDLE9BQU8sRUFBRztZQUNiLEtBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztTQUM1QjtRQUVELElBQUssQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNULEtBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUN0QjtRQUVELElBQUssQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNULEtBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUN0QjtRQUVELElBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNQLEtBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNsQjtRQUVELEtBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDLFNBQVMsR0FBRyxlQUFNLENBQUMsU0FBUyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSSxDQUFDLE9BQU8sR0FBRyxlQUFNLENBQUMsT0FBTyxDQUFDOztJQUNqRCxDQUFDO0lBcENELCtCQUFPLEdBQVAsVUFBUSxDQUFRLElBQUcsQ0FBQztJQUFBLENBQUM7SUFDckIsNEJBQUksR0FBSixjQUFRLENBQUM7SUFBQSxDQUFDO0lBQ1YsNEJBQUksR0FBSixjQUFRLENBQUM7SUFBQSxDQUFDO0lBQ1YsMEJBQUUsR0FBRixVQUFHLFNBQTZCLEVBQUUsUUFBb0IsSUFBVyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFBQSxDQUFDO0lBa0NwRixvQkFBQztBQUFELENBQUMsQUF4Q0QsQ0FBbUMsZUFBTSxHQXdDeEM7QUF4Q1ksc0NBQWE7QUE2QzFCLFNBQWdCLE9BQU8sQ0FBRSxPQUFPO0lBQzVCLE9BQU8sSUFBSSxhQUFhLENBQUUsT0FBTyxDQUFFLENBQUM7QUFDeEMsQ0FBQztBQUZELDBCQUVDIn0=","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar d3v3 = require(\"./d3v3adaptor\");\r\nvar d3v4 = require(\"./d3v4adaptor\");\r\n;\r\nfunction d3adaptor(d3Context) {\r\n    if (!d3Context || isD3V3(d3Context)) {\r\n        return new d3v3.D3StyleLayoutAdaptor();\r\n    }\r\n    return new d3v4.D3StyleLayoutAdaptor(d3Context);\r\n}\r\nexports.d3adaptor = d3adaptor;\r\nfunction isD3V3(d3Context) {\r\n    var v3exp = /^3\\./;\r\n    return d3Context.version && d3Context.version.match(v3exp) !== null;\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDNhZGFwdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvZDNhZGFwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0NBQXFDO0FBQ3JDLG9DQUFxQztBQUdVLENBQUM7QUE0QmhELFNBQWdCLFNBQVMsQ0FBQyxTQUF3QztJQUM5RCxJQUFJLENBQUMsU0FBUyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtRQUNqQyxPQUFPLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7S0FDMUM7SUFDRCxPQUFPLElBQUksSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3BELENBQUM7QUFMRCw4QkFLQztBQUVELFNBQVMsTUFBTSxDQUFDLFNBQXVDO0lBQ25ELElBQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQztJQUNyQixPQUFhLFNBQVUsQ0FBQyxPQUFPLElBQVUsU0FBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDO0FBQ3RGLENBQUMifQ==","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar D3StyleLayoutAdaptor = (function (_super) {\r\n    __extends(D3StyleLayoutAdaptor, _super);\r\n    function D3StyleLayoutAdaptor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.event = d3.dispatch(layout_1.EventType[layout_1.EventType.start], layout_1.EventType[layout_1.EventType.tick], layout_1.EventType[layout_1.EventType.end]);\r\n        var d3layout = _this;\r\n        var drag;\r\n        _this.drag = function () {\r\n            if (!drag) {\r\n                var drag = d3.behavior.drag()\r\n                    .origin(layout_1.Layout.dragOrigin)\r\n                    .on(\"dragstart.d3adaptor\", layout_1.Layout.dragStart)\r\n                    .on(\"drag.d3adaptor\", function (d) {\r\n                    layout_1.Layout.drag(d, d3.event);\r\n                    d3layout.resume();\r\n                })\r\n                    .on(\"dragend.d3adaptor\", layout_1.Layout.dragEnd);\r\n            }\r\n            if (!arguments.length)\r\n                return drag;\r\n            this\r\n                .call(drag);\r\n        };\r\n        return _this;\r\n    }\r\n    D3StyleLayoutAdaptor.prototype.trigger = function (e) {\r\n        var d3event = { type: layout_1.EventType[e.type], alpha: e.alpha, stress: e.stress };\r\n        this.event[d3event.type](d3event);\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.kick = function () {\r\n        var _this = this;\r\n        d3.timer(function () { return _super.prototype.tick.call(_this); });\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.on = function (eventType, listener) {\r\n        if (typeof eventType === 'string') {\r\n            this.event.on(eventType, listener);\r\n        }\r\n        else {\r\n            this.event.on(layout_1.EventType[eventType], listener);\r\n        }\r\n        return this;\r\n    };\r\n    return D3StyleLayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.D3StyleLayoutAdaptor = D3StyleLayoutAdaptor;\r\nfunction d3adaptor() {\r\n    return new D3StyleLayoutAdaptor();\r\n}\r\nexports.d3adaptor = d3adaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDN2M2FkYXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9kM3YzYWRhcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFNQSxtQ0FBa0Q7QUFHOUM7SUFBMEMsd0NBQU07SUFnQjVDO1FBQUEsWUFDSSxpQkFBTyxTQXVCVjtRQXZDRCxXQUFLLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxrQkFBUyxDQUFDLGtCQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsa0JBQVMsQ0FBQyxrQkFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFTLENBQUMsa0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBa0JqRyxJQUFJLFFBQVEsR0FBRyxLQUFJLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUM7UUFDVCxLQUFJLENBQUMsSUFBSSxHQUFHO1lBQ1IsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDUCxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtxQkFDeEIsTUFBTSxDQUFDLGVBQU0sQ0FBQyxVQUFVLENBQUM7cUJBQ3pCLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxlQUFNLENBQUMsU0FBUyxDQUFDO3FCQUMzQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsVUFBQSxDQUFDO29CQUNuQixlQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzlCLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDdEIsQ0FBQyxDQUFDO3FCQUNELEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxlQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDaEQ7WUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFHbkMsSUFBSTtpQkFFQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFBOztJQUNMLENBQUM7SUFyQ0Qsc0NBQU8sR0FBUCxVQUFRLENBQVE7UUFDWixJQUFJLE9BQU8sR0FBRyxFQUFFLElBQUksRUFBRSxrQkFBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFHRCxtQ0FBSSxHQUFKO1FBQUEsaUJBRUM7UUFERyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQU0sT0FBQSxpQkFBTSxJQUFJLFlBQUUsRUFBWixDQUFZLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBZ0NELGlDQUFFLEdBQUYsVUFBRyxTQUE2QixFQUFFLFFBQW9CO1FBQ2xELElBQUksT0FBTyxTQUFTLEtBQUssUUFBUSxFQUFFO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN0QzthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsa0JBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUNqRDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCwyQkFBQztBQUFELENBQUMsQUFuREQsQ0FBMEMsZUFBTSxHQW1EL0M7QUFuRFksb0RBQW9CO0FBaUVqQyxTQUFnQixTQUFTO0lBQ3JCLE9BQU8sSUFBSSxvQkFBb0IsRUFBRSxDQUFDO0FBQ3RDLENBQUM7QUFGRCw4QkFFQyJ9","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar D3StyleLayoutAdaptor = (function (_super) {\r\n    __extends(D3StyleLayoutAdaptor, _super);\r\n    function D3StyleLayoutAdaptor(d3Context) {\r\n        var _this = _super.call(this) || this;\r\n        _this.d3Context = d3Context;\r\n        _this.event = d3Context.dispatch(layout_1.EventType[layout_1.EventType.start], layout_1.EventType[layout_1.EventType.tick], layout_1.EventType[layout_1.EventType.end]);\r\n        var d3layout = _this;\r\n        var drag;\r\n        _this.drag = function () {\r\n            if (!drag) {\r\n                var drag = d3Context.drag()\r\n                    .subject(layout_1.Layout.dragOrigin)\r\n                    .on(\"start.d3adaptor\", layout_1.Layout.dragStart)\r\n                    .on(\"drag.d3adaptor\", function (d) {\r\n                    layout_1.Layout.drag(d, d3Context.event);\r\n                    d3layout.resume();\r\n                })\r\n                    .on(\"end.d3adaptor\", layout_1.Layout.dragEnd);\r\n            }\r\n            if (!arguments.length)\r\n                return drag;\r\n            arguments[0].call(drag);\r\n        };\r\n        return _this;\r\n    }\r\n    D3StyleLayoutAdaptor.prototype.trigger = function (e) {\r\n        var d3event = { type: layout_1.EventType[e.type], alpha: e.alpha, stress: e.stress };\r\n        this.event.call(d3event.type, d3event);\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.kick = function () {\r\n        var _this = this;\r\n        var t = this.d3Context.timer(function () { return _super.prototype.tick.call(_this) && t.stop(); });\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.on = function (eventType, listener) {\r\n        if (typeof eventType === 'string') {\r\n            this.event.on(eventType, listener);\r\n        }\r\n        else {\r\n            this.event.on(layout_1.EventType[eventType], listener);\r\n        }\r\n        return this;\r\n    };\r\n    return D3StyleLayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.D3StyleLayoutAdaptor = D3StyleLayoutAdaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDN2NGFkYXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9kM3Y0YWRhcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFHQSxtQ0FBaUQ7QUFVakQ7SUFBMEMsd0NBQU07SUFpQjVDLDhCQUFvQixTQUFvQjtRQUF4QyxZQUNJLGlCQUFPLFNBeUJWO1FBMUJtQixlQUFTLEdBQVQsU0FBUyxDQUFXO1FBRXBDLEtBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxrQkFBUyxDQUFDLGtCQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsa0JBQVMsQ0FBQyxrQkFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFTLENBQUMsa0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBR2pILElBQUksUUFBUSxHQUFHLEtBQUksQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQztRQUNULEtBQUksQ0FBQyxJQUFJLEdBQUc7WUFDUixJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNQLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUU7cUJBQ3RCLE9BQU8sQ0FBQyxlQUFNLENBQUMsVUFBVSxDQUFDO3FCQUMxQixFQUFFLENBQUMsaUJBQWlCLEVBQUUsZUFBTSxDQUFDLFNBQVMsQ0FBQztxQkFDdkMsRUFBRSxDQUFDLGdCQUFnQixFQUFFLFVBQUEsQ0FBQztvQkFDbkIsZUFBTSxDQUFDLElBQUksQ0FBTSxDQUFDLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNyQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3RCLENBQUMsQ0FBQztxQkFDRCxFQUFFLENBQUMsZUFBZSxFQUFFLGVBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUM1QztZQUVELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTtnQkFBRSxPQUFPLElBQUksQ0FBQztZQUtuQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQTs7SUFDTCxDQUFDO0lBekNELHNDQUFPLEdBQVAsVUFBUSxDQUFRO1FBQ1osSUFBSSxPQUFPLEdBQUcsRUFBRSxJQUFJLEVBQUUsa0JBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUc1RSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFPLE9BQU8sQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFHRCxtQ0FBSSxHQUFKO1FBQUEsaUJBRUM7UUFERyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxjQUFNLE9BQUEsaUJBQU0sSUFBSSxZQUFFLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUF4QixDQUF3QixDQUFDLENBQUM7SUFDakUsQ0FBQztJQWtDRCxpQ0FBRSxHQUFGLFVBQUcsU0FBNkIsRUFBRSxRQUFvQjtRQUNsRCxJQUFJLE9BQU8sU0FBUyxLQUFLLFFBQVEsRUFBRTtZQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDdEM7YUFBTTtZQUNILElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLGtCQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDakQ7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsMkJBQUM7QUFBRCxDQUFDLEFBdERELENBQTBDLGVBQU0sR0FzRC9DO0FBdERZLG9EQUFvQiJ9","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar shortestpaths_1 = require(\"./shortestpaths\");\r\nvar descent_1 = require(\"./descent\");\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar linklengths_1 = require(\"./linklengths\");\r\nvar Link3D = (function () {\r\n    function Link3D(source, target) {\r\n        this.source = source;\r\n        this.target = target;\r\n    }\r\n    Link3D.prototype.actualLength = function (x) {\r\n        var _this = this;\r\n        return Math.sqrt(x.reduce(function (c, v) {\r\n            var dx = v[_this.target] - v[_this.source];\r\n            return c + dx * dx;\r\n        }, 0));\r\n    };\r\n    return Link3D;\r\n}());\r\nexports.Link3D = Link3D;\r\nvar Node3D = (function () {\r\n    function Node3D(x, y, z) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        if (z === void 0) { z = 0; }\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    return Node3D;\r\n}());\r\nexports.Node3D = Node3D;\r\nvar Layout3D = (function () {\r\n    function Layout3D(nodes, links, idealLinkLength) {\r\n        var _this = this;\r\n        if (idealLinkLength === void 0) { idealLinkLength = 1; }\r\n        this.nodes = nodes;\r\n        this.links = links;\r\n        this.idealLinkLength = idealLinkLength;\r\n        this.constraints = null;\r\n        this.useJaccardLinkLengths = true;\r\n        this.result = new Array(Layout3D.k);\r\n        for (var i = 0; i < Layout3D.k; ++i) {\r\n            this.result[i] = new Array(nodes.length);\r\n        }\r\n        nodes.forEach(function (v, i) {\r\n            for (var _i = 0, _a = Layout3D.dims; _i < _a.length; _i++) {\r\n                var dim = _a[_i];\r\n                if (typeof v[dim] == 'undefined')\r\n                    v[dim] = Math.random();\r\n            }\r\n            _this.result[0][i] = v.x;\r\n            _this.result[1][i] = v.y;\r\n            _this.result[2][i] = v.z;\r\n        });\r\n    }\r\n    ;\r\n    Layout3D.prototype.linkLength = function (l) {\r\n        return l.actualLength(this.result);\r\n    };\r\n    Layout3D.prototype.start = function (iterations) {\r\n        var _this = this;\r\n        if (iterations === void 0) { iterations = 100; }\r\n        var n = this.nodes.length;\r\n        var linkAccessor = new LinkAccessor();\r\n        if (this.useJaccardLinkLengths)\r\n            linklengths_1.jaccardLinkLengths(this.links, linkAccessor, 1.5);\r\n        this.links.forEach(function (e) { return e.length *= _this.idealLinkLength; });\r\n        var distanceMatrix = (new shortestpaths_1.Calculator(n, this.links, function (e) { return e.source; }, function (e) { return e.target; }, function (e) { return e.length; })).DistanceMatrix();\r\n        var D = descent_1.Descent.createSquareMatrix(n, function (i, j) { return distanceMatrix[i][j]; });\r\n        var G = descent_1.Descent.createSquareMatrix(n, function () { return 2; });\r\n        this.links.forEach(function (_a) {\r\n            var source = _a.source, target = _a.target;\r\n            return G[source][target] = G[target][source] = 1;\r\n        });\r\n        this.descent = new descent_1.Descent(this.result, D);\r\n        this.descent.threshold = 1e-3;\r\n        this.descent.G = G;\r\n        if (this.constraints)\r\n            this.descent.project = new rectangle_1.Projection(this.nodes, null, null, this.constraints).projectFunctions();\r\n        for (var i = 0; i < this.nodes.length; i++) {\r\n            var v = this.nodes[i];\r\n            if (v.fixed) {\r\n                this.descent.locks.add(i, [v.x, v.y, v.z]);\r\n            }\r\n        }\r\n        this.descent.run(iterations);\r\n        return this;\r\n    };\r\n    Layout3D.prototype.tick = function () {\r\n        this.descent.locks.clear();\r\n        for (var i = 0; i < this.nodes.length; i++) {\r\n            var v = this.nodes[i];\r\n            if (v.fixed) {\r\n                this.descent.locks.add(i, [v.x, v.y, v.z]);\r\n            }\r\n        }\r\n        return this.descent.rungeKutta();\r\n    };\r\n    Layout3D.dims = ['x', 'y', 'z'];\r\n    Layout3D.k = Layout3D.dims.length;\r\n    return Layout3D;\r\n}());\r\nexports.Layout3D = Layout3D;\r\nvar LinkAccessor = (function () {\r\n    function LinkAccessor() {\r\n    }\r\n    LinkAccessor.prototype.getSourceIndex = function (e) { return e.source; };\r\n    LinkAccessor.prototype.getTargetIndex = function (e) { return e.target; };\r\n    LinkAccessor.prototype.getLength = function (e) { return e.length; };\r\n    LinkAccessor.prototype.setLength = function (e, l) { e.length = l; };\r\n    return LinkAccessor;\r\n}());\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0M2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9sYXlvdXQzZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUEwQztBQUMxQyxxQ0FBaUM7QUFDakMseUNBQTREO0FBRTVELDZDQUFvRTtBQUVwRTtJQUVRLGdCQUFtQixNQUFjLEVBQVMsTUFBYztRQUFyQyxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtJQUFJLENBQUM7SUFDN0QsNkJBQVksR0FBWixVQUFhLENBQWE7UUFBMUIsaUJBTUM7UUFMRyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQ1osQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQVMsRUFBRSxDQUFXO1lBQzVCLElBQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQUFDLEFBVkwsSUFVSztBQVZRLHdCQUFNO0FBV2Y7SUFTSSxnQkFDVyxDQUFhLEVBQ2IsQ0FBYSxFQUNiLENBQWE7UUFGYixrQkFBQSxFQUFBLEtBQWE7UUFDYixrQkFBQSxFQUFBLEtBQWE7UUFDYixrQkFBQSxFQUFBLEtBQWE7UUFGYixNQUFDLEdBQUQsQ0FBQyxDQUFZO1FBQ2IsTUFBQyxHQUFELENBQUMsQ0FBWTtRQUNiLE1BQUMsR0FBRCxDQUFDLENBQVk7SUFBSSxDQUFDO0lBQ2pDLGFBQUM7QUFBRCxDQUFDLEFBYkQsSUFhQztBQWJZLHdCQUFNO0FBY25CO0lBTUksa0JBQW1CLEtBQWUsRUFBUyxLQUFlLEVBQVMsZUFBMkI7UUFBOUYsaUJBYUM7UUFia0UsZ0NBQUEsRUFBQSxtQkFB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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar gridrouter_1 = require(\"./gridrouter\");\r\nfunction gridify(pgLayout, nudgeGap, margin, groupMargin) {\r\n    pgLayout.cola.start(0, 0, 0, 10, false);\r\n    var gridrouter = route(pgLayout.cola.nodes(), pgLayout.cola.groups(), margin, groupMargin);\r\n    return gridrouter.routeEdges(pgLayout.powerGraph.powerEdges, nudgeGap, function (e) { return e.source.routerNode.id; }, function (e) { return e.target.routerNode.id; });\r\n}\r\nexports.gridify = gridify;\r\nfunction route(nodes, groups, margin, groupMargin) {\r\n    nodes.forEach(function (d) {\r\n        d.routerNode = {\r\n            name: d.name,\r\n            bounds: d.bounds.inflate(-margin)\r\n        };\r\n    });\r\n    groups.forEach(function (d) {\r\n        d.routerNode = {\r\n            bounds: d.bounds.inflate(-groupMargin),\r\n            children: (typeof d.groups !== 'undefined' ? d.groups.map(function (c) { return nodes.length + c.id; }) : [])\r\n                .concat(typeof d.leaves !== 'undefined' ? d.leaves.map(function (c) { return c.index; }) : [])\r\n        };\r\n    });\r\n    var gridRouterNodes = nodes.concat(groups).map(function (d, i) {\r\n        d.routerNode.id = i;\r\n        return d.routerNode;\r\n    });\r\n    return new gridrouter_1.GridRouter(gridRouterNodes, {\r\n        getChildren: function (v) { return v.children; },\r\n        getBounds: function (v) { return v.bounds; }\r\n    }, margin - groupMargin);\r\n}\r\nfunction powerGraphGridLayout(graph, size, grouppadding) {\r\n    var powerGraph;\r\n    graph.nodes.forEach(function (v, i) { return v.index = i; });\r\n    new layout_1.Layout()\r\n        .avoidOverlaps(false)\r\n        .nodes(graph.nodes)\r\n        .links(graph.links)\r\n        .powerGraphGroups(function (d) {\r\n        powerGraph = d;\r\n        powerGraph.groups.forEach(function (v) { return v.padding = grouppadding; });\r\n    });\r\n    var n = graph.nodes.length;\r\n    var edges = [];\r\n    var vs = graph.nodes.slice(0);\r\n    vs.forEach(function (v, i) { return v.index = i; });\r\n    powerGraph.groups.forEach(function (g) {\r\n        var sourceInd = g.index = g.id + n;\r\n        vs.push(g);\r\n        if (typeof g.leaves !== 'undefined')\r\n            g.leaves.forEach(function (v) { return edges.push({ source: sourceInd, target: v.index }); });\r\n        if (typeof g.groups !== 'undefined')\r\n            g.groups.forEach(function (gg) { return edges.push({ source: sourceInd, target: gg.id + n }); });\r\n    });\r\n    powerGraph.powerEdges.forEach(function (e) {\r\n        edges.push({ source: e.source.index, target: e.target.index });\r\n    });\r\n    new layout_1.Layout()\r\n        .size(size)\r\n        .nodes(vs)\r\n        .links(edges)\r\n        .avoidOverlaps(false)\r\n        .linkDistance(30)\r\n        .symmetricDiffLinkLengths(5)\r\n        .convergenceThreshold(1e-4)\r\n        .start(100, 0, 0, 0, false);\r\n    return {\r\n        cola: new layout_1.Layout()\r\n            .convergenceThreshold(1e-3)\r\n            .size(size)\r\n            .avoidOverlaps(true)\r\n            .nodes(graph.nodes)\r\n            .links(graph.links)\r\n            .groupCompactness(1e-4)\r\n            .linkDistance(30)\r\n            .symmetricDiffLinkLengths(5)\r\n            .powerGraphGroups(function (d) {\r\n            powerGraph = d;\r\n            powerGraph.groups.forEach(function (v) {\r\n                v.padding = grouppadding;\r\n            });\r\n        }).start(50, 0, 100, 0, false),\r\n        powerGraph: powerGraph\r\n    };\r\n}\r\nexports.powerGraphGridLayout = powerGraphGridLayout;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmF0Y2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9iYXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUEyQztBQUMzQywyQ0FBdUM7QUFRdkMsU0FBZ0IsT0FBTyxDQUFDLFFBQVEsRUFBRSxRQUFnQixFQUFFLE1BQWMsRUFBRSxXQUFtQjtJQUNuRixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDM0YsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFNLFFBQVEsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxVQUFBLENBQUMsSUFBRyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBdEIsQ0FBc0IsRUFBRSxVQUFBLENBQUMsSUFBRyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDO0FBQ3hJLENBQUM7QUFKRCwwQkFJQztBQUVELFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBYyxFQUFFLFdBQW1CO0lBQzdELEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1FBQ1gsQ0FBQyxDQUFDLFVBQVUsR0FBUTtZQUNoQixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUk7WUFDWixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FDcEMsQ0FBQztJQUNOLENBQUMsQ0FBQyxDQUFDO0lBQ0gs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","export class LeaderBinner {\n    constructor(points, radius) {\n        //TODO: Should check if there are more than 3 unique values here or even after the binning.\n        //TODO: May need to clone the points to avoid modifying it, but we don't do to reserve other data or to make the process faster\n        // //Clone these to avoid modifying them\n        // this.points = points.map(p=>p.slice(0));\n        this.points = points;\n        this.radius = radius;\n    }\n\n    get leaders() {\n        let self = this;\n        let theLeaders = [];\n        //find all the leaders\n        this.points.forEach(point => {\n            let leader = closestLeader(theLeaders, point);\n            if (!leader) {\n                let newLeader = [];\n                newLeader.site = point.slice();\n                theLeaders.push(newLeader);\n            }\n        });\n        //now do this again to set the closest leader.\n        this.points.forEach(point => {\n            let leader = closestLeader(theLeaders, point);\n            leader.push(point);\n        });\n        return theLeaders;\n\n        function closestLeader(leaders, point) {\n            let length = leaders.length;\n            let minDistance = Number.MAX_SAFE_INTEGER;\n            let theLeader = null;\n            for (let i = 0; i < length; ++i) {\n                let l = leaders[i];\n                let d = distance(l.site, point);\n                if (d < self.radius) {\n                    if (d < minDistance) {\n                        minDistance = d;\n                        theLeader = l;\n                    }\n                }\n            }\n            return theLeader;\n        }\n    }\n}\n\nexport function distance(a, b) {\n    let sumsquared = 0;\n    for (let i = 0; i < a.length; i++) {\n        let d = a[i] - b[i];\n        if(!Number.isNaN(d)){\n            sumsquared += d*d;\n        }\n    }\n    //For computer storage issue, some coordinates of the same distance may return different distances if we use long floating point\n    //So take only 10 digits after the floating points=> this is precise enough and still have the same values for two different lines of the same distance\n    return Math.round(Math.sqrt(sumsquared) * Math.pow(10, 10)) / Math.pow(10, 10);\n}","import _ from 'underscore';\nimport {quantile} from 'simple-statistics';\nimport {pointExists, createGraph, mst, getAllV2OrGreaterFromTree} from \"./kruskal-mst\";\n\n/**\n * options may contain upperBound, outlyingCoefficient (1.5 or 3.0), and weights (different variables may have different weights)\n */\nexport class Outlying {\n    constructor(tree, options = {}) {\n        let upperBound = options.upperBound;\n        let outlyingCoefficient = options.outlyingCoefficient;\n        let weights = options.weights;\n        //Clone the tree to avoid modifying it\n        this.tree = JSON.parse(JSON.stringify(tree));\n        this.upperBound = upperBound;\n        this.outlyingCoefficient = outlyingCoefficient ? outlyingCoefficient : 1.5;\n        //Calculate the upper bound if it is not provided.\n        if (!upperBound) {\n            upperBound = findUpperBound(this.tree, outlyingCoefficient);\n            //Save it for displaying purpose.\n            this.upperBound = upperBound;\n        }\n        //Mark the long links\n        markLongLinks(this.tree, upperBound);\n        //Finding normal nodes\n        let normalNodes = findNormalNodes(this.tree);\n        //Finding outlying points\n        this.outlyingPoints = findOutlyingPoints(this.tree, normalNodes);\n\n        function findOutlyingPoints(tree, normalNodes) {\n            let newNodes = normalNodes;\n            let oldNodes = tree.nodes;\n            //Get the outlying points\n            let ops = [];\n            oldNodes.forEach(on => {\n                //.id since we are accessing to points and the node is in form of {id: thePoint}\n                if (!pointExists(newNodes.map(nn => nn.id), on.id)) {\n                    ops.push(on.id);\n                }\n            });\n            return ops;\n        }\n\n        //Now mark the outlying links\n        markOutlyingLinks(this.tree, this.outlyingPoints);\n\n        //Create none outlying tree\n        this.noOutlyingTree = buildNoOutlyingTree(this.tree, this.outlyingPoints);\n\n        function buildNoOutlyingTree(tree, outlyingPoints) {\n            let noOutlyingTree = {};\n            noOutlyingTree.nodes = normalNodes;\n            noOutlyingTree.links = tree.links.filter(l => l.isOutlying !== true)\n            //If the outlying nodes has the degree of 2 or greater => it will break the tree into subtrees => so we need to rebuild the tree.\n            //Take the outlying points\n            let outlyingPointsStr = outlyingPoints.map(p => p.join(','));\n            let v2OrGreaterStr = getAllV2OrGreaterFromTree(tree).map(p => p.join(','));\n\n            let diff = _.difference(outlyingPointsStr, v2OrGreaterStr);\n            if (diff.length < outlyingPointsStr.length) {\n                //Means there is outlying node(s) with degree 2 or higher (so we should rebuild the tree)\n                let graph = createGraph(noOutlyingTree.nodes.map(n => n.id), weights)\n                noOutlyingTree = mst(graph);\n            }\n            return noOutlyingTree;\n        }\n\n        function findNormalNodes(tree) {\n            //Remove long links\n            let normalLinks = tree.links.filter(l => !l.isLong);\n            //Remove outlying nodes (nodes are not in any none-long links)\n            let allNodesWithLinks = [];\n            normalLinks.forEach(l => {\n                allNodesWithLinks.push(l.source);\n                allNodesWithLinks.push(l.target);\n            });\n            allNodesWithLinks = _.uniq(allNodesWithLinks, false, d => d.join(','));\n            let normalNodes = allNodesWithLinks.map(n => {\n                return {id: n};\n            });\n            return normalNodes;\n        }\n\n        function markLongLinks(tree, upperBound) {\n            tree.links.forEach(l => {\n                if (l.weight > upperBound) {\n                    l.isLong = true;\n                }\n            });\n        }\n\n        function findUpperBound(tree, coefficient) {\n            let allLengths = tree.links.map(l => l.weight),\n                q1 = quantile(allLengths, 0.25),\n                q3 = quantile(allLengths, 0.75),\n                iqr = q3 - q1,\n                upperBound = q3 + coefficient * iqr;\n            return upperBound;\n        }\n\n        function markOutlyingLinks(tree, outlyingPoints) {\n            if (outlyingPoints.length > 0) {\n                //Check the long links only\n                tree.links.filter(l => l.isLong).forEach(l => {\n                    //Also check if the link contains outlying points.\n                    if (pointExists(outlyingPoints, l.source) || pointExists(outlyingPoints, l.target)) {\n                        l.isOutlying = true;\n                    }\n                });\n            }\n        }\n    }\n\n    /**\n     * Returns outlying score\n     * @returns {number}\n     */\n    score() {\n        let totalLengths = 0;\n        let totalOutlyingLengths = 0;\n        this.tree.links.forEach(l => {\n            totalLengths += l.weight;\n            //If there are outlying points first.\n            if (l.isOutlying) {\n                totalOutlyingLengths += l.weight;\n            }\n        });\n        return totalOutlyingLengths / totalLengths;\n    }\n\n    /**\n     * Returns outlying links\n     */\n    links() {\n        if (!this.outlyingLinks) {\n            this.outlyingLinks = this.tree.links.filter(l => l.isOutlying);\n        }\n        return this.outlyingLinks;\n    }\n\n    /**\n     * Remove outlying links and nodes and return a new tree without outlying points/edges\n     */\n    removeOutlying() {\n        return this.noOutlyingTree;\n    }\n\n    /**\n     * Returns the outlying points (in form of points, not node object).\n     * @returns {Array}\n     */\n    points() {\n        return this.outlyingPoints;\n    }\n}","import {Normalizer} from \"./modules/normalizer\";\nimport {LeaderBinner} from \"./modules/leaderBinner\";\nimport {_} from 'underscore'\nimport {createGraph, mst, equalPoints} from \"./modules/kruskal-mst\";\nimport {Outlying} from \"./modules/outlying\";\nimport {Skewed} from \"./modules/skewed\";\nimport {Sparse} from \"./modules/sparse\";\nimport {Clumpy} from \"./modules/clumpy\";\n// import {Striated} from \"./modules/striated\";\n// import {Convex} from \"./modules/convex\";\n// import {Skinny} from \"./modules/skinny\";\nimport {Stringy} from \"./modules/stringy\";\nimport {Monotonic} from \"./modules/monotonic\";\n\n(function (window) {\n    /**\n     * initialize a scagnosticsnd object\n     * @param inputPoints   {*[][]} set of points from the scatter plot\n     * @returns {*[][]}\n     */\n    window.scagnosticsnd = function (inputPoints, options = {}) {\n        let dims = inputPoints[0].length;\n        //Clone it to avoid modifying it.\n        let points = inputPoints.map(e => e.slice());\n        //Add one step to pass the data over if there is.\n        for (let i = 0; i < points.length; i++) {\n            points[i].data = inputPoints[i].data;\n        }\n        let normalizedPoints = points;\n\n        if (options.isNormalized === undefined) {\n            let normalizer = new Normalizer(points);\n            normalizedPoints = normalizer.normalizedPoints;\n            outputValue(\"normalizedPoints\", normalizedPoints);\n            outputValue(\"normalizer\", normalizer);\n        }\n\n        let binType = options.binType;\n        /******This section isouasdtly about the outlying score and outlying score results******/\n        let outlyingUpperBound = options.outlyingUpperBound;\n        let outlyingCoefficient = options.outlyingCoefficient;\n\n        /******This section is about finding number of bins and binners******/\n        let sites = null;\n        let bins = null;\n        let binner = null;\n        let binSize = null;\n        let binRadius = 0;\n        let startBinGridSize = options.startBinGridSize;\n\n        if (options.isBinned === undefined) {//Only do the binning if needed.\n            let incrementA = options.incrementA ? options.incrementA : 2;\n            let incrementB = options.incrementB ? options.incrementB : 0;\n            let decrementA = options.decrementA ? options.decrementA : 1 / 2;\n            let decrementB = options.decrementB ? options.decrementB : 0;\n\n            if (startBinGridSize === undefined) {\n                startBinGridSize = 20;\n            }\n            bins = [];\n            //Default number of bins\n            let minNumOfBins = 30;\n            let maxNumOfBins = 200;\n            let minBins = options.minBins;\n            let maxBins = options.maxBins;\n            if (minBins) {\n                minNumOfBins = minBins;\n            }\n            if (maxBins) {\n                maxNumOfBins = maxBins;\n            }\n            //Don't do the binning if the unique set of values are less than min number. Just return the unique set.\n            // let uniqueKeys = _.uniq(normalizedPoints.map(p => p.join(',')));\n            // let groups = _.groupBy(normalizedPoints, p => p.join(','));\n            // if (uniqueKeys.length < minNumOfBins) {\n            //     uniqueKeys.forEach(key => {\n            //         let bin = groups[key];\n            //         //Take the coordinate of the first point in the group to be the bin leader (they should have the same points actually=> so just take the first one.\n            //         bin.site = bin[0].slice();\n            //         bins.push(bin);\n            //     });\n            // } else {\n            do {\n                //Start with binSize x binSize x binSize... bins, and then increase it as binSize = binSize * incrementA + incrementB or binSize = binSize * decrementA + decrementB.\n                if (binSize === null) {\n                    binSize = startBinGridSize;\n                } else if (bins.length > maxNumOfBins) {\n                    binSize = binSize * decrementA + decrementB;\n                } else if (bins.length < minNumOfBins) {\n                    binSize = binSize * incrementA + incrementB;\n                }\n                if (binType === \"hexagon\") {\n                    // // This section uses hexagon binning\n                    // let shortDiagonal = 1/binSize;\n                    // binRadius = Math.sqrt(3)*shortDiagonal/2;\n                    // binner = new Binner().radius(binRadius).extent([[0, 0], [1, 1]]);//extent from [0, 0] to [1, 1] since we already normalized data.\n                    // bins = binner.hexbin(normalizedPoints);\n                } else if (!binType || binType === \"leader\") {\n                    // This section uses leader binner\n                    binRadius = Math.sqrt(dims * Math.pow(1 / (binSize * 2), 2));\n                    binner = new LeaderBinner(normalizedPoints, binRadius);\n                    bins = binner.leaders;\n                }\n            } while (bins.length > maxNumOfBins || bins.length < minNumOfBins);\n            // }\n            sites = bins.map(d => d.site); //=>sites are the set of centers of all bins\n            /******This section is about the binning and binning results******/\n            outputValue(\"binner\", binner);\n            outputValue(\"bins\", bins);\n            outputValue(\"binSize\", binSize);\n            outputValue(\"binRadius\", binRadius)\n        } else {\n            sites = normalizedPoints;\n        }\n\n        outputValue(\"binnedSites\", sites);\n\n        /******This section is about the spanning tree and spanning tree results******/\n            //Spanning tree calculation\n        let tetrahedraCoordinates = [sites];\n        let weights = options.distanceWeights;\n        let graph = createGraph(tetrahedraCoordinates, weights);\n        let mstree = mst(graph);\n        //Assigning the output values\n        outputValue(\"graph\", graph);\n        outputValue(\"mst\", mstree);\n\n        /******This section is about the outlying score and outlying score results******/\n            //TODO: Need to check if outlying links are really connected to outlying points\n        let outlying = new Outlying(mstree, {\n                outlyingUpperBound: outlyingUpperBound,\n                outlyingCoefficient: outlyingCoefficient\n            });\n        let outlyingScore = outlying.score();\n        outlyingUpperBound = outlying.upperBound;\n        let outlyingLinks = outlying.links();\n        let outlyingSites = outlying.points().map(p => p.join(','));\n        let outlyingBins = bins.filter(b => outlyingSites.indexOf(b.site.join(',')) >= 0);\n\n        //Add outlying points from the bin to it.\n        let outlyingPoints = [];\n        outlying.points().forEach(p => {\n            bins.forEach(b => {\n                if (equalPoints(p, b.site)) {\n                    outlyingPoints = outlyingPoints.concat(b);\n                }\n            });\n\n        });\n        outputValue(\"outlyingBins\", outlyingBins);\n        outputValue(\"outlyingScore\", outlyingScore);\n        outputValue(\"outlyingUpperBound\", outlyingUpperBound);\n        outputValue(\"outlyingLinks\", outlyingLinks);\n        outputValue(\"outlyingPoints\", outlyingPoints);\n\n\n        // /******This section is about the skewed score and skewed score results******/\n        // let noOutlyingTree = outlying.removeOutlying();\n        // let skewed = new Skewed(noOutlyingTree);\n        // outputValue(\"skewedScore\", skewed.score());\n        //\n        // /******This section is about the sparse score and sparse score results******/\n        // let sparse = new Sparse(noOutlyingTree);\n        // outputValue(\"sparseScore\", sparse.score());\n        //\n        // /******This section is about the clumpy score and clumpy score results******/\n        // let clumpy = new Clumpy(noOutlyingTree);\n        // outputValue(\"clumpy\", clumpy);\n        // outputValue(\"clumpyScore\", clumpy.score());\n\n        // /******This section is about the striated score and striated score results******/\n        // let striated = new Striated(noOutlyingTree);\n        // outputValue(\"striatedScore\", striated.score());\n        //\n        // /******This section is about the convex hull and convex hull results******/\n        // let convex = new Convex(noOutlyingTree, 1/outlying.upperBound);\n        // let convexHull = convex.convexHull();\n        // outputValue(\"convexHull\", convexHull);\n\n\n        // /******This section is about the concave hull and concave hull results******/\n        // let concaveHull = convex.concaveHull();\n        // outputValue(\"concaveHull\", concaveHull);\n        //\n        //\n        // /******This section is about the convex score and convex score results******/\n        // let convexScore = convex.score();\n        // outputValue(\"convexScore\", convexScore);\n        //\n        //\n        // /******This section is about the skinny score and skinny score results******/\n        // let skinny = new Skinny(concaveHull);\n        // let skinnyScore = skinny.score();\n        // outputValue(\"skinnyScore\", skinnyScore);\n        //\n        // /******This section is about the stringy score and stringy score results******/\n        // let stringy = new Stringy(noOutlyingTree);\n        // let v1s = stringy.getAllV1s();\n        // let v2Corners = stringy.getAllV2Corners();\n        // // let obtuseV2Corners = striated.getAllObtuseV2Corners();\n        // let stringyScore = stringy.score();\n        // outputValue(\"v1s\", v1s);\n        // outputValue(\"stringyScore\", stringyScore);\n        // outputValue(\"v2Corners\", v2Corners);\n        // // outputValue(\"obtuseV2Corners\", obtuseV2Corners);\n        //\n        //\n        // /******This section is about the monotonic score and monotonic score results******/\n        // let monotonic = new Monotonic(noOutlyingTree.nodes.map(n => n.id));\n        // let monotonicScore = monotonic.score();\n        // outputValue(\"monotonicScore\", monotonicScore);\n\n        return window.scagnosticsnd;\n\n        function outputValue(name, value) {\n            window.scagnosticsnd[name] = value;\n        }\n    };\n\n})(window);","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","import {CurveFactory,CurveGenerator} from \"d3-shape\";\r\nimport { Path,path } from 'd3-path';\r\n\r\nclass Bump  implements CurveGenerator{\r\n    x =0;\r\n    _x = true;\r\n    _context = path();\r\n    _line=0;\r\n    _point=0;\r\n    _x0 = 0;\r\n    _y0 = 0;\r\n    constructor(context: CanvasRenderingContext2D | Path, x: boolean) {\r\n        this._context = context;\r\n        this._x = x;\r\n    }\r\n\r\n    areaStart() {\r\n        this._line = 0;\r\n    }\r\n    areaEnd() {\r\n        this._line = NaN;\r\n    }\r\n    lineStart() {\r\n        this._point = 0;\r\n    }\r\n    lineEnd() {\r\n        if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\r\n        this._line = 1 - this._line;\r\n    }\r\n    point(x:number, y:number) {\r\n        x = +x, y = +y;\r\n        switch (this._point) {\r\n            case 0: {\r\n                this._point = 1;\r\n                if (this._line) this._context.lineTo(x, y);\r\n                else this._context.moveTo(x, y);\r\n                break;\r\n            }\r\n            case 1: this._point = 2; // falls through\r\n            default: {\r\n                if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\r\n                else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\r\n                break;\r\n            }\r\n        }\r\n        this._x0 = x, this._y0 = y;\r\n    }\r\n}\r\n\r\n\r\nexport function bumpX(context:CanvasRenderingContext2D | Path) :CurveFactory {\r\n    // @ts-ignore\r\n    return new Bump(context, true);\r\n}\r\n\r\nexport function bumpY(context:CanvasRenderingContext2D | Path): CurveFactory {\r\n    // @ts-ignore\r\n    return new Bump(context, false);\r\n}\r\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n","export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n","import {max, min, sum} from \"d3-array\";\nimport {justify} from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths({nodes}) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport default function Sankey() {\n  let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8, py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey() {\n    const graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function(_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (dy = py = +_, sankey) : dy;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function(_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks({nodes, links}) {\n    for (const [i, node] of nodes.entries()) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    }\n    const nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d]));\n    for (const [i, link] of links.entries()) {\n      link.index = i;\n      let {source, target} = link;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    }\n    if (linkSort != null) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({nodes}) {\n    for (const node of nodes) {\n      node.value = node.fixedValue === undefined\n          ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.depth = x;\n        for (const {target} of node.sourceLinks) {\n          next.add(target);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeHeights({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.height = x;\n        for (const {source} of node.targetLinks) {\n          next.add(source);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeLayers({nodes}) {\n    const x = max(nodes, d => d.depth) + 1;\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort) for (const column of columns) {\n      column.sort(sort);\n    }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = min(columns, c => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / (max(columns, c => c.length) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const {source, value} of target.targetLinks) {\n          let v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const {target, value} of source.sourceLinks) {\n          let v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({sourceLinks, targetLinks}) {\n    if (linkSort === undefined) {\n      for (const {source: {sourceLinks}} of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {target: {targetLinks}} of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","export var slice = Array.prototype.slice;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\r\nimport React from \"react\";\r\nimport { css, cx} from '@emotion/css'\r\n\r\ninterface Props extends React.SVGProps<SVGGElement>{\r\n    freezing: boolean\r\n    setfreezing: (freezing:boolean)=>void,\r\n    mouseOver?: Function,\r\n    mouseLeave?: Function,\r\n    mouseMove?: Function\r\n}\r\ninterface State {\r\n}\r\nexport class NodeElement extends React.Component<Props, State>{\r\n    onHandleClick(){\r\n        const _freezing = this.props.freezing;\r\n        const freezing = !_freezing;\r\n        // d3.select('.tippannel').select('.freezing').text(freezing ? 'unfreeze' : 'freeze')\r\n        this.props.setfreezing(freezing)\r\n\r\n    }\r\n    onMouseOver(event:any){\r\n        if(!this.props.freezing && this.props.mouseOver){\r\n            this.props.mouseOver(event)\r\n        }\r\n    }\r\n    onMouseLeave(event:any){\r\n        if(!this.props.freezing && this.props.mouseLeave){\r\n            this.props.mouseLeave(event)\r\n        }\r\n    }\r\n    onMouseMove(event:any){\r\n        if(!this.props.freezing && this.props.mouseMove){\r\n            this.props.mouseMove(event)\r\n        }\r\n    }\r\n    render(){\r\n        const {children,className,...other} = this.props;\r\n        const freezing = this.props.freezing;\r\n        return <g {...other} onClick={()=>this.onHandleClick()}\r\n                  className={cx(className,freezing?css`\r\n                  &:not(.highlight) \r\n                  {pointerEvents: 'none';}`:\r\n                      css`\r\n                  &:not(.highlight) \r\n                  {pointerEvents: 'auto';}`)}\r\n\r\n                  onMouseMove={!freezing?this.onMouseMove.bind(this):undefined}\r\n                  onMouseOver={!freezing?this.onMouseOver.bind(this):undefined}\r\n                  onMouseLeave={!freezing?this.onMouseLeave.bind(this):undefined}\r\n        >\r\n            {this.props.children}\r\n        </g>;\r\n    }\r\n}\r\nexport default NodeElement;\r\n","import React from \"react\";\r\nimport {GrafanaTheme2} from \"@grafana/data\";\r\nimport * as d3 from \"d3\";\r\nimport * as _ from \"lodash\"\r\nimport {css} from \"@emotion/css\";\r\nimport { SimulationNodeDatum} from \"d3-force\";\r\nimport {bumpX} from \"Bump\"\r\nimport {d3adaptor} from \"webcola\"\r\n// import {sankey,sankeyLeft} from \"d3-sankey\"\r\nimport {sankey} from \"d3-sankey\"\r\nimport {CompOBject, TSNEDATA} from \"./Ulti\";\r\nimport NodeElement from \"./NodeElement\";\r\nimport { stylesFactory } from '@grafana/ui';\r\nimport {ScaleOrdinal, ScaleSequential} from \"d3-scale\";\r\n\r\nexport interface CompSelectNode extends Record<string, any>{\r\n    user: string,timestep:number,comp:string[],value:number\r\n}\r\nexport interface CompSelect extends Record<string, any>{\r\n    nodes: Record<string, Record<string,CompSelectNode>>\r\n    links: {key: string, value: CompSelectNode[]}[]\r\n}\r\ninterface Props{\r\n    width: number,\r\n    height: number,\r\n    data: Record<string, any>,\r\n    theme: GrafanaTheme2,\r\n    timespan: (Date)[],\r\n    showShareUser?:boolean,\r\n    hideStable?:boolean,\r\n    showOverLimitUser?:boolean,\r\n    mode: string,\r\n    maxPerUnit: number,\r\n    color?: ScaleOrdinal<any,any>|ScaleSequential<any>,\r\n    colorCluster?: Function,\r\n    colorByName?: ScaleOrdinal<any,any>,\r\n    mouseOver: Function,\r\n    mouseLeave: Function,\r\n    metrics?: TSNEDATA,\r\n    colorBy?:string\r\n    getMetric: Function,\r\n    lineaScale: number\r\n    sankeyComputeSelected?: CompSelect\r\n}\r\n\r\ninterface Data extends SankeyInput{\r\n    order: number,\r\n    key:string\r\n}\r\nexport interface JobOBject extends Record<string, any> {\r\n    job_id: string,\r\n    user_name: string,\r\n    job_name: string,\r\n    _node_list: any[],\r\n    node_list: any[],\r\n    node_list_obj: Record<string, number>,\r\n    _node_list_obj: Record<string, number>\r\n}\r\ninterface DataItem extends Array<{key:string,value:number}>{\r\n    jobs?: [string[],JobOBject[] ],\r\n    total: number\r\n}\r\n\r\ninterface Node  extends Record<string, any>{\r\n    name: string,\r\n    time: Date,\r\n    layer: number,\r\n    _key:string,\r\n    relatedLinks: any[],\r\n    id: number,\r\n    first : boolean,\r\n    childNodes : any[],\r\n    isShareUser : boolean,\r\n    maxIndex: number,\r\n    maxval : number,\r\n    drawData : any[];\r\n}\r\ninterface Node extends SimulationNodeDatum{}\r\n\r\nexport interface Link extends Record<string, any>{\r\n    source: any,\r\n    _source:DataItem,\r\n    target: any,\r\n    _target:DataItem,\r\n    names: string[],\r\n    arr: string[],\r\n    value: number,\r\n    _value?: number,\r\n    _id: string,\r\n    hide?: boolean,\r\n    isSameNode?: boolean,\r\n    _class?:string,\r\n    width?:number,\r\n    byComp_t?:Record<string,any>\r\n}\r\n\r\nexport interface SankeyInputItem extends Array<{key:string,value:number}>{\r\n    jobs: [string[],JobOBject[]],\r\n    total:number\r\n}\r\nexport interface SankeyInput extends Record<string, SankeyInputItem|string|CompOBject|number|number[]>{\r\n    data: any,\r\n    key: string\r\n}\r\ninterface LinksBySource {\r\n    key:string, values: Link[],_class?:string,hide?: boolean\r\n    draw: Node[],\r\n    drawP: [number,number,number][]\r\n}\r\ninterface States {\r\n    scalezoom?: number,\r\n    margin: { top: number, bottom: number, left: number, right: number },\r\n    freezing: boolean,\r\n    data: Data[],\r\n    times: (Date)[],\r\n    nodes: Node[],\r\n    links: Link[],\r\n    linksBySource: LinksBySource[],\r\n    graph: Record<string, any>,\r\n    isForceDone:boolean,\r\n    highlight?:Record<string, any>,\r\n    highlightJob?:Record<string, any>\r\n}\r\n// @ts-ignore\r\nconst area = d3.area<[number,number,number]>().defined(d=>!!d).curve(bumpX).x(d=>d[0])\r\nexport default class Sankey extends React.Component<Props, States> {\r\n    svgRef = React.createRef<SVGSVGElement>();\r\n    widthView() {\r\n        return this.props.width * (this.state.scalezoom ?? 1)\r\n    }\r\n\r\n    heightView() {\r\n        return this.props.height * (this.state.scalezoom ?? 1)\r\n    }\r\n\r\n    widthG() {\r\n        return this.widthView() - (this.state.margin ?? {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0\r\n        }).left - (this.state.margin ?? {top: 0, bottom: 0, left: 0, right: 0}).right\r\n    }\r\n\r\n    heightG() {\r\n        return this.heightView() - (this.state.margin ?? {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0\r\n        }).top - (this.state.margin ?? {top: 0, bottom: 0, left: 0, right: 0}).bottom\r\n    }\r\n    nodeSort=((a:Node,b:Node)=>0)\r\n    padding = 0;\r\n    isAnimate=false;\r\n    sankey = sankey<Node, Link>()\r\n        .nodeWidth(0.1)\r\n        // .nodeAlign(sankeyLeft)\r\n        .nodeAlign((node)=> {\r\n    return node.layer;\r\n})\r\n        .nodePadding(5)\r\n    y = d3.scalePoint<string>()\r\n    x = d3.scaleTime()\r\n    svg = d3.select<SVGSVGElement|null,unknown>(null)\r\n    g = d3.select<SVGGElement|null,unknown>(null)\r\n    color:ScaleOrdinal<string,string>|ScaleSequential<any> = d3.scaleOrdinal(d3.schemeCategory10)\r\n    _color:ScaleOrdinal<string,string>|ScaleSequential<any> = d3.scaleOrdinal(d3.schemeCategory10)\r\n    force = d3adaptor(d3)\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            freezing: false,\r\n            margin: {top: 20, right: 20, bottom: 30, left: 100},\r\n            data:[],\r\n            times:[],\r\n            nodes:[],\r\n            links:[],\r\n            linksBySource:[],\r\n            graph: {},\r\n            isForceDone:false\r\n        }\r\n    }\r\n    zoomFunc = d3.zoom<SVGRectElement|SVGSVGElement, unknown>().on(\"zoom\", () => {\r\n        this.svg.select('g.content').attr(\"transform\", d3.event.transform);\r\n    });\r\n    componentDidMount(): void {\r\n        const {margin} = this.state;\r\n        this.svg = d3.select(this.svgRef.current);\r\n        this.g = this.svg.select('g.content');\r\n\r\n        // this.svg.select<SVGRectElement>('rect.pantarget').call(this.zoomFunc.bind(this)).call(this.zoomFunc.transform, d3.zoomIdentity.translate(margin.left, margin.top));\r\n        // @ts-ignore\r\n        this.svg.call(this.zoomFunc.bind(this)).call(this.zoomFunc.transform, d3.zoomIdentity.translate(margin.left, margin.top));\r\n        const data = this.props.data;\r\n\r\n        this.y.domain(data.map((d: SankeyInput)=>d.key));\r\n        data.forEach((d:any,i:number)=>{\r\n            d.order = i;\r\n        });\r\n        this.draw({data: data as Data[]});\r\n        this.setState({data: data as Data[]})\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<States>, snapshot?: any): void {\r\n        if(this.props.data!==prevProps.data){\r\n            const data = this.props.data;\r\n            this.y.domain(data.map((d: SankeyInput)=>d.key));\r\n            data.forEach((d:any,i:number)=>{\r\n                d.order = i;\r\n            });\r\n            this.draw({data: data as Data[]});\r\n            this.setState({data: data as Data[]})\r\n        }else if((this.props.width!==prevProps.width)||(this.props.height!==prevProps.height)){\r\n            const graph = this.state.graph;\r\n            const {nodes,links,linksBySource} = this.renderSankey({graph},0);\r\n            this.setState({nodes,links,linksBySource,graph});\r\n        } else if ((this.state.isForceDone!==prevState.isForceDone) && this.state.isForceDone && !this.svg.empty()){\r\n            const {margin} = this.state;\r\n            // @ts-ignore\r\n            this.svg.call(this.zoomFunc.transform, d3.zoomIdentity.translate(margin.left, margin.top));\r\n            // this.svg.select<SVGRectElement>('rect.pantarget').call(this.zoomFunc.transform, d3.zoomIdentity.translate(margin.left, margin.top));\r\n        }\r\n    }\r\n    freezeHandle() {\r\n        const {freezing} = this.state;\r\n        if (freezing) {\r\n            // freezing();\r\n            this.setState({freezing: false});\r\n        }\r\n    }\r\n    draw(opts:Partial<States>={}) {\r\n        let {freezing} = this.state;\r\n        const {timespan} = this.props;\r\n        const {x} = this;\r\n        const self = this;\r\n        const data = opts.data??this.state.data;\r\n        if (freezing)\r\n            this.freezeHandle();\r\n        let keys = timespan;\r\n        const times = keys;\r\n        let nodes:Node[] = [];\r\n        x.domain([keys[0],_.last<any>(keys)]);\r\n\r\n        let graph = (()=> {\r\n            let index = -1;\r\n            let nodes:Node[] = [];\r\n            const nodeByKey = new Map;\r\n            const indexByKey = new Map;\r\n            const nodeLabel = new Map;\r\n            let links:Link[] = [];\r\n            const nodeList:Record<string, Node[]> = {};\r\n            console.time('create nodes');\r\n            keys.forEach((_k,ki)=>{\r\n                const k = '' + _k;\r\n                for (const d of data) {\r\n                    if(d[k]){\r\n                        const item = d[k] as SankeyInputItem;\r\n                        const text = getUserName(item);\r\n                        const key = JSON.stringify([k, text]);\r\n                        if ((this.props.showShareUser && (!(item&&item.length>1)))|| nodeByKey.has(key))\r\n                            continue; // return\r\n\r\n                        const node:Partial<Node> = {name: text,time:_k,layer:ki,_key:key,relatedLinks:[],element:item,id:++index};\r\n                        if (!nodeLabel.has(text)) {\r\n                            node.first = true;\r\n                            node.childNodes = [];\r\n                            nodeLabel.set(text, node);\r\n                            nodeList[text] = [];\r\n                                node.isShareUser = !!(item&&(item.length>1));\r\n                            node.maxIndex=ki;\r\n                            node.maxval = 0;\r\n                            node.drawData=[];\r\n                            node.comp = {}\r\n                            node.comp[d.key] = true;\r\n\r\n                            // this.getColorScale(node as Node);\r\n\r\n                            nodes.push(node as Node);\r\n                            nodeByKey.set(key, node);\r\n                            indexByKey.set(key, index);\r\n                            nodeList[text].push(node as Node);\r\n                        }else {\r\n                            node.isShareUser = !!(item&&item.length>1);\r\n                            node.parentNode = nodeLabel.get(text).id;\r\n                            // this.getColorScale(node as Node);\r\n                            node.comp = {}\r\n                            node.comp[d.key] = true;\r\n                            nodes.push(node as Node);\r\n                            // if (nodeByKey.has(key)) continue;\r\n                            nodeByKey.set(key, node);\r\n                            indexByKey.set(key, index);\r\n                            nodeList[text].push(node as Node);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            console.timeEnd('create nodes');\r\n            console.time('create links');\r\n            const maxLimit = this.props.maxPerUnit;\r\n            const mapOfSankey: Record<string, SankeyInput> = {};\r\n            // nodes = _.shuffle(nodes)\r\n            for (let i = 1; i < keys.length; ++i) {\r\n                const a = ''+keys[i - 1];\r\n                const b = ''+keys[i];\r\n                const linkByKey = new Map();\r\n                for (const d of data){\r\n                    const d_a = d[a]  as SankeyInputItem;\r\n                    const d_b = d[b]  as SankeyInputItem;\r\n                    const sourceName = JSON.stringify([a, getUserName(d_a)]);\r\n                    const targetName = JSON.stringify([b, getUserName(d_b)]);\r\n                    if (d[a] && d[b] && nodeByKey.has(sourceName) && nodeByKey.has(targetName)){\r\n                        const names = [sourceName,targetName];\r\n                        const key = JSON.stringify(names);\r\n                        // const value = (d.value??d_a.total) || 1;\r\n                        // const value = Math.min(d_a.total,maxLimit);\r\n                        const value = Math.min(d_a.total,maxLimit);\r\n                        const arr = [d.key];//just ad for testing\r\n                        let link = linkByKey.get(key);\r\n                        const byComp: Record<string, number> = {};\r\n                        const byComp_t: Record<string, number> = {};\r\n                        byComp[d.key] = value;\r\n                        byComp_t[d.key] = Math.min(d_b.total,maxLimit);\r\n                        // _byComp_t[d.key] = d_b.total;\r\n\r\n                        if (link) {\r\n                            let new_val = Math.min((link.byComp[d.key]??0) + value,maxLimit);\r\n                            let delta = new_val - (link.byComp[d.key]??0);\r\n                            link.byComp[d.key] = new_val;\r\n\r\n                            let new_val_t = Math.min((link.byComp_t[d.key]??0) + byComp_t[d.key],maxLimit);\r\n                            link.byComp_t[d.key] = new_val_t;\r\n                            // link._byComp_t[d.key] = (link._byComp_t[d.key]??0)+_byComp_t[d.key];\r\n\r\n                            nodeByKey.get(sourceName).comp[d.key] = true;\r\n                            nodeByKey.get(targetName).comp[d.key] = true;\r\n                            d_a.jobs[0].forEach((d,i)=>link.sources[d]={display:{},data:d_a.jobs[1][i]});\r\n                            d_b.jobs[0].forEach((d,i)=>link.targets[d]={display:{},data:d_b.jobs[1][i]});\r\n                            // if a compute over the limit\r\n                            link.value += delta;\r\n                            if(link.value<link.source.value)\r\n                                debugger\r\n                            // d_a.forEach((n:{key:string,value:number},i:number)=>{\r\n                            //     link._source[i].value+=n.value;\r\n                            //     link._source.total+=n.value;\r\n                            // });\r\n                            d_b.forEach((n:{key:string,value:number},i:number)=>{\r\n                                link._target[i].value+=n.value;\r\n                                link._target.total= (link._target.total??0) + n.value;\r\n                            });\r\n                            link.arr.push(arr[0]);\r\n                            // TIME ARC\r\n                            // if (nodes[link.source].maxval<link.value) {\r\n                            //     nodes[link.source].maxval = link.value;\r\n                            //     nodes[link.source].maxIndex = i - 1;\r\n                            // }\r\n                            // if (nodes[link.target].maxval<link.value) {\r\n                            //     nodes[link.target].maxval = link.value;\r\n                            //     nodes[link.target].maxIndex = i;\r\n                            // }\r\n                            continue;\r\n                        }\r\n                        const source =  JSON.stringify([a, getUserName(d_a)]);\r\n                        nodeByKey.get(source).comp[d.key] = true;\r\n                        const target = JSON.stringify([b, getUserName(d_b)]);\r\n                        nodeByKey.get(target).comp[d.key] = true;\r\n                        if(!mapOfSankey[sourceName])\r\n                            mapOfSankey[sourceName]= JSON.parse(JSON.stringify(d[a]));\r\n                        mapOfSankey[targetName] = JSON.parse(JSON.stringify(d[b]));\r\n                        const _source = mapOfSankey[sourceName];\r\n                        // _source.total=d[a].total;\r\n                        const _target = mapOfSankey[targetName];\r\n                        // _target.total=d[b].total;\r\n                        // const _source = JSON.parse(JSON.stringify(d[a]));\r\n                        // _source.total=Math.min(d_a.total,maxLimit);\r\n                        // const _target = JSON.parse(JSON.stringify(d[b]));\r\n                        // _target.total=Math.min(d_a.total,maxLimit);\r\n                        const sources:Record<string, {display:Record<string, any>,data:JobOBject}>={};\r\n                        const targets:Record<string, {display:Record<string, any>,data:JobOBject}>={};\r\n                        d_a.jobs[0].forEach((d,i)=>sources[d]={display:{},data:d_a.jobs[1][i]});\r\n                        d_b.jobs[0].forEach((d,i)=>targets[d]={display:{},data:d_b.jobs[1][i]});\r\n                        link = {\r\n                            byComp,\r\n                            byComp_t,\r\n                            // _byComp_t,\r\n                            source:indexByKey.get(source),\r\n                            sources,\r\n                            targets,\r\n                            _source,\r\n                            target:indexByKey.get(target),\r\n                            _target,\r\n                            names,\r\n                            arr,\r\n                            value,\r\n                            _id: 'link_'+key.replace(/\\.|\\[|\\]| |\"|\\\\|:|-|,/g,'')\r\n                        };\r\n                        if (getUserName(d_a)!==getUserName(d_b)){\r\n                            if (this.props.hideStable){\r\n                                nodeByKey.get(JSON.stringify([a, getUserName(d_a)])).relatedLinks.push(link);\r\n                                nodeByKey.get(JSON.stringify([b, getUserName(d_b)])).relatedLinks.push(link);}\r\n                            nodeByKey.get(JSON.stringify([a, getUserName(d_a)])).shared = true;\r\n                            nodeByKey.get(JSON.stringify([b, getUserName(d_b)])).shared = true;\r\n                        }else{\r\n                            link.isSameNode = true;\r\n                        }\r\n                        links.push(link);\r\n                        linkByKey.set(key, link);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.props.showOverLimitUser){\r\n                let keepNodes:Record<string, boolean> = {};\r\n                let nodeObj:Record<string, Node> = {};\r\n                nodes.forEach(d=>{nodeObj[d.id] = d;});\r\n                links = links.filter(l=>{\r\n                    if (((l._source.total>l.arr.length*36) || (l._target.total>l.arr.length*36))){\r\n                        keepNodes[nodeObj[l.source].name]=true;\r\n                        keepNodes[nodeObj[l.target].name]=true;\r\n                        return true;\r\n                    }\r\n                    l.hide = true;\r\n                    return false;\r\n                });\r\n                nodes = nodes.filter((n,index)=>{\r\n                    if (keepNodes[n.name])\r\n                        return true;\r\n                    else{\r\n                        delete nodeObj[n.id];\r\n                        // listUser[n.name] = n;\r\n                        return false;\r\n                    }\r\n                });\r\n                links = links.filter(l=>nodeObj[l.source]&& nodeObj[l.target] && nodeObj[nodeObj[l.source].parentNode] && nodeObj[nodeObj[l.target].parentNode] )\r\n            }\r\n            if (this.props.hideStable){\r\n                let removeNodes:Record<string, boolean> = {};\r\n                d3.entries(nodeList).forEach(n=>{\r\n                    let removeList:Record<string, boolean> = {};\r\n                    if (!n.value.find(e=>{if (!e.relatedLinks.length) removeList[e.id] = true; return e.relatedLinks.length}))\r\n                        d3.keys(removeList).forEach(k=>removeNodes[k] =true);\r\n                })\r\n\r\n                nodes = nodes.filter((n,index)=>{\r\n                    if (!removeNodes[n.id])\r\n                        return true;\r\n                    else{\r\n                        // listUser[n.name] = n;\r\n                        return false;\r\n                    }\r\n                });\r\n                // console.log(listUser)\r\n                links = links.filter(l=>!(removeNodes[l.source]||removeNodes[l.target]))\r\n            }\r\n            console.timeEnd('create links');\r\n            return {nodes, links};\r\n        })();\r\n        // TIME ARC\r\n        const nodeObj:Record<string, Node> = {};\r\n        const nodesObj:Record<string, true> = {};\r\n        nodes = graph.nodes.filter(d=>{\r\n            nodeObj[d.id] = d;\r\n            if(d.first){\r\n                nodesObj[d.id]=true;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        nodes.forEach(d=>d.color=this.getColorScale(d))\r\n        const _links = graph.links.filter(l=>!l.isSameNode && nodeObj[l.source]&& nodeObj[l.target]).map(d =>{\r\n            if (nodeObj[d.source].parentNode!==undefined && (!nodesObj[d.source])){\r\n                nodeObj[nodeObj[d.source].parentNode].childNodes.push(d.source);\r\n                nodes.push(nodeObj[d.source]);\r\n                nodesObj[d.source]=true;\r\n            }\r\n            if (nodeObj[d.target].parentNode!==undefined && (!nodesObj[d.target])){\r\n                nodeObj[nodeObj[d.target].parentNode].childNodes.push(d.target);\r\n                nodes.push(nodeObj[d.target]);\r\n                nodesObj[d.target]=true;\r\n            }\r\n            let item = Object.assign({}, d);\r\n            item.source = nodeObj[d.source];\r\n            item.target = nodeObj[d.target];\r\n            return item;\r\n        });\r\n\r\n        this.setState({isForceDone:false});\r\n        // const forceNode = nodes.filter(d=>d.shared);\r\n\r\n        console.time('Force time');\r\n\r\n        // let iterations=0;\r\n//         this.force = d3.forceSimulation<Node>()\r\n//             .force(\"charge\", d3.forceManyBody().strength(-50))\r\n//             .force('x', d3.forceX(this.widthG() / 2).strength(0.015))\r\n//             .force('y',  d3.forceY(this.heightG() / 2).strength(0.015))\r\n//             .nodes( forceNode)\r\n//             .force('link',d3.forceLink<Node,SimulationLinkDatum<Node>>(_links).id(d=>''+d.id).distance(0))\r\n//             .alpha(1)\r\n//             .on('tick', () => {\r\n//                 // iterations++;\r\n//                 forceNode.forEach( (d,i) =>{\r\n//                     if(d.x!==undefined && d.y!==undefined) {\r\n//                         // d.x += ((self.widthG() / 2) - d.x) * 0.05;\r\n//                         if (d.parentNode !== undefined) {\r\n//                             if ((nodeObj[d.parentNode]!== undefined) && (nodeObj[d.parentNode].y !== undefined))\r\n//                                 d.y += ((nodeObj[d.parentNode].y??0) - d.y) * 0.5;\r\n//\r\n//                             if (nodeObj[d.parentNode].childNodes && nodeObj[d.parentNode].childNodes.length) {\r\n//                                 nodeObj[d.parentNode].y = d3.mean(nodeObj[d.parentNode].childNodes,e=>nodeObj[e].y);\r\n//                             }\r\n//                         } else if (d.childNodes && d.childNodes.length) {\r\n//                             var yy = d3.mean(d.childNodes, e => nodeObj[e].y);\r\n//                             if (yy !== undefined)\r\n//                                 d.y += (yy - d.y) * 0.2;\r\n//                         }\r\n//                     }\r\n//                 });\r\n//                 // console.log(iterations)\r\n//                 // console.timeLog('Force time');\r\n//                 // console.log(forceNode.slice().sort((a,b)=>a.y-b.y).map(d=>d.name))\r\n// //                 console.log(d3.select<SVGSVGElement, any>('#timarc'))\r\n// //                 console.log(d3.select<SVGSVGElement, any>('#timarc')\r\n// //                         .selectAll<SVGTextElement, unknown>('text.l')\r\n// //                         .data(forceNode)\r\n// //                         .join('text')\r\n// //                         .attr('fill', 'white')\r\n// //                         .attr('class', 'l').text(d => d.name ?? '').attr('x', d => d.x ?? 0).attr('y', d => d.y ?? 0));\r\n// //                 console.log(_links)\r\n// //                 console.log(forceNode.slice().sort((a,b)=>a.y-b.y).map(d=>d.name).join(' > '))\r\n//\r\n//             })\r\n//             .on(\"end\",  () => {\r\n//                 console.time('forceEnd')\r\n//                 let left = 1;\r\n//                 const nodep: Record<string, number|undefined> = {};\r\n//                 forceNode.forEach(d=>{\r\n//                     if ((d.parentNode !==undefined) && nodeObj[d.parentNode].childNodes && nodeObj[d.parentNode].childNodes.length) {\r\n//                         nodep[d.name] = d3.mean(nodeObj[d.parentNode].childNodes,e=>nodeObj[e].y);\r\n//                     }else if(d.y){\r\n//                         nodep[d.name] = d.y;\r\n//                     }\r\n//                 });\r\n//                 Object.keys(nodep).sort((a,b)=>(nodep[a] as number)- (nodep[b] as number))\r\n//                     .forEach((k,ki)=>nodep[k]= ki*10);\r\n//                 // console.log(forceNode.slice().sort((a,b)=>a.y-b.y).map(d=>d.name))\r\n//                 const miny =0;\r\n//                     graph.nodes.forEach(d=>{\r\n//                     d._forcey =  nodep[d.name];\r\n//                     if((d._forcey === undefined) || _.isNaN(d._forcey) ) {\r\n//                         if (nodep[d.name] === undefined) {\r\n//                             nodep[d.name] = miny - 10 * (left);\r\n//                             d._forcey = nodep[d.name];\r\n//                             left++;\r\n//                         } else {\r\n//                             d._forcey = nodep[d.name];\r\n//                         }\r\n//                     }\r\n//                     d.y = d._forcey;\r\n//                 });\r\n//                 // graph.nodes.forEach(d=>d._forcey = d.y??nodeObj[d.parentNode].y);\r\n//                 self.nodeSort = function(a,b){ return (a._forcey-b._forcey)};\r\n//                 const {nodes,links,linksBySource} = this.renderSankey({graph},0);\r\n//                 // const {nodes,links} = this.renderSankey({graph},1);\r\n//                 console.timeEnd('forceEnd')\r\n//                 console.timeEnd('Force time')\r\n//                 this.setState({nodes,links,linksBySource,graph,isForceDone:true});\r\n//             })\r\n\r\n        const mapIndex:Record<string, number> = {};\r\n        let countmap=0;\r\n        const forceNode = nodes.filter(d=>{\r\n            if (d.shared){\r\n                mapIndex[d.id] = countmap;\r\n                countmap++;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        console.log('forceNode length: ',forceNode.length,' , link length: ',_links.length);\r\n        this.force\r\n            .size([this.widthG(), this.heightG()])\r\n            .nodes(forceNode)\r\n            .links(_links)\r\n            .constraints([{axis:\"x\",offsets:forceNode.map((d,i)=>({node:i,offset:0})),type: \"alignment\"}])\r\n            .jaccardLinkLengths(40, 0.7)\r\n            // .avoidOverlaps(true)\r\n            .start(20,0,10)\r\n            .on('tick', () => {\r\n                // iterations++;\r\n                forceNode.forEach( (d,i) =>{\r\n                    if(d.x!==undefined && d.y!==undefined) {\r\n                        // d.x += ((self.widthG() / 2) - d.x) * 0.05;\r\n                        if (d.parentNode !== undefined) {\r\n                            if ((nodeObj[d.parentNode]!== undefined) && (nodeObj[d.parentNode].y !== undefined))\r\n                                d.y += ((nodeObj[d.parentNode].y??0) - d.y) * 0.5;\r\n\r\n                            if (nodeObj[d.parentNode].childNodes && nodeObj[d.parentNode].childNodes.length) {\r\n                                nodeObj[d.parentNode].y = d3.mean(nodeObj[d.parentNode].childNodes,e=>nodeObj[e].y);\r\n                            }\r\n                        } else if (d.childNodes && d.childNodes.length) {\r\n                            var yy = d3.mean(d.childNodes, e => nodeObj[e].y);\r\n                            if (yy !== undefined)\r\n                                d.y += (yy - d.y) * 0.2;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // console.log(d3.select<SVGSVGElement, any>('#timarc')\r\n                //         .selectAll<SVGTextElement, unknown>('text.l')\r\n                //         .data(forceNode)\r\n                //         .join(  'text')\r\n                //         .attr('fill', 'white')\r\n                //         .attr('class', 'l').text(d => d.name ?? '').attr('x', d => d.x ?? 0).attr('y', d => d.y ?? 0));\r\n                d3.select<SVGSVGElement, any>('#timarc')\r\n                    .selectAll<SVGTextElement, unknown>('path.l')\r\n                    .data(_links)\r\n                    .join(  'path')\r\n                    .attr('class', 'l').attr('d',linkArc).attr('stroke', 'white').attr('fill', 'none');\r\n                function linkArc(d:any) {\r\n                    var dx = d.target.x - d.source.x,\r\n                        dy = d.target.y - d.source.y,\r\n                        dr = Math.sqrt(dx * dx + dy * dy) / 2;\r\n                    if (d.source.y < d.target.y)\r\n                        return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\r\n                    else\r\n                        return \"M\" + d.target.x + \",\" + d.target.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.source.x + \",\" + d.source.y;\r\n                }\r\n            })\r\n            .on('end',()=>{\r\n                console.time('forceEnd')\r\n                let left = 1;\r\n                const nodep: Record<string, number|undefined> = {};\r\n                forceNode.forEach(d=>{\r\n                    if ((d.parentNode !==undefined) && nodeObj[d.parentNode].childNodes && nodeObj[d.parentNode].childNodes.length) {\r\n                        nodep[d.name] = d3.mean(nodeObj[d.parentNode].childNodes,e=>nodeObj[e].y);\r\n                    }else if(d.y){\r\n                        nodep[d.name] = d.y;\r\n                    }\r\n                });\r\n                Object.keys(nodep).sort((a,b)=>(nodep[a] as number)- (nodep[b] as number))\r\n                    .forEach((k,ki)=>nodep[k]= ki*10);\r\n                // console.log(forceNode.slice().sort((a,b)=>a.y-b.y).map(d=>d.name))\r\n                const miny =0;\r\n                    graph.nodes.forEach(d=>{\r\n                    d._forcey =  nodep[d.name];\r\n                    if((d._forcey === undefined) || _.isNaN(d._forcey) ) {\r\n                        if (nodep[d.name] === undefined) {\r\n                            nodep[d.name] = miny - 10 * (left);\r\n                            d._forcey = nodep[d.name];\r\n                            left++;\r\n                        } else {\r\n                            d._forcey = nodep[d.name];\r\n                        }\r\n                    }\r\n                    d.y = d._forcey;\r\n                });\r\n                // graph.nodes.forEach(d=>d._forcey = d.y??nodeObj[d.parentNode].y);\r\n                self.nodeSort = function(a,b){ return (a._forcey-b._forcey)};\r\n                const {nodes,links,linksBySource} = this.renderSankey({graph},0);\r\n                // const {nodes,links} = this.renderSankey({graph},1);\r\n                console.timeEnd('forceEnd')\r\n                console.timeEnd('Force time')\r\n                this.setState({nodes,links,linksBySource,graph,isForceDone:true});\r\n            });\r\n        // this.force.stop();\r\n        // this.force.alpha(1).restart();\r\n        this.setState({times,graph})\r\n    }\r\n    // order () {\r\n    //     let orderedArray = [];\r\n    //     let nextIndex = 0;\r\n    //\r\n    //     for (var i = 0; i < updated_data.length; i++) {\r\n    //         dfs(updated_data[i], orderedArray);\r\n    //     }\r\n    //\r\n    //     // DFS\r\n    //     function dfs(o, array) {\r\n    //         if (o.isDone == undefined) {\r\n    //             array.push(o);\r\n    //             o.isDone = true;\r\n    //             if (o.children != undefined) {\r\n    //                 for (var i = 0; i < o.children.length; i++) {\r\n    //                     dfs(o.children[i], array);\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //\r\n    //     // DFS\r\n    //     function getSuccessors(o, array) {\r\n    //         if (o.children != undefined) {\r\n    //             for (var i = 0; i < o.children.length; i++) {\r\n    //                 array.push(o.children[i]);\r\n    //             }\r\n    //             for (var i = 0; i < o.children.length; i++) {\r\n    //                 getSuccessors(o.children[i], array)\r\n    //             }\r\n    //         }\r\n    //         return array;\r\n    //     }\r\n    // }\r\n    renderSankey(opts:Partial<States> ={},linearScale=0){\r\n        const {x,sankey} = this;\r\n        const nodeSort = this.nodeSort.bind(this);\r\n        const graph = opts.graph??this.state.graph;\r\n        let nodeObj:Record<string|number, Node> = {};\r\n        graph.nodes.forEach((d:Node)=>{nodeObj[d.id] = d;});\r\n        console.time('Sankey cal')\r\n        sankey.nodeId(function(d){return d.id})\r\n            .nodeSort(nodeSort)\r\n            // .linkSort(function(a,b){return ((a.source._forcey+a.target._forcey)-(b.source._forcey+b.target._forcey))})\r\n            .extent([[x.range()[0], 10], [x.range()[1], this.heightG()-10]]);\r\n\r\n        const __nodes = graph.nodes.map((d:Node) => Object.assign({}, d))\r\n        const __links = graph.links.map((d:Link) =>{ const link = Object.assign({}, d);\r\n        link._value= link.value;link.value = d.value + linearScale;return link;})\r\n        const {nodes, links} = sankey({\r\n            nodes: __nodes,\r\n            links: __links\r\n        });\r\n        console.timeEnd('Sankey cal')\r\n        const linksBySource: Partial<LinksBySource>[] = d3.nest().key((d:any)=>d.source.name).entries(links);\r\n        linksBySource.forEach((l:any)=>{\r\n            let pre = l.values[0].source;\r\n            let preL = l.values[0];\r\n            l.drawP = [horizontalSource3(preL)];\r\n            l.draw = [pre];\r\n            l.values.forEach((d:Link)=>{\r\n                if (pre!==d.source){\r\n                    l.draw.push(pre,d.source);\r\n                    l.drawP.push(horizontalTarget3(preL),undefined,horizontalSource3(d));\r\n                }else{\r\n                    l.draw.push(d.source);\r\n                    l.drawP.push(horizontalTarget3(preL),horizontalSource3(d));\r\n                }\r\n                pre = d.target;\r\n                preL = d;\r\n            });\r\n            l.draw.push(pre);\r\n            l.drawP.push(horizontalTarget3(preL));\r\n            l._class = str2class(l.key);\r\n        });\r\n        this.isAnimate = true;\r\n        if (links.length>400)\r\n            this.isAnimate = false;\r\n        links.forEach(l=>{\r\n            if (l.isSameNode){\r\n                let parentNode = l.source;\r\n                if (l.source.parentNode!==undefined){\r\n                    parentNode = nodeObj[l.source.parentNode];\r\n                }\r\n                if (parentNode.drawData.length===0 || parentNode.drawData[parentNode.drawData.length-1][0]!==l.source.time)\r\n                    parentNode.drawData.push([l.source.time,l.value]);\r\n                parentNode.drawData.push([l.target.time,l.value]);\r\n            }\r\n\r\n\r\n            l._class = str2class(l.source.name)\r\n        });\r\n        return {nodes,links,linksBySource:linksBySource as LinksBySource[],graph}\r\n    }\r\n    // onMouseOver(d:Link,event:MouseEvent){\r\n    //     const list:Record<string, boolean> = {};\r\n    //     const highlight = { list, el:d, event };\r\n    //     if( d.source.element.length >1){\r\n    //         highlight.list[d.source.name] = true;\r\n    //         d.source.element.forEach((e:any)=>highlight.list[e.key] = true);\r\n    //     }else\r\n    //         highlight.list[d.source.name] = true;\r\n    //     this.setState({highlight})\r\n    //     this.props.mouseOver(d);\r\n    // }\r\n    onMouseOver(target:LinksBySource,event:MouseEvent){\r\n        // @ts-ignore\r\n        const [x,y] = d3.clientPoint(event.target, event);\r\n        const d = target.values[d3.bisect(target.values.map(e=>e.source.time),this.x.invert(x))];\r\n        const list:Record<string, boolean> = {};\r\n        if (d && (!this.state.highlight || (this.state.highlight && (d!==this.state.highlight.el)))) {\r\n            debugger\r\n            const highlight = {list, el: d, event};\r\n            if( d.source.element.length >1){\r\n                highlight.list[d.source.name] = true;\r\n                d.source.element.forEach((e:any)=>highlight.list[e.key] = true);\r\n            }else\r\n                highlight.list[d.source.name] = true;\r\n            this.setState({highlight})\r\n            this.props.mouseOver(d);\r\n        }\r\n    }\r\n    onRelease(){\r\n        this.setState({highlight:undefined,highlightJob:undefined});\r\n        this.props.mouseLeave();\r\n    }\r\n    onMouseOverJob(d:{name:string,x:number,y:number,user_name:string,time:Date,layer:number,data:JobOBject}){\r\n        const highlightJob = { el:d };\r\n        this.setState({highlightJob});\r\n        this.props.mouseOver(this.state.highlight?.el,d);\r\n    }\r\n    onReleaseJob(){\r\n        this.setState({highlightJob:undefined});\r\n        this.props.mouseOver(this.state.highlight?.el);\r\n    }\r\n    _getColorScale_byName (d:Partial<Node>){\r\n        if (d.isShareUser)\r\n            return this.props.theme.isDark?'#696969':'black';\r\n        else\r\n            return (this._color as ScaleOrdinal<string, string>)(d.name??'')\r\n    }\r\n    getCluster(d:Node){\r\n        const index = d.layer;\r\n        let groups: Record<string, number> = {};\r\n        Object.keys(d.comp).forEach(k=>{\r\n            if(this.props.metrics) {\r\n                const com = this.props.metrics[k];\r\n                if (com && com[index]){\r\n                    const _val = com[index].cluster;\r\n                    if(_val!==undefined) {\r\n                        if(!groups[_val])\r\n                            groups[_val] = 0;\r\n                        groups[_val]++;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        const val = Object.keys(groups).length;\r\n        return val>1?undefined:(val===1?Object.keys(groups)[0]:'outlier');\r\n    }\r\n    getValue(d:Node){\r\n        const index = d.layer;\r\n        const _key = +(this.props.colorBy??'0');\r\n        // const val = d3.mean(Object.keys(d.comp),k=>{\r\n        //     if(this.props.metrics) {\r\n        //         const com = this.props.metrics[k];\r\n        //         if (com && com[index])\r\n        //             return com[index][_key];\r\n        //     }\r\n        //     return undefined\r\n        // });\r\n        // return val;\r\n        let sum = 0;\r\n        let total = 0;\r\n        Object.keys(d.comp).forEach(k=>{\r\n            if(this.props.metrics) {\r\n                const com = this.props.metrics[k];\r\n                if (com && com[index]){\r\n                    const _val = com[index][_key];\r\n                    if(_val!==undefined) {\r\n                        sum += _val*d.comp[k];\r\n                        total += d.comp[k]\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        const val = sum/total;\r\n        return (total)?val:undefined;\r\n    }\r\n    _getColorScale_byCluster(d:Node){\r\n        const val = this.getCluster(d);\r\n        return val?(this.props.colorCluster as Function)(val):'white'\r\n    }\r\n    _getColorScale_byValue (d:Node){\r\n        const val = this.getValue(d);\r\n        return  ''+(this.color as ScaleSequential<string>)(val as number)\r\n    }\r\n    getColorScale = this._getColorScale_byName;\r\n    renderLink(d: LinksBySource){\r\n        const {sankeyComputeSelected}= this.props\r\n        const start  = d.draw[0].x1;\r\n        const endT  = _.last(d.draw);\r\n        const end  = (endT?.x0)??0;\r\n        const scale = d3.scaleLinear().range([0,100]).domain([start,end]);\r\n        const fill = (this.props.colorBy!=='name')?`url(#${d.values[0]._id})`:this.getColorScale(d.draw[0]??{})//this.getColorScale(endT??{});\r\n        const dot: CompSelectNode[] = [];\r\n        if (sankeyComputeSelected && sankeyComputeSelected.nodes[d.key]){\r\n            d.values.forEach(l=>{\r\n                if (sankeyComputeSelected.nodes[d.key][l.target.layer]){\r\n                    sankeyComputeSelected.nodes[d.key][l.target.layer].x =l.target.x0;\r\n                    sankeyComputeSelected.nodes[d.key][l.target.layer].y =l.y1;\r\n                    dot.push(sankeyComputeSelected.nodes[d.key][l.target.layer])\r\n                }\r\n            })\r\n        }\r\n        const color =  this.props.colorCluster?this.props.colorCluster('outlier'):'gray';\r\n        return <>\r\n            {(this.props.colorBy!=='name')?<linearGradient id={d.values[0]._id} gradientUnits={'userSpaceOnUse'} x1={start} x2={end}>\r\n               {d.draw.map(e=><stop key={e.index} offset={`${scale(e.x0)}%`} stopColor={this.getColorScale(e)}/>)}\r\n            </linearGradient>:''}\r\n            <path className={'main'} fill={fill} stroke={fill}\r\n                  strokeWidth={0.1} d={linkPath(d.drawP)??''}/>\r\n            {sankeyComputeSelected?dot.map(d=><circle fill={color} key={d.timestep} r={Math.sqrt(d.value)+2} cx={d.x} cy={d.y} stroke={\"white\"}/>):''}\r\n        </>\r\n    }\r\n    render(){\r\n        const {width,height,theme,timespan,lineaScale} = this.props;\r\n        const {margin,nodes,linksBySource,isForceDone,highlight,highlightJob} = this.state;\r\n        const {x,y} = this;\r\n        const styles = getStyles(this.props.theme);\r\n        y.range([0,this.heightG()]).padding(this.padding);\r\n        x.range([0,this.widthG()]);\r\n        let scale = d3.scaleTime().range(x.range()).domain([timespan[0],timespan[timespan.length-1]]);\r\n        this._color = this.props.colorByName??d3.scaleOrdinal([\"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\", \"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\"]);\r\n        this.color = this.props.color??this._color;\r\n        if(this.props.color){\r\n            switch (this.props.colorBy) {\r\n                case 'name':\r\n                    this.getColorScale = this._getColorScale_byName;\r\n                    break;\r\n                case 'cluster':\r\n                    this.getColorScale = this._getColorScale_byCluster;\r\n                    break;\r\n                default:\r\n                    this.getColorScale = this._getColorScale_byValue;\r\n            }\r\n        }\r\n        const time = highlightJob?.el.time??highlight?.el.source.time;\r\n        area.y0((d:any)=>d[1]+(d[2]+ lineaScale)).y1((d:any)=>d[1]-(d[2]+ lineaScale));\r\n        return  <div style={{width: width + ' px', height: height + ' px', position: 'relative'}}>\r\n            <svg width={width}\r\n                 height={height}\r\n                 viewBox={`0 0 ${width} ${height}`}\r\n                 ref={this.svgRef}\r\n                // style={{backgroundColor:'white'}}\r\n                className={styles.svg}>\r\n                <defs>\r\n                    <clipPath id={'timeClip'}>\r\n                        <rect x={-margin.left} width={margin.left} height={this.heightG()}/>\r\n                    </clipPath>\r\n                </defs>\r\n                <rect className={\"pantarget\"} width={width} height={height} onClick={() => this.freezeHandle()} opacity=\"0\"/>\r\n                {this.state.freezing&&<text fill={this.props.theme.isDark?'white':'black'} transform={`translate(${this.widthG()/2},20)`}>Click anywhere to release</text>}\r\n                {isForceDone?<g className={'content'+(highlight?' onhighlight':'')}>\r\n                    <g className={'background'} opacity={0.2}></g>\r\n                    <g className={'drawArea'}>\r\n                        <g className={'nodes'}>\r\n                            {nodes.filter(d=>d.first).map(d=><g key={d.name} className={'outer_node element'+((highlight&&highlight.list[d.name])?' highlight':'')} transform={`translate(${d.x0},${d.y0})`}>\r\n                                {/*<title></title>*/}\r\n                                <text x={-6} y={(d.y1 + d.y0) / 2-d.y0} dy={\"0.35em\"} textAnchor={'end'} paintOrder={'stroke'}\r\n                                      stroke={this.props.theme.isDark?'black':'white'} strokeWidth={3} fill={d.first?this._getColorScale_byName(d):'none'} fontWeight={d.isShareUser?undefined:'bold'}>{d.first?d.name:''}</text>\r\n                            </g>)}\r\n                        </g>\r\n                        <g className={'links'}>\r\n                            {/*{links.map(d=><NodeElement className={'outer_node element '+d._class+(d.hide?' hide':'')+((highlight&&(highlight.list[d.source.name]||highlight.list[d.target.name]))?' highlight':'')} key={d._id}*/}\r\n                            {/*                 opacity={0.7}  transform={'scale(1,1)'}*/}\r\n                            {/*                           //style={{mixBlendMode:'multiply'}}*/}\r\n                            {/*                           freezing={this.state.freezing} setfreezing={(freezing)=>{this.setState({freezing}); if(!freezing){this.onRelease()}}}*/}\r\n                            {/*                           mouseOver={(e:MouseEvent)=>this.onMouseOver(d,e)} mouseLeave={()=>this.onRelease()}>*/}\r\n                            {/*    {this.getColorScale===this._getColorScale_byName?<linearGradient id={d._id} gradientUnits={'userSpaceOnUse'} x1={d.source.x1} x2={d.target.x0}>*/}\r\n                            {/*        <stop offset={'0%'} stopColor={this.getColorScale(d.source)}/>*/}\r\n                            {/*        <stop offset={'100%'} stopColor={this.getColorScale(d.target)}/>*/}\r\n                            {/*    </linearGradient>:''}*/}\r\n                            {/*    <path className={'main'+(d.arr===undefined?' hide':'')} fill={this.getColorScale===this._getColorScale_byName?`url(#${d._id})`:this.getColorScale(d.target)} stroke={`url(#${d._id})`}*/}\r\n                            {/*        strokeWidth={0.1} d={linkPath(d,this.props.lineaScale)}/>*/}\r\n                            {/*    {highlight&&(highlight.list[d.source.name]||highlight.list[d.target.name])?<g stroke={this.props.theme.isDark?'black':'white'} style={{pointerEvents:this.state.freezing?'all':'none'}}>{renderjob(d,this.props.lineaScale,this.props.maxPerUnit,this.getColorScale.bind(this), this.onMouseOverJob.bind(this), this.onReleaseJob.bind(this),this.getValue.bind(this),highlightJob)}</g>:''}*/}\r\n                            {/*</NodeElement>)}*/}\r\n                            {\r\n                                linksBySource.map(d=><NodeElement className={'outer_node element '+d.values[0]._class+(d.hide?' hide':'')+((highlight&&(highlight.list[d.key]))?' highlight':'')} key={d.key}\r\n                                                                  opacity={0.7}  transform={'scale(1,1)'}\r\n                                    //style={{mixBlendMode:'multiply'}}\r\n                                                                  freezing={this.state.freezing} setfreezing={(freezing)=>{this.setState({freezing}); if(!freezing){this.onRelease()}}}\r\n                                                                  mouseMove={(e:MouseEvent)=>this.onMouseOver(d,e)}\r\n                                                                  mouseLeave={()=>this.onRelease()}>\r\n                                    {this.renderLink(d)}\r\n                                    {highlight&&(highlight.list[d.key])?d.values.map(j=><g key={j._id} stroke={this.props.theme.isDark?'black':'white'} style={{pointerEvents:this.state.freezing?'all':'none'}}>{renderjob(j,this.props.lineaScale,this.props.maxPerUnit,this.getColorScale.bind(this), this.onMouseOverJob.bind(this), this.onReleaseJob.bind(this),this.getValue.bind(this),highlightJob)}</g>):''}\r\n                                </NodeElement>)\r\n                            }\r\n                        </g>\r\n                        {/*{highlight?<g transform={`translate(${highlight.event.nativeEvent.offsetX+5},${highlight.event.nativeEvent.offsetY+5})`} style={{pointerEvents:'none'}}>*/}\r\n                        {(highlight&& (!highlightJob))?<g transform={`translate(${highlight.el.target.x0+5},${highlight.el.y1+5})`}\r\n                                      stroke={'black'}\r\n                                      fill={'white'}\r\n                                      style={{pointerEvents:'none'}}>\r\n                            <text\r\n                                  strokeWidth={1}\r\n                                  paintOrder={'stroke'}>{highlight.el.source.name}</text>\r\n                            {/*<text*/}\r\n                            {/*      strokeWidth={1}*/}\r\n                            {/*      y={14}*/}\r\n                            {/*      paintOrder={'stroke'}>Time: {new Date(highlight.el.source.time).toLocaleString()}</text>*/}\r\n                            {/*<text*/}\r\n                            {/*    strokeWidth={1}*/}\r\n                            {/*    y={28}*/}\r\n                            {/*    paintOrder={'stroke'}>#{this.props.mode==='core'?'Cores':'Nodes'}={+d3.format('.2f')(highlight.el.value)}</text>*/}\r\n                            <text\r\n                                 strokeWidth={1}\r\n                                 y={14}\r\n                                 paintOrder={'stroke'}>#{this.props.mode==='core'?'Cores':'Nodes'}={+d3.format('.2f')(highlight.el.source.value)}</text>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                y={28}\r\n                                // paintOrder={'stroke'}>{this.props.getMetric((this.props.colorBy==='cluster')?this.getCluster(highlight.el.target):highlight.el.value)}</text>\r\n                                paintOrder={'stroke'}>{this.props.getMetric(highlight.el.value)}</text>\r\n                        </g>:''}\r\n                        {highlightJob?<g transform={`translate(${highlightJob.el.x+5},${highlightJob.el.y+5})`}\r\n                                      stroke={'black'}\r\n                                      fill={'white'}\r\n                                      style={{pointerEvents:'none'}}>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                y={-14}\r\n                                paintOrder={'stroke'}>User: {highlightJob.el.user_name}</text>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                paintOrder={'stroke'}>JobId: {highlightJob.el.name}</text>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                y={14}\r\n                                paintOrder={'stroke'}>Compute: {(highlightJob.el.data.node_list.length>5)?(highlightJob.el.data.node_list.slice(0,5).join(', ')+` + ${highlightJob.el.data.node_list.length-5}`):highlightJob.el.data.node_list.join(', ')}</text>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                y={28}\r\n                                paintOrder={'stroke'}>Start: {new Date(highlightJob.el.data.start_time).toLocaleString()}</text>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                y={42}\r\n                                paintOrder={'stroke'}>End {highlightJob.el.data.finish_time?new Date(highlightJob.el.data.finish_time).toLocaleString():'-'}</text>\r\n                            <text\r\n                                strokeWidth={1}\r\n                                y={56}\r\n                                paintOrder={'stroke'}>{this.props.getMetric(highlightJob.el.value)}</text>\r\n                        </g>:''}\r\n                    </g>\r\n                    <g className={'axis'}>\r\n                        <g className={'axisx'} transform={`translate(0,${this.heightG()})`}>\r\n                            {scale.ticks(10).map(d=><g className={'ticks'} transform={`translate(${scale(d) as number},${0})`}>\r\n                                <text dy='1.5rem' textAnchor={'middle'} fill={this.props.theme.isDark?'white':'black'}>{multiFormat(d)}</text>\r\n                                <line y2={5} vectorEffect=\"non-scaling-stroke\" style={{stroke:this.props.theme.isDark?'white':'black',strokeWidth:0.2}}/>\r\n                            </g>)}\r\n                            <line x2={scale.range()[1]} vectorEffect=\"non-scaling-stroke\" style={{stroke:this.props.theme.isDark?'white':'black',strokeWidth:0.5}}/>\r\n                        </g>\r\n                    </g>\r\n                    <g className={'timeHandleHolder'+highlight?'':' hide'} transform={`translate(${scale(time)},0)`}>\r\n                        <line className={'timeStick'} y2={this.heightG()} stroke={theme.colors.text.primary} strokeDasharray={'2 1'}/>\r\n                        <text y={this.heightG()} dy='2.5rem' fill={this.props.theme.isDark?'white':'black'}>{time?new Date(+time).toLocaleString():''}</text>\r\n                    </g>\r\n                </g>\r\n                    :<svg width={width}\r\n                      height={height}\r\n                      viewBox={`0 0 ${width} ${height}`}\r\n                      id={'timarc'}\r\n                      style={{backgroundColor:'white'}}\r\n                />}\r\n                      {/*:<text transform={`translate(${[width/2,height/2]})`} fill={this.props.theme.isDark?'white':'black'}>Calculating position...</text>}*/}\r\n            </svg>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport function getUserName(arr:any[]){\r\n    if (arr && arr.length)\r\n    {\r\n        return arr.map(d=>d.key).join(',');\r\n    }else\r\n        return 'No user';\r\n}\r\n\r\nexport function getUserName2(arr:any[]){\r\n    if (arr && arr.length)\r\n    {\r\n        return arr.join(',');\r\n    }else\r\n        return 'No user';\r\n}\r\n\r\nfunction horizontalSource3(d:any):[number,number,number] {\r\n    return [d.source.x1, d.y0, d.width/2];\r\n}\r\n\r\nfunction horizontalTarget3(d:any):[number,number,number]  {\r\n    return [d.target.x0, d.y1, d.width/2];\r\n}\r\n\r\nfunction horizontalSource(d:any):[number,number] {\r\n    return [d.source.x1, d.y0];\r\n}\r\n\r\nfunction horizontalTarget(d:any):[number,number]  {\r\n    return [d.target.x0, d.y1];\r\n}\r\n\r\n// function linkPath(d:any,lineaScale=0) {\r\n//     const source = horizontalSource(d);\r\n//     const target = horizontalTarget(d);\r\n//     const width = (target[0]-source[0])/2;\r\n//     const thick = d.width/2;\r\n//\r\n//     return renderFargment(source,target,width,thick,lineaScale);\r\n// }\r\n\r\nfunction linkPath(d:any) {\r\n    return area(d);\r\n}\r\n\r\nfunction renderFargment(source:[number,number],target:[number,number],width:number,thick:number,lineaScale = 0){\r\n    thick = thick + lineaScale;\r\n    return `M ${source[0]} ${source[1]-thick} C ${source[0]+width} ${source[1]-thick}, ${target[0]-width} ${target[1]-thick}, ${target[0]} ${target[1]-thick}\r\n            L ${target[0]} ${target[1]+thick} C ${target[0]-width} ${target[1]+thick}, ${source[0]+width} ${source[1]+thick}, ${source[0]} ${source[1]+thick} Z`;\r\n}\r\nfunction renderjob(d:any,lineaScale=0,max:number,getColorScale:Function,onMouseOverJob:Function,onReleaseJob:Function,getValue:Function,highlightJob?:Record<string, any>){\r\n    const source = horizontalSource(d);\r\n    const target = horizontalTarget(d);\r\n    const thick = d.width;\r\n    // const deltaThick = thick/n;\r\n    // const width = (target[0]-source[0]);\r\n    const width = (target[0]-source[0])/2;\r\n    // return <>{d3.range(0,n-1).map((e,ei)=><line x2={width} transform={`translate(${[source[0],source[1]-thick/2+deltaThick*(e+1)]})`}/>)}</>\r\n    const v = d3.sum(Object.values(d.byComp_t));\r\n    const scale = d3.scaleLinear().domain([0,v]).range([0,thick+lineaScale]);\r\n    let offest = -thick/2;\r\n    const _byComp_s:Record<string,number>={};\r\n    const _compS:Record<string, Record<string,number> >={};\r\n    Object.keys(d.sources).forEach(e=>{\r\n        _compS[e] = {};\r\n        d.sources[e].data.node_list.forEach((comp:string)=>{\r\n            if(d.source.comp[comp]){\r\n                _compS[e][comp] = Math.min(max,d.sources[e].data.node_list_obj[comp])\r\n                _byComp_s[comp] = (_byComp_s[comp]??0)+_compS[e][comp];\r\n            }\r\n        });\r\n    });\r\n    Object.keys(d.sources).forEach(e=> {\r\n        const compT:Record<string,number>={};\r\n        const compS= _compS[e];\r\n        let oldpos = Infinity;\r\n        // oldpos = d.sources[e].data.start_Index;\r\n        // let _past = undefined;\r\n        // d.source.relatedLinks.f\r\n        if(d.sources[e].data[d.source.layer-1]){\r\n            // d.sources[e].data.node_list.forEach((comp:string)=>{if(d.source.comp[comp]) compS[comp] = Math.min(max,d.sources[e].data.node_list_obj[comp])});\r\n            oldpos = d3.mean(d.sources[e].data[d.source.layer-1],(d:any)=>d.y) ?? Infinity;\r\n        }\r\n        const isEnd = d.source.layer===d.sources[e].data.finish_Index;\r\n        const value = d3.sum(Object.keys(compS),k=>(compS[k]/_byComp_s[k]) * d.byComp[k]);\r\n        const _thick = scale(value)??0;\r\n        d.sources[e].display = {compS,compT,isEnd,_thick,oldpos,data:d.sources[e].data}\r\n        if (!d.sources[e].data[d.source.layer])\r\n            d.sources[e].data[d.source.layer] = [d.sources[e].display]\r\n    });\r\n\r\n    return <>{Object.keys(d.sources).sort((a,b)=>d.sources[a].display.oldpos-d.sources[b].display.oldpos).map((e,ei)=>{\r\n        const {compS,isEnd,_thick,data}=d.sources[e].display;\r\n        offest += _thick;\r\n        d.sources[e].display.y = target[1]+offest-_thick/2;\r\n        const comp:Record<string,number> = {};\r\n        Object.keys(compS).forEach(c=>comp[c] = d.sources[e].data.node_list_obj[c]);\r\n        const _Data= {...d.source,comp};\r\n        const colorS= getColorScale(_Data);\r\n        const thick = _thick/2;\r\n\r\n        return <g key={d._id+'__'+e} onMouseOver={()=>onMouseOverJob({name:e,user_name:d.source.name,x:source[0],y:d.sources[e].display.y,time:d.source.time,layer:d.source.layer,value:getValue(_Data),data})} onMouseLeave={()=>onReleaseJob()} className={highlightJob?((highlightJob.el.name!==e) ? 'fade': ''):''}>\r\n        {isEnd?<linearGradient id={d._id+'__'+e} gradientUnits={'userSpaceOnUse'} x1={d.source.x1} x2={d.target.x0}>\r\n            <stop offset={'0%'} stopColor={colorS}/>\r\n            <stop offset={'100%'} stopColor={'black'}/>\r\n        </linearGradient>:''}\r\n        <path fill={isEnd?`url(#${d._id+'__'+e})`:colorS}\r\n              strokeWidth={0.1} d={renderFargment([source[0],source[1]+offest-thick],[target[0],d.sources[e].display.y],width,thick)}/>\r\n    </g>})}</>\r\n}\r\nfunction str2class(str:string){\r\n    return 'l'+str.replace(/ |,/g,'_');\r\n}\r\n\r\nconst formatMillisecond = d3.timeFormat(\".%L\"),\r\n    formatSecond = d3.timeFormat(\":%S\"),\r\n    formatMinute = d3.timeFormat(\"%I:%M\"),\r\n    formatHour = d3.timeFormat(\"%I %p\"),\r\n    formatDay = d3.timeFormat(\"%a %d\"),\r\n    formatWeek = d3.timeFormat(\"%b %d\"),\r\n    formatMonth = d3.timeFormat(\"%B\"),\r\n    formatYear = d3.timeFormat(\"%Y\");\r\nfunction multiFormat(date:Date) {\r\n    return (d3.timeSecond(date) < date ? formatMillisecond\r\n        : d3.timeMinute(date) < date ? formatSecond\r\n            : d3.timeHour(date) < date ? formatMinute\r\n                : d3.timeDay(date) < date ? formatHour\r\n                    : d3.timeMonth(date) < date ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\r\n                        : d3.timeYear(date) < date ? formatMonth\r\n                            : formatYear)(date);\r\n}\r\n\r\nconst getStyles = stylesFactory((theme:GrafanaTheme2) => {\r\n\r\n    return {svg:css`\r\n            & .fade \r\n            {opacity: 0.2;}\r\n             & .onhighlight .outer_node:not(.highlight) \r\n                  {opacity: 0.1;}\r\n              & .onhighlight .outer_node.highlight \r\n                  {opacity: 1;\r\n                  & path.main {opacity:0}\r\n                  }\r\n            `}\r\n})\r\n","import React from \"react\";\r\nimport { ScaleOrdinal, Arc } from 'd3';\r\nimport * as d3 from 'd3';\r\nimport {UserOBject} from \"./Ulti\";\r\nimport {GrafanaTheme2} from \"@grafana/data\";\r\nimport {stylesFactory} from \"@grafana/ui\";\r\nimport {css, cx} from \"@emotion/css\";\r\n\r\ninterface Props {\r\n    width: number,\r\n    height: number,\r\n    data: Input[],\r\n    color?: ScaleOrdinal<any,any>,\r\n    maxValue:number,\r\n    refValue?:number,\r\n    highlight?: Record<string, any>,\r\n    theme: GrafanaTheme2,\r\n    onseperate: Function,\r\n    overlay?:{key:string,value:number,parent:string}\r\n}\r\ninterface PieData<T> {\r\n    data: T,\r\n    endAngle: number,\r\n    index: number,\r\n    padAngle: number,\r\n    startAngle: number,\r\n    value: number\r\n    insideData?:{key:string, endAngle: number,\r\n        padAngle: number,\r\n        startAngle: number,}[]\r\n}\r\ninterface Input {key:string,value:UserOBject,text?:string}\r\nlet emptyKey = \"No User\";\r\ninterface States {\r\n    scalezoom?: number,\r\n    margin: { top: number, bottom: number, left: number, right: number },\r\n    dataViz: PieData<Input>[],\r\n    realTotal: number,refTotal: number,virtualTotal: number,\r\n    seperate?:PieData<Input>,\r\n    overlay?:{key:string, endAngle: number,\r\n        padAngle: number,\r\n        color?:any,\r\n        startAngle: number,}[]\r\n}\r\nexport default class PieChart extends React.Component<Props, States> {\r\n    svgRef = React.createRef<SVGSVGElement>();\r\n    widthView() {\r\n        return this.props.width * (this.state.scalezoom ?? 1)\r\n    }\r\n\r\n    heightView() {\r\n        return this.props.height * (this.state.scalezoom ?? 1)\r\n    }\r\n\r\n    widthG() {\r\n        return this.widthView() - (this.state.margin ?? {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0\r\n        }).left - (this.state.margin ?? {top: 0, bottom: 0, left: 0, right: 0}).right\r\n    }\r\n\r\n    heightG() {\r\n        return this.heightView() - (this.state.margin ?? {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0\r\n        }).top - (this.state.margin ?? {top: 0, bottom: 0, left: 0, right: 0}).bottom\r\n    }\r\n    centerX () {\r\n        return this.state.margin.left+this.widthG()/2;\r\n    }\r\n    centerY () {\r\n        return this.state.margin.top+this.heightG()/2;\r\n    }\r\n    handleData(data:Input[]):NonNullable<States>{\r\n        data.sort((a,b)=>b.value.totalCore-a.value.totalCore);\r\n        const realTotal =  d3.sum(data,d=>d.value.totalCore);\r\n        const refTotal =  this.props.refValue??realTotal; // physic core\r\n        const virtualTotal = realTotal-refTotal;\r\n        data.forEach(d=>{\r\n            d.value.value=(d.value.totalCore/realTotal)* refTotal;\r\n            if((d.value.totalCore_share!==undefined) && (d.value.totalCore_notShare!==undefined)){\r\n                const _sum = d.value.totalCore_share+d.value.totalCore_notShare;\r\n                d.value.inside = [(d.value.totalCore_notShare/_sum),(d.value.totalCore_share/_sum)];\r\n            }\r\n        })\r\n        data.push({\r\n            key: emptyKey,\r\n            value:{value: this.props.maxValue - refTotal}\r\n        });\r\n        const dataViz = d3.pie<Input>().sort(null).value(d=>d.value.value)(data);\r\n        dataViz.forEach((seperate )=>{\r\n            if(seperate.data.value.inside){\r\n                const end = (seperate.endAngle-seperate.startAngle)*seperate.data.value.inside[0]+seperate.startAngle;\r\n                (seperate as PieData<Input>).insideData=[{key:seperate.data.text as string,endAngle:end,padAngle:0,startAngle:seperate.startAngle},\r\n                    {key:'_share_',endAngle:seperate.endAngle,padAngle:0,startAngle:end}].filter((d,i)=>seperate.data.value.inside[i]);\r\n            }\r\n        })\r\n        return {dataViz,realTotal,refTotal,virtualTotal} as NonNullable<States>;\r\n    }\r\n    state:States ={\r\n        margin: { top: 0, bottom: 0, left: 50, right: 50    },\r\n        dataViz: [],\r\n        realTotal:0,refTotal:0,virtualTotal:0,\r\n        seperate:undefined\r\n    }\r\n    componentDidMount(): void {\r\n        this.setState(this.handleData(this.props.data.slice()) as NonNullable<States>)\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<States>, snapshot?: any): void {\r\n        let opt: Partial<States> = {}\r\n        if(this.props.data!==prevProps.data || this.props.refValue!==prevProps.refValue ||this.props.maxValue!==prevProps.maxValue)\r\n        {\r\n            opt = {...this.handleData(this.props.data.slice())};\r\n            opt.seperate = undefined;\r\n            this.setState(opt as NonNullable<States>);\r\n            this.updateOverlay(opt);\r\n        }else\r\n        if (this.props.overlay !== prevProps.overlay) {\r\n            this.updateOverlay();\r\n        }\r\n\r\n    }\r\n    updateOverlay(opt:Partial<States> = {}){\r\n        if(this.props.overlay) {\r\n            const dataViz = opt.dataViz??this.state.dataViz;\r\n            if (dataViz.length) {\r\n                const parent = dataViz.find(d => d.data.key === this.props.overlay?.parent);\r\n                if(parent){\r\n                    const ratio = this.props.overlay?.value/(parent.data.value.totalCore_share+parent.data.value.totalCore_notShare);\r\n                    const endAngle = parent.startAngle+(parent.endAngle-parent.startAngle)*ratio;\r\n                    this.setState({overlay:[{key:this.props.overlay?.key, endAngle,\r\n                            padAngle: parent.padAngle,\r\n                            color:'#ddd',\r\n                            startAngle: parent.startAngle,}]} as NonNullable<States>)\r\n                }else{\r\n                    this.setState({overlay:undefined} as NonNullable<States>)\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            this.setState({overlay:undefined} as NonNullable<States>)\r\n        }\r\n    }\r\n    onClick(d:PieData<Input>){\r\n        if(this.state.seperate){ // not seperated\r\n            this.props.onseperate(d.data.key,false);\r\n            this.setState({seperate:undefined})\r\n        }else{// seperated\r\n            this.props.onseperate(d.data.key,true);\r\n            this.setState({seperate:d})\r\n        }\r\n    }\r\n    render(){\r\n        let color = this.props.color??d3.scaleOrdinal([\"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\", \"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\"]);\r\n        const {width,height,maxValue,highlight} = this.props;\r\n        const {dataViz,refTotal,seperate,overlay} = this.state;\r\n        const styles = getStyles(this.props.theme);\r\n        let radius = Math.min(this.widthG(),this.heightG())/2;\r\n        const arc = d3.arc<any>()\r\n            .outerRadius(radius * 0.8)\r\n            .innerRadius(radius * 0.4);\r\n\r\n        const outerArc = d3.arc()\r\n            .innerRadius(radius * 0.9)\r\n            .outerRadius(radius * 0.9);\r\n\r\n        const sumlabel = dataViz[dataViz.length-1];\r\n        const sumValue = (refTotal/maxValue)*100;\r\n        const highlightl = highlight?Object.keys(highlight.node).length:0;\r\n        const colorShare = this.props.theme.isDark?'#696969':'black';\r\n        return <svg width={width}\r\n                    height={height}\r\n                    viewBox={`0 0 ${width} ${height}`}\r\n                    // style={{background:'white'}}\r\n                    ref={this.svgRef}>\r\n            {highlight?.time?<text x={this.centerX()} y={18} textAnchor={'middle'} fill={this.props.theme.isDark?'white':'black'} >{new Date(+highlight.time).toLocaleString()}</text>:''}\r\n                <g className={highlight?cx('content',styles.onHighlight):styles.content} transform={`translate(${this.centerX()},${this.centerY()})`}>\r\n                    <g className={'slices'}>\r\n                                {dataViz.map(d=><g className={'slice'+((highlight && highlight.node[d.data.key])?(' highlight'+(highlightl===1?' clickable':'')):'')+((seperate&&seperate.insideData)?' seperated':'')} key={d.data.key}\r\n                                                   onClick={()=>this.onClick(d)}>\r\n                            <path className={'slice'+(d.data.key===emptyKey?' hide':'')} opacity={0.7} fill={color(d.data.key)} d={arc(d)??''}/>\r\n                            <title>{d.data.key+' #Cores: '+d.value}</title>\r\n                            <text dy={'.35em'} key={d.data.key}\r\n                                  transform={`translate(${getPosText(d,outerArc,radius)})`}\r\n                                  textAnchor={midAngle(d) < Math.PI ? \"start\":\"end\"}\r\n                                // fill={this.props.theme.isDark?'white':'black'}\r\n                                  fill={color(d.data.key)}\r\n                                  className={'textLabel'+((d.data.key===emptyKey)?' hide':(((d.endAngle-d.startAngle)<Math.PI/10)?' hide':'' ))}>\r\n                                {d.data.text}\r\n                            </text>\r\n                            <polyline key={d.data.key}\r\n                                      stroke={this.props.theme.isDark?'white':'black'}\r\n                                      points={''+getPointLine(d,outerArc,arc,radius)}\r\n                                      className={highlight?(highlight.node[d.data.key]?'':'hide'):(((d.data.key===emptyKey)||(d.endAngle-d.startAngle)<Math.PI/10)?' hide':'')}/>\r\n                        </g>)}\r\n                    </g>\r\n                    {(seperate&&seperate.insideData)?<g style={{pointerEvents:'none'}}>{\r\n                        seperate.insideData.map(d=><g fill={(d.key=='_share_')?colorShare:color(d.key)}>\r\n                            <path className={'slice'} opacity={1} d={''+arc(d)}/>\r\n                            <text dy={'.35em'}\r\n                                  transform={`translate(${getPosText(d,outerArc,radius)})`}\r\n                                  textAnchor={midAngle(d) < Math.PI ? \"start\":\"end\"}\r\n                                  className={'textLabel'}>\r\n                                {d.key==='_share_'?'Share':d.key}\r\n                            </text>\r\n                            <polyline\r\n                                fill={'none'}\r\n                              stroke={this.props.theme.isDark?'white':'black'}\r\n                              points={''+getPointLine(d,outerArc,arc,radius)}/>\r\n                        </g>)\r\n                    }</g>:''}\r\n                    {(overlay&&overlay)?<g style={{pointerEvents:'none'}}>{\r\n                        overlay.map(d=><g fill={d.color}>\r\n                            <path className={'slice'} opacity={1} d={''+arc(d)}/>\r\n                            <text dy={'.35em'}\r\n                                  transform={`translate(${getPosText(d,outerArc,radius)})`}\r\n                                  textAnchor={midAngle(d) < Math.PI ? \"start\":\"end\"}\r\n                                  className={'textLabel'}>\r\n                                {d.key}\r\n                            </text>\r\n                            <polyline\r\n                                fill={'none'}\r\n                                stroke={this.props.theme.isDark?'white':'black'}\r\n                                points={''+getPointLine(d,outerArc,arc,radius)}/>\r\n                        </g>)\r\n                    }</g>:''}\r\n                    {/*<g className={'labels'}>*/}\r\n                    {/*    {dataViz.map(d=><text dy={'.35em'} key={d.data.key}*/}\r\n                    {/*                          transform={`translate(${getPosText(d,outerArc,radius)})`}*/}\r\n                    {/*                          textAnchor={midAngle(d) < Math.PI ? \"start\":\"end\"}*/}\r\n                    {/*                          // fill={this.props.theme.isDark?'white':'black'}*/}\r\n                    {/*                          fill={color(d.data.key)}*/}\r\n                    {/*                          className={highlight?(highlight.node[d.data.key]?'':'hide'):(((d.data.key===emptyKey)||(d.endAngle-d.startAngle)<Math.PI/10)?' hide':'')}>*/}\r\n                    {/*        {d.data.text}*/}\r\n                    {/*    </text>)*/}\r\n                    {/*    }*/}\r\n                    {/*</g>*/}\r\n                    {/*<g className={'lines'} opacity={0.5} fill={'none'}>*/}\r\n                    {/*    {dataViz.map(d=><polyline key={d.data.key}*/}\r\n                    {/*                              stroke={this.props.theme.isDark?'white':'black'}*/}\r\n                    {/*                              points={''+getPointLine(d,outerArc,arc,radius)}*/}\r\n                    {/*                              className={highlight?(highlight.node[d.data.key]?'':'hide'):(((d.data.key===emptyKey)||(d.endAngle-d.startAngle)<Math.PI/10)?' hide':'')}/>)}*/}\r\n                    {/*</g>*/}\r\n                    {sumlabel?<><text className={'sumLabels'} textAnchor={'middle'}\r\n                                    fill={this.props.theme.isDark?'white':'black'}\r\n                                    style={{fontWeight:'bold', fontSize:'16px'}}>\r\n                        {/*{d3.format('.2f')(100-((sumlabel.endAngle-sumlabel.startAngle)/Math.PI/2)*100)+'%'}*/}\r\n                        {d3.format('.2f')(sumValue)+'%'}\r\n                    </text>\r\n                    </>:''}\r\n                </g>\r\n            </svg>;\r\n    }\r\n}\r\nconst getStyles = stylesFactory((theme:GrafanaTheme2) => {\r\n\r\n    return {content:css`\r\n        & .slice\r\n        {pointer-events: none}\r\n    `\r\n        ,onHighlight:css`\r\n     & g.slice:not(.highlight)\r\n     {\r\n          pointer-events: none;\r\n          & path.slice\r\n         {opacity: 0.2;}\r\n         & .textLabel\r\n         {display: none;}\r\n         & polyline\r\n         {display: none;}\r\n     }\r\n    & g.slice.highlight\r\n     {\r\n          pointer-events: none;\r\n          &.clickable\r\n          {pointer-events: all;}\r\n          & path.slice\r\n         {opacity: 1;}\r\n         & .textLabel\r\n         {display: block;}\r\n         & polyline\r\n         {display: block;}\r\n         &.seperated\r\n         {\r\n              & path.slice\r\n             {opacity: 0;}\r\n             & .textLabel\r\n             {display: none;}\r\n             & polyline\r\n             {display: none;}\r\n         }\r\n     }\r\n    `}\r\n})\r\nfunction getPosText(d:any,outerArc:Arc<any,any>,radius:number){\r\n    const pos = outerArc.centroid(d);\r\n    // pos[0] = radius * (midAngle(d) < Math.PI ? 1 : -1)\r\n    return pos\r\n}\r\nfunction getPointLine(d:any,arc:Arc<any,any>,outerArc:Arc<any,any>,radius:number){\r\n    const pos = outerArc.centroid(d);\r\n    pos[0] = radius * 0.95 * (midAngle(d) < Math.PI ? 1 : -1);\r\n    return [arc.centroid(d), outerArc.centroid(d)];\r\n    // return [arc.centroid(d), outerArc.centroid(d)];\r\n}\r\nfunction midAngle(d:any){\r\n    return d.startAngle + (d.endAngle - d.startAngle)/2;\r\n}\r\n","import React from \"react\";\r\nimport {getTheme, IconButton, stylesFactory} from \"@grafana/ui\";\r\nimport {GrafanaTheme} from \"@grafana/data\";\r\nimport * as d3 from \"d3\";\r\nimport {css, cx} from \"emotion\";\r\n\r\ninterface Props {\r\n    open?: boolean,\r\n    title?: string\r\n}\r\n\r\ninterface States {\r\n    open: boolean\r\n}\r\n\r\nexport class Drawer extends React.Component<Props  & React.HTMLAttributes<HTMLDivElement>, States>{\r\n    constructor(props:Props) {\r\n        super(props);\r\n        this.state={\r\n            open: !!props.open\r\n        }\r\n    }\r\n    onOpen=()=>{\r\n        const open = !this.state.open;\r\n        this.setState({open})\r\n    }\r\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\r\n        const styles = getStyles(getTheme());\r\n        const {open} = this.state;\r\n        return <div className={cx(this.props.className,styles.wapper)}>\r\n            {\r\n            open?(<>{this.props.title&&<h5>{this.props.title}</h5>}\r\n                <div className={styles.innerHolder} style={{height: this.props.title?'calc(100% - 20px)':'100%'}}>\r\n                {this.props.children}\r\n                </div></>):''\r\n            }\r\n            <IconButton className={styles.drawButton} name={open?'arrow-left':'arrow-right'} size={'xl'} onClick={this.onOpen}/>\r\n        </div>;\r\n    }\r\n}\r\n\r\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\r\n    let wapper_color = d3.color(theme.colors.bg1);\r\n    if(wapper_color)\r\n        wapper_color.opacity = 0.8;\r\n\r\n\r\n    return {\r\n        wapper: css`\r\n        background-color: ${''+wapper_color};\r\n        padding: 10px;\r\n        `,\r\n        innerHolder:css`\r\n        overflow: auto;\r\n       \r\n        margin-right: 12px\r\n        `,\r\n        tableCell:css`\r\n         padding-left: 5px;\r\n         padding-right: 5px;\r\n         `,\r\n        drawButton: css`\r\n        position: absolute;\r\n        top: 50%;\r\n        right: 0;\r\n        // transform: translateX(50%)\r\n        `\r\n    }\r\n})\r\n","import * as d3 from 'd3';\r\nimport {Dimension} from \"./MainViz\";\r\nexport const undefinedValue = -1;\r\nexport interface DataArr extends Array<any> {\r\n    name: string,\r\n    timestep: number,\r\n    cpus?:number\r\n    outlier?:number,\r\n    cluster?:string\r\n    clusterIndex?:number\r\n}\r\n\r\nexport interface CompOBject extends Record<string, any> {\r\n    job_id: string[][],\r\n    key: string,\r\n    user: string[]\r\n}\r\n\r\nexport type TSNEDATA = Record<string, DataArr[]>;\r\n\r\nexport interface schemeData {\r\n    computers: Record<string, CompOBject>,\r\n    emptyMap: Record<string, any[]>,\r\n    jobArr: Record<string, DataArr[]>,\r\n    jobs: Record<string, JobOBject>,\r\n    minMaxData: Record<string, DataArr[]>,\r\n    timespan: Date[],\r\n    tsnedata: TSNEDATA,\r\n    userArr: Record<string, DataArr[]>,\r\n    _userarrdata: Record<string, DataArr[][]>,\r\n    users: Record<string, any | any[]>,\r\n}\r\nexport interface UserOBject extends Record<string, any> {\r\n    _currentjobs?: any[],\r\n    isOpen?: boolean\r\n}\r\nexport interface SummaryArr {\r\n    min:number|undefined|null,\r\n    max:number|undefined|null,\r\n    mean:number|undefined|null,\r\n    num:number,\r\n}\r\nexport interface JobOBject extends Record<string, any> {\r\n    job_id: string,\r\n    user_name: string,\r\n    job_name: string,\r\n    _node_list: any[],\r\n    node_list: any[],\r\n    node_list_obj: Record<string, number>,\r\n    _node_list_obj: Record<string, number>,\r\n    summary?: SummaryArr[]\r\n}\r\nexport interface schemeData {\r\n    computers: Record<string, CompOBject>,\r\n    emptyMap: Record<string, any[]>,\r\n    jobArr: Record<string, DataArr[]>,\r\n    jobs: Record<string, JobOBject>,\r\n    minMaxData: Record<string, DataArr[]>,\r\n    timespan: Date[],\r\n    tsnedata: TSNEDATA,\r\n    userArr: Record<string, DataArr[]>,\r\n    users: Record<string, any | any[]>,\r\n}\r\n\r\nconst formatMillisecond = d3.timeFormat(\".%L\"),\r\n    formatSecond = d3.timeFormat(\":%S\"),\r\n    formatMinute = d3.timeFormat(\"%I:%M\"),\r\n    formatHour = d3.timeFormat(\"%I %p\"),\r\n    formatDay = d3.timeFormat(\"%a %d\"),\r\n    formatWeek = d3.timeFormat(\"%b %d\"),\r\n    formatMonth = d3.timeFormat(\"%B\"),\r\n    formatYear = d3.timeFormat(\"%Y\");\r\n\r\nexport function multiFormat(date:Date) {\r\n    return (d3.timeSecond(date) < date ? formatMillisecond\r\n        : d3.timeMinute(date) < date ? formatSecond\r\n            : d3.timeHour(date) < date ? formatMinute\r\n                : d3.timeDay(date) < date ? formatHour\r\n                    : d3.timeMonth(date) < date ? (d3.timeWeek(date) < date ? formatDay : formatWeek)\r\n                        : d3.timeYear(date) < date ? formatMonth\r\n                            : formatYear)(date);\r\n}\r\nexport interface RadarDataSingle extends Record<string, any>{\r\n    axis: string,\r\n    value: number,\r\n    enable?: boolean,\r\n    angle: number\r\n}\r\nexport interface RadarData extends Record<string, any>{\r\n\r\n}\r\n\r\nexport interface RadarData extends Array<RadarDataSingle> {\r\n    name?: string,\r\n    id?:any\r\n}\r\n\r\nexport function getradarData(dimensions:Dimension[],a:number[], name:string) {\r\n    let temp: RadarData = a.map((d, i) => {\r\n        return {\r\n            axis: dimensions[i].text,\r\n            value: d,\r\n            enable: dimensions[i].enable,\r\n            angle: dimensions[i].angle ?? 0\r\n        };\r\n    });\r\n    temp.sort((a, b) => a.angle - b.angle);\r\n    temp.name = name;\r\n    return temp\r\n}\r\nexport const colorScaleList = {\r\n    n: 7,\r\n    rainbow: [\"#000066\", \"#4400ff\", \"#00ddff\", \"#00ddaa\", \"#00dd00\", \"#aadd00\", \"#ffcc00\", \"#ff8800\", \"#ff0000\", \"#660000\"],\r\n    soil: [\"#2244AA\",\"#4A8FC2\", \"#76A5B1\", \"#9DBCA2\", \"#C3D392\", \"#F8E571\", \"#F2B659\", \"#eb6424\", \"#D63128\", \"#660000\"],\r\n    customschemeCategory: [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#bcbd22\", \"#17becf\"],\r\n    schemeCategory20: ['#1f77b4', '#aec7e8', '#ff7f0e', '#ffbb78', '#2ca02c', '#98df8a', '#d62728', '#ff9896', '#9467bd', '#c5b0d5', '#8c564b', '#c49c94', '#e377c2', '#f7b6d2', '#7f7f7f', '#c7c7c7', '#bcbd22', '#dbdb8d', '#17becf', '#9edae5'],\r\n    customFunc: function(name:string|undefined,arr:any[]|undefined,num:number|undefined){\r\n        const n= num??this.n;\r\n        // @ts-ignore\r\n        const arrColor: any[] = arr??this[name];\r\n        let colorLength = arrColor.length;\r\n        const arrThresholds=d3.range(0,colorLength).map(e=>e/(colorLength-1));\r\n        // @ts-ignore\r\n        let colorTemperature = d3.scaleLinear().domain(arrThresholds).range(arrColor).interpolate(d3.interpolateHcl);\r\n\r\n        return d3.range(0,n).map(e=>colorTemperature(e/(n-1)))\r\n    },\r\n    d3colorChosefunc: function(name:string,num:number|undefined){\r\n        const n = num?? this.n;\r\n        // @ts-ignore\r\n        const scheme = d3[`scheme${name}`];\r\n        let colors = [];\r\n        if (scheme) {\r\n            if (typeof (scheme[0]) !== 'string') {\r\n                colors = (scheme[n]||scheme[scheme.length-1]).slice();\r\n            }\r\n            else\r\n                colors=  scheme.slice();\r\n        } else {\r\n            // @ts-ignore\r\n            const interpolate = d3[`interpolate${name}`];\r\n            colors = [];\r\n            for (let i = 0; i < n; ++i) {\r\n                colors.push(d3.rgb(interpolate(i / (n - 1))).hex());\r\n            }\r\n        }\r\n        colors = this.customFunc(undefined,colors,n);\r\n        return colors;\r\n    },\r\n},colorArr = {Radar: [\r\n        {val: 'rainbow',type:'custom',label: 'Rainbow'},\r\n        {val: 'RdBu',type:'d3',label: 'Blue2Red',invert:true},\r\n        {val: 'soil',type:'custom',label: 'RedYelBlu'},\r\n        {val: 'Viridis',type:'d3',label: 'Viridis'},\r\n        {val: 'Greys',type:'d3',label: 'Greys'}],\r\n    Cluster: [{val: 'Category10',type:'d3',label: 'D3'},{val: 'Paired',type:'d3',label: 'Blue2Red'}]} ;\r\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import React from \"react\";\r\nimport * as chromatic from 'd3-scale-chromatic';\r\nimport * as d3 from 'd3';\r\n\r\ntype colorChoice = 'RdYlBu'|'RdYlGn'|'Spectral'|'Turbo'|'Cool'|'Warm'|'Plasma'|'Viridis'|'Inferno'|'Greys'\r\nexport const invertType={\r\n    'RdYlBu':true,\r\n    'RdYlGn':true,\r\n    'Spectral':true,\r\n    'Greys':true\r\n}\r\n\r\ninterface proprs extends React.SVGAttributes<SVGGElement>{\r\n    // colorType: Function,\r\n    value:colorChoice,\r\n    direction?:'vertical'|'horizontal',\r\n    invert?: boolean\r\n    domain?: number[],\r\n}\r\nexport const Legend: React.FC<proprs> = (props) => {\r\n    // return <>{value.map((c,i)=><div style={{display:'inline-block'}}><ColorPicker key={i} color={c} onChange={(val) => {value[i]=val; onChange(value)}} /></div>)}</>;\r\n    const stringCh = `interpolate${props.value}`;\r\n\r\n    const width = props.width??400;\r\n    const height = props.height??10;\r\n    const direction = props.direction??'vertical';\r\n    const domain = props.domain??[0,1];\r\n    // @ts-ignore\r\n    const colorType:Function = chromatic[stringCh];\r\n\r\n    function ramp_verti(color:Function, n = 256) {\r\n        const canvas = createContext(1, n);\r\n        const context = canvas.getContext(\"2d\");\r\n        // @ts-ignore\r\n        const invert = props.invert??invertType[stringCh];\r\n        const scale = d3.scaleLinear().domain([0,n]).range(domain);\r\n        if(context){\r\n            for (let i = 0; i < n; ++i) {\r\n                // if(invert)\r\n                //     context.fillStyle = color((n-i-1) / (n - 1));\r\n                // else\r\n                //     context.fillStyle = color(i / (n - 1));\r\n                context.fillStyle = color(scale(i));\r\n                context.fillRect(0, i, 1, 1);\r\n            }\r\n        }\r\n        return canvas;\r\n    }\r\n    function ramp_hori(color:Function, n = 256) {\r\n        const canvas = createContext(n, 1);\r\n        const context = canvas.getContext(\"2d\");\r\n        // @ts-ignore\r\n        const invert = props.invert??invertType[stringCh];\r\n        if(context){\r\n            for (let i = 0; i < n; ++i) {\r\n                if(invert)\r\n                    context.fillStyle = color((n-i-1) / (n - 1));\r\n                else\r\n                    context.fillStyle = color(i / (n - 1));\r\n                context.fillRect(i, 0, 1, 1);\r\n            }\r\n        }\r\n        return canvas;\r\n    }\r\n    const ramp = direction==='vertical'?ramp_verti:ramp_hori;\r\n    function createContext(width:number, height:number) {\r\n        var canvas = document.createElement('canvas');\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        return canvas;\r\n    }\r\n\r\n    // return <svg viewBox={`0 0 ${width} ${height}`}>\r\n    return    <image preserveAspectRatio={'none'} href={ramp(colorType).toDataURL()} width={width} height={height}/>\r\n    // </svg>\r\n};\r\n","import {GrafanaTheme2} from \"@grafana/data\";\r\nimport React from \"react\";\r\nimport {stylesFactory} from \"@grafana/ui\";\r\nimport {css} from \"@emotion/css\";\r\nimport * as d3 from \"d3\";\r\nimport { multiFormat } from 'Ulti';\r\nimport {ScaleOrdinal} from \"d3\";\r\nimport {Legend} from \"./legend\";\r\n\r\ninterface Props {\r\n    width: number,\r\n    height: number,\r\n    color?: ScaleOrdinal<any,any>,\r\n    data: LineInput[],\r\n    theme: GrafanaTheme2,\r\n    mark?:Date,\r\n    xRange?:[number|Date,number|Date],\r\n    yRange?:[number,number]\r\n}\r\nexport interface LineInput {\r\n    key: string,\r\n    value: [number|Date,number|undefined][],\r\n    color?:string\r\n}\r\ninterface States {\r\n    zoomTransform: {x:number,y:number,k:number,rescaleX:Function,rescaleY:Function},\r\n    margin: { top: number, bottom: number, left: number, right: number },\r\n    data: LineInput[],\r\n}\r\n\r\nexport default class LineChart extends React.Component<Props, States> {\r\n    svgRef = React.createRef<SVGSVGElement>();\r\n    widthView() {\r\n        return this.props.width\r\n    }\r\n\r\n    heightView() {\r\n        return this.props.height\r\n    }\r\n\r\n    widthG() {\r\n        return this.widthView() - (this.state.margin ?? {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0\r\n        }).left - (this.state.margin ?? {top: 0, bottom: 0, left: 0, right: 0}).right\r\n    }\r\n\r\n    heightG() {\r\n        return this.heightView() - (this.state.margin ?? {\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0\r\n        }).top - (this.state.margin ?? {top: 0, bottom: 0, left: 0, right: 0}).bottom\r\n    }\r\n    svg = d3.select<SVGSVGElement|null,unknown>(null)\r\n    g = d3.select<SVGGElement|null,unknown>(null)\r\n    zoom = d3.zoom<SVGRectElement, unknown>()\r\n        .scaleExtent([-5, 5])\r\n        .on(\"zoom\", this.zoomed.bind(this));\r\n    zoomed() {\r\n        this.setState({\r\n            zoomTransform: d3.event.transform,\r\n            // fontSize: this.state.opts.fontSize/event.transform.k\r\n        });\r\n    }\r\n    y = d3.scaleLinear()\r\n    x = d3.scaleTime();\r\n    LineFunc =  d3.line<[Date|number,number|undefined]>()\r\n        // .interpolate(\"linear-closed\")\r\n    .curve(d3.curveMonotoneX)\r\n    .x((d) => {\r\n        return this.x(d[0]) as number;\r\n    })\r\n    .y((d) => {\r\n        return this.y(d[1] as number) as number;\r\n    }).defined((d)=>{\r\n        return (d && d && (d[1] !== undefined));\r\n        })\r\n\r\n    constructor(props:Props) {\r\n        super(props);\r\n        this.state ={\r\n            zoomTransform: {x:0,y:0,k:1,rescaleX:(d:any)=>d,rescaleY:(d:any)=>d},\r\n            margin: { top: 10, bottom: 40, left: 40, right: 10 },\r\n            data: [],\r\n        }\r\n    }\r\n    componentDidMount(): void {\r\n        // const {margin} = this.state;\r\n        this.svg = d3.select<SVGSVGElement|null,unknown>(this.svgRef.current);\r\n        this.svg.select<SVGRectElement>('rect.pantarget').call(this.zoom.bind(this))//.call(this.zoom.transform, d3.zoomIdentity.translate(margin.left, margin.top));;\r\n        if(this.props.xRange){\r\n            this.x.domain(this.props.xRange);\r\n        }else {\r\n            const xRange = [d3.min(this.props.data, d => d3.min(d.value, e => e ? e[0] : undefined)) as Date, d3.max(this.props.data, d => d3.max(d.value, e => e ? e[0] : undefined)) as Date];\r\n            if ((xRange[0] !== undefined) && (xRange[1] !== undefined))\r\n                this.x.domain(xRange);\r\n        }\r\n        if(this.props.yRange){\r\n            this.y.domain(this.props.yRange);\r\n        }else{\r\n            const yRange = [d3.min(this.props.data,d=>d3.min(d.value,e=>e?e[1]:undefined)) as number,d3.max(this.props.data,d=>d3.max(d.value,e=>e?e[1]:undefined)) as number];\r\n            if(yRange[0]!==undefined && yRange[1]!==undefined)\r\n                this.y.domain(yRange);\r\n        }\r\n        this.setState({data:this.props.data})\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<States>, snapshot?: any): void {\r\n        if(this.props.data!==prevProps.data){\r\n            if(this.props.xRange){\r\n                this.x.domain(this.props.xRange);\r\n            }else {\r\n                const xRange = [d3.min(this.props.data, d => d3.min(d.value, e => e ? e[0] : undefined)) as Date, d3.max(this.props.data, d => d3.max(d.value, e => e ? e[0] : undefined)) as Date];\r\n                if ((xRange[0] !== undefined) && (xRange[1] !== undefined))\r\n                    this.x.domain(xRange);\r\n            }\r\n            if(this.props.yRange){\r\n                this.y.domain(this.props.yRange);\r\n            }else{\r\n                const yRange = [d3.min(this.props.data,d=>d3.min(d.value,e=>e?e[1]:undefined)) as number,d3.max(this.props.data,d=>d3.max(d.value,e=>e?e[1]:undefined)) as number];\r\n                if(yRange[0]!==undefined && yRange[1]!==undefined)\r\n                    this.y.domain(yRange);\r\n            }\r\n            this.setState({data:this.props.data})\r\n        }\r\n    }\r\n\r\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\r\n        const styles = getStyles(this.props.theme);\r\n        const {width,height,mark} = this.props;\r\n        let color = this.props.color??d3.scaleOrdinal([\"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\", \"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\"]);\r\n        this.x.range([0,this.widthG()]);\r\n        this.y.range([this.heightG(),0]);\r\n        if(this.props.xRange)\r\n            this.x.domain(this.props.xRange);\r\n        if(this.props.yRange)\r\n            this.y.domain(this.props.yRange)\r\n        const xScale = this.state.zoomTransform.rescaleX(this.x);\r\n        const yScale = this.state.zoomTransform.rescaleY(this.y);\r\n        const _width = this.widthG();\r\n        const shareColor = this.props.theme.isDark?'#696969':'black';\r\n        return  <div style={{width: width + ' px', height: height + ' px', position: 'relative'}}>\r\n            <svg width={width}\r\n                 height={height}\r\n                 viewBox={`0 0 ${width} ${height}`}\r\n                 ref={this.svgRef}\r\n                // style={{backgroundColor:'white'}}\r\n                 className={styles.svg}>\r\n                <rect className={\"pantarget\"} width={width} height={height} opacity=\"0\"/>\r\n                <g className={'content'} transform={`translate(${[this.state.margin.left+this.state.zoomTransform.x, this.state.margin.top+this.state.zoomTransform.y]})  scale(${this.state.zoomTransform.k})`}>\r\n                    {this.props.data.map(d=><g className={\"Line\"} key={d.key}\r\n                       fill={\"none\"} strokeOpacity={1} strokeWidth={2}>\r\n                        <path d={''+this.LineFunc(d.value)}\r\n                              stroke={d.key!=='_share_'?(d.color??color(d.key)):shareColor}/>\r\n                    </g>)}\r\n                </g>\r\n                <g className={\"axis\"} transform={`translate(${[this.state.margin.left, this.state.margin.top]})`}>\r\n                    <g className={\"xaxis\"} transform={`translate(${[0, this.heightG()]})`}>\r\n                        <line x2={_width} stroke={this.props.theme.isDark?'white':'black'}/>\r\n                        {xScale.ticks(_width>400?10:5).map((t:any)=><g className={\"ticks\"}>\r\n                            <line transform={`translate(${[xScale(t),0]})`} y2={5} stroke={this.props.theme.isDark?'white':'black'}/>\r\n                            <text x={xScale(t)} textAnchor={\"middle\"} y={5} dy={'1rem'} >{multiFormat(t)}</text>\r\n                        </g>)}\r\n                        <text y={5} dy={'2.5rem'} x={this.widthG()/2} textAnchor={\"middle\"} style={{fontWeight:'bold'}}>Time</text>\r\n                    </g>\r\n                    <g className={\"yaxis\"} transform={`translate(${[-8,0]})`}>\r\n                        <g ><Legend width={8} height={this.heightG()} value={'Greys'} domain={[0,0.8]}/></g>\r\n                        <line x1={8} x2={8} y2={this.heightG()} stroke={this.props.theme.isDark?'white':'black'}/>\r\n                        {yScale.ticks(5).map((t:any)=><g className={\"ticks\"}>\r\n                            <line transform={`translate(${[0,yScale(t)]})`} x2={-5} stroke={this.props.theme.isDark?'white':'black'}/>\r\n                            <text y={yScale(t)} textAnchor={\"end\"} x={-7} dy={6} >{t}</text>\r\n                        </g>)}\r\n                    </g>\r\n                    {mark? <line transform={`translate(${xScale(mark)},0)`} y2={this.heightG()} strokeDasharray={'2 1'} stroke={this.props.theme.isDark?'white':'black'}/>:''}\r\n                </g>\r\n            </svg>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst getStyles = stylesFactory((theme:GrafanaTheme2) => {\r\n\r\n    return {svg:css`\r\n            & text\r\n            {fill: ${theme.isDark?'white':'black'}}\r\n            & .fade \r\n            {opacity: 0.2;}\r\n            & .onhighlight .outer_node:not(.highlight) \r\n                  {opacity: 0.1;}\r\n            & .onhighlight .outer_node.highlight \r\n                  {opacity: 1;}\r\n            `}\r\n})\r\n","import binarybin from \"../dirjs/binarybin.min\"\r\n// import binnerN from \"./binnerN.min\"\r\nimport binnerN from \"../dirjs/binnerN.min\";\r\nimport kmeanCluster from \"../dirjs/kmean\";\r\n// @ts-ignore\r\n// const silhouetteScore = require ('./silhouette');\r\nimport * as d3 from \"d3\"\r\nimport {colorScaleList, DataArr, RadarData, undefinedValue} from \"../Ulti\";\r\nimport {Dimension} from \"../MainViz\";\r\n// import _ from \"lodash\"\r\n\r\n\r\nfunction distanceL2(a:any[], b:any[]){\r\n    let dsum = 0;\r\n    a.forEach((d,i)=> {dsum +=(d-b[i])*(d-b[i])});\r\n    return Math.round(Math.sqrt(dsum)*Math.pow(10, 10))/Math.pow(10, 10);\r\n}\r\nfunction distanceL1(a:any[], b:any[]) {\r\n    let dsum = 0;\r\n    a.forEach((d,i)=> {dsum +=Math.abs(d-b[i])}); //modified\r\n    return Math.round(dsum*Math.pow(10, 10))/Math.pow(10, 10);\r\n}\r\n\r\n// export function makeCancelable(promise:Promise) {\r\n//     let isCanceled = false;\r\n//     const wrappedPromise =\r\n//         new Promise((resolve, reject) => {\r\n//             // Suppress resolution and rejection if canceled\r\n//             promise\r\n//                 .then((val:any) => (!isCanceled && resolve(val)))\r\n//                 .catch((error:any) => (!isCanceled && reject(error)));\r\n//         });\r\n//     return {\r\n//         promise: wrappedPromise,\r\n//         cancel() {\r\n//             isCanceled = true;\r\n//         },\r\n//     };\r\n// }\r\n\r\nexport type ClusterMethod ='leaderbin'|'binarybin'|'kmean';\r\nexport interface Bin extends Record<string, any>{\r\n    k?: number,\r\n    iterations?: number,\r\n}\r\nexport interface Binopt {\r\n    clusterMethod?: ClusterMethod,\r\n    bin: Bin,\r\n    normMethod?:'l1'|'l2'\r\n}\r\n\r\n// export interface ClusterItem extends Record<string, any>{\r\n//     axis: string,\r\n//     value: number,\r\n//     minval: number,\r\n//     maxval: number,\r\n// }\r\nexport interface Metric extends RadarData {\r\n    normalize: number[]\r\n}\r\nexport  interface Cluster extends Record<string,any>{\r\n    labels: string|number\r\n    radius: number\r\n    mse: number\r\n    index: number\r\n    __metrics: Metric\r\n    arr: DataArr[]\r\n    total: number\r\n}\r\n\r\nexport function calculateCluster (data: DataArr[],dimensions:Dimension[],binopt:Binopt,calbackMiddle:Function,calbackEnd:Function) {\r\n    const startTime = performance.now();\r\n    let bin:any;\r\n\r\n    let distance = binopt.normMethod === 'l1' ? distanceL1 : distanceL2;\r\n    let _data = data.filter(d => !d.outlier);\r\n    let dataSpider3 = _data;\r\n\r\n    const adjust = dataSpider3.map((d, i) => {\r\n        var dd = d.map(d => d ?? undefinedValue);\r\n        // @ts-ignore\r\n        dd.data = {name: d.name, id: i, timestep: d.timestep};\r\n        // @ts-ignore\r\n        dd.name = d.name;\r\n        // @ts-ignore\r\n        dd.timestep = d.timestep;\r\n        return dd;\r\n    });\r\n    let cluster:Cluster[] = [];\r\n    if (dataSpider3.length) {\r\n        switch (binopt.clusterMethod) {\r\n            case 'leaderbin':\r\n                let estimateSize = Math.max(2, Math.pow(binopt.bin.range[1], 1 / dataSpider3[0].length));\r\n                binnerN\r\n                // @ts-ignore\r\n                bin = self.binnerN().startBinGridSize(estimateSize).isNormalized(true).minNumOfBins(binopt.bin.range[0]).maxNumOfBins(binopt.bin.range[1]).distanceMethod(binopt.normMethod).coefficient({\r\n                    reduce_coefficient: 0.3,\r\n                    reduce_offset: 0,\r\n                    increase_coefficient: 2,\r\n                    increase_offset: 0\r\n                }).data([]);\r\n                break;\r\n            case 'binarybin':\r\n                // @ts-ignore\r\n                bin = binarybin([], {isNormalized: true});\r\n                break;\r\n            default:\r\n                kmeanCluster\r\n                // @ts-ignore\r\n                bin = self.kmeanCluster.k(binopt.bin.k).distanceMethod(binopt.normMethod).iterations(binopt.bin.iterations);\r\n                break;\r\n        }\r\n        let process = 50;\r\n        let w = 25;\r\n        bin.callback(function (iteration: number) {\r\n            process = process + w;\r\n            w = w / 2;\r\n            calbackMiddle({iteration, process});\r\n        });\r\n\r\n        bin.data(adjust)\r\n            .calculate();\r\n        const binRadius = bin.binRadius;\r\n        let keys = dimensions.map(d => d.text);\r\n        cluster = bin.bins.map((d: any, i: number) => {\r\n            var temp;\r\n            if (bin.normalizedFun)\r\n                temp = bin.normalizedFun.scaleBackPoint(d.val).map((e: number, i: number) => {\r\n                    return {\r\n                        axis: keys[i],\r\n                        value: (e<0)?undefined:e,\r\n                        enable: dimensions[i].enable,\r\n                        angle: dimensions[i].angle ?? 0,\r\n                        minval: 0,\r\n                        maxval: 0,\r\n                        mean: 0,\r\n                    }\r\n                });\r\n            else\r\n                temp = d.val.map((e: number, i: number) => {\r\n                    return {\r\n                        axis: keys[i], value: e,\r\n                        minval: 0,\r\n                        maxval: 0,\r\n                        mean: 0,\r\n                        enable: dimensions[i].enable,\r\n                        angle: dimensions[i].angle ?? 0,\r\n                    }\r\n                });\r\n\r\n            temp.bin = {\r\n                name: d.map((f: any) => f.data.name),\r\n                id: d.map((f: any) => f.data.id),\r\n                nameob: d.map((f: any) => {\r\n                    return {name: f.data.name, timestep: f.data.indexSamp}\r\n                }),\r\n                scaledval: d,\r\n                distancefunc: (e: number[][]) => d3.max(e.map(function (p) {\r\n                    return distance(e[0], p)\r\n                })),\r\n                distance: 0,\r\n            };\r\n            // @ts-ignore\r\n            if (bin.normalizedFun)\r\n                temp.bin.val = bin.normalizedFun.scaleBackPoints(d);\r\n            else\r\n                temp.bin.val = d.slice();\r\n\r\n\r\n            let temp2: Cluster = {\r\n                labels: i,\r\n                radius: binRadius || temp.bin.distance,\r\n                mse: temp.bin.mse,\r\n                index: i,\r\n                __metrics: temp,\r\n                arr: [],\r\n                total: temp.bin.id.length\r\n            };\r\n\r\n            temp.forEach((s: any, i: number) => temp2[dimensions[i].text] = (s.value < 0) ? undefined : dimensions[i].scale.invert(s.value));\r\n            temp2.index = i;\r\n            temp2.__metrics = temp.slice();\r\n            temp2.__metrics.normalize = temp2.__metrics.map((e, i) => e.value);\r\n            return temp2;\r\n        });\r\n    }else{\r\n\r\n    }\r\n    let clusterDescription = recomendName(cluster);\r\n    let colorCluster = recomendColor (cluster);\r\n    adjust.forEach((d: any,i)=>{\r\n        getCluster(_data[i],d,cluster,distance);\r\n    });\r\n\r\n    let totalMSE = 0;\r\n    cluster.forEach((c:Cluster)=>{\r\n        c.__metrics.forEach((d,i)=>{\r\n            d.minval = d3.min(c.arr,(e:any)=> e[i] as number) as number;\r\n            d.maxval = d3.max(c.arr,(e:any)=> e[i] as number) as number;\r\n            d.mean = d3.mean(c.arr,(e:any)=> e[i])??0;\r\n        });\r\n        c.mse = d3.sum(c.__metrics.map(e => (e.maxval - e.minval) * (e.maxval - e.minval)).filter(d=>d!==undefined))??0;\r\n        totalMSE+=c.mse;\r\n    });\r\n    // silhouetteScore\r\n    debugger\r\n    totalMSE= totalMSE/cluster.length;//silhouetteScore(_data,adjust.map((d:any)=>d.cluster))//totalMSE/cluster.length;\r\n    const endTime = performance.now();\r\n    return {cluster,clusterDescription,colorCluster, clusterInfo:{clusterCalTime:endTime-startTime, totalMSE, input:_data.length, total: data.length}}\r\n}\r\nfunction recomendName (clusterarr:Cluster[],haveDescription?:boolean){\r\n    let clusterDescription: Record<string, any> = {};\r\n    clusterarr.forEach((c,i)=>{\r\n        c.index = i;\r\n        c.axis = [];\r\n        c.labels = ''+i;\r\n        c.name = `group_${i+1}`;\r\n        let zero_el = c.__metrics.filter(f=>!f.value);\r\n        let name='';\r\n        if (zero_el.length && zero_el.length<c.__metrics.normalize.length){\r\n            c.axis = zero_el.map(z=>{return{id:z.axis,description:'undefined'}});\r\n            name += `${zero_el.length} metric(s) undefined `;\r\n        }else if(zero_el.length===c.__metrics.normalize.length){\r\n            c.text = `undefined`;\r\n            if(!clusterDescription[c.name])\r\n                clusterDescription[c.name] = {};\r\n            clusterDescription[c.name].id = c.name;\r\n            clusterDescription[c.name].text = c.text;\r\n            return;\r\n        }\r\n        name += c.__metrics.filter(f=>f.value>0.75).map(f=>{\r\n            c.axis.push({id:f.axis,description:'high'});\r\n            return 'High '+f.axis;\r\n        }).join(', ');\r\n        name = name.trim();\r\n        if (name==='')\r\n            c.text = ``;\r\n        else\r\n            c.text = `${name}`;\r\n        if(!haveDescription || !clusterDescription[c.name]){\r\n            if(!clusterDescription[c.name])\r\n                clusterDescription[c.name] = {};\r\n            clusterDescription[c.name].id = c.name;\r\n            clusterDescription[c.name].text = c.text;\r\n        }\r\n    });\r\n    return clusterDescription;\r\n}\r\nfunction recomendColor (clusterarr:Cluster[]) {\r\n    let colorCa = colorScaleList['customschemeCategory'].slice();\r\n    if (clusterarr.length>9 && clusterarr.length<21)\r\n        colorCa = colorScaleList.schemeCategory20;\r\n    else if (clusterarr.length>20)\r\n        colorCa = colorScaleList.schemeCategory20;\r\n    // colorCa = clusterarr.map((d,i)=>d3.interpolateTurbo(i/(clusterarr.length-1)));\r\n    let colorcs = d3.scaleOrdinal<string>().range(colorCa);\r\n    let colorarray: string[] = [];\r\n    let orderarray: string[] = [];\r\n    // clusterarr.filter(c=>!c.text.match('undefined'))\r\n    clusterarr.filter(c=>c.text!=='undefined')\r\n        .forEach(c=>{\r\n            colorarray.push(colorcs(c.name));\r\n            orderarray.push(c.name);\r\n        });\r\n    clusterarr.filter(c=>c.text==='undefined').forEach(c=>{\r\n        colorarray.push('gray');\r\n        orderarray.push(c.name);\r\n    });\r\n    colorarray.push('gray');\r\n    orderarray.push('outlier');\r\n    colorarray.push('black');\r\n    orderarray.push('missing');\r\n    let colorCluster  = d3.scaleOrdinal().range(colorarray).domain(orderarray);\r\n    return colorCluster\r\n}\r\nlet getCluster = getMathCluster;\r\nfunction getMathCluster(oardinal:DataArr,axis_arr:DataArr|undefined,cluster_info:Cluster[],distance:Function){\r\n    // calculate cluster here\r\n    if (!oardinal.outlier) {\r\n        if ((oardinal.name==='cpu-23-43') && (oardinal.timestep===50))\r\n            debugger\r\n        axis_arr = axis_arr ? axis_arr : oardinal;\r\n        let index = 0;\r\n        let minval = Infinity;\r\n        cluster_info.find((c, ci) => {\r\n            const val = distance(c.__metrics.normalize, axis_arr);\r\n            if (val === 0 && c.leadername === undefined) {\r\n                // @ts-ignore\r\n                c.leadername = {name: axis_arr.name, timestep: axis_arr.timestep};\r\n            }\r\n            if (minval > val) {\r\n                index = ci;\r\n                minval = val;\r\n            }\r\n            return !val;\r\n        });\r\n        // @ts-ignore\r\n        cluster_info[index].arr.push(oardinal);\r\n        // axis_arr.metrics.Radar = cluster_info[index].name;\r\n        oardinal.cluster = cluster_info[index].name;\r\n        oardinal.clusterIndex = index;\r\n        return cluster_info[index]\r\n    }else{\r\n        oardinal.cluster = 'missing';\r\n        return undefined;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {Tab, TabsBar, TabContent, Input, InlineField, Select,Button} from '@grafana/ui';\r\n\r\ninterface Props {\r\n    onSubmit: Function\r\n}\r\n\r\ninterface States extends Record<string, any>{\r\n    selectedIndex: number\r\n    distance: string\r\n    lb_min:number\r\n    lb_max:number\r\n    k_g:number\r\n    k_i:number\r\n}\r\nconst tabs = [{label:'Leader Bin',index:0},{label:'K-mean',index:1}]\r\nexport class ClusterControl extends React.Component<Props, States> {\r\n    constructor(props:Props) {\r\n        super(props);\r\n        this.state={\r\n            selectedIndex:0,\r\n            distance: 'l1',\r\n            lb_min:9,\r\n            lb_max:10,\r\n            k_g:8,\r\n            k_i:10\r\n        }\r\n    }\r\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\r\n        const {selectedIndex,lb_min,lb_max,k_g,k_i,distance} = this.state;\r\n        return <div>\r\n                    <TabsBar>\r\n                        {tabs.map((tab) => {\r\n                            return (\r\n                                <Tab\r\n                                    css\r\n                                    key={tab.index}\r\n                                    label={tab.label}\r\n                                    active={tab.index===selectedIndex}\r\n                                    onChangeTab={() => this.setState({selectedIndex:tab.index})}\r\n                                    // counter={(index + 1) * 1000}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </TabsBar>\r\n                    <TabContent>\r\n                        <InlineField label=\"Distance Function\">\r\n                            <Select\r\n                                onChange={(val)=>this.setState({distance:''+val.value})}\r\n                                value={distance}\r\n                                options={[\r\n                                { value: 'l1', label: 'L1 - Manhattan' },\r\n                                { value: 'l2', label: 'L2 - Euclidean' },\r\n                            ]}/>\r\n                        </InlineField>\r\n                        <div style={{display:'flex', marginRight:6}}>\r\n                            {(tabs[0].index===selectedIndex) && <>\r\n                                <InlineField label=\"#Groups from\" style={{width:150}}>\r\n                                    <Input css type={\"number\"} value={lb_min} onChange={v=>this.setState({lb_min:+v.currentTarget.value})}/>\r\n                                </InlineField>\r\n                                <InlineField label=\"to\" style={{width:80}}>\r\n                                    <Input css type={\"number\"} value={lb_max} onChange={v=>this.setState({lb_max:+v.currentTarget.value})}/>\r\n                                </InlineField>\r\n                            </>}\r\n                            {(tabs[1].index===selectedIndex) && <>\r\n                                <InlineField label=\"#Groups\" style={{width:110}}>\r\n                                    <Input css type={\"number\"} value={k_g} onChange={v=>this.setState({k_g:+v.currentTarget.value})} />\r\n                                </InlineField>\r\n                                <InlineField label=\"#Steps\" style={{width:120}}>\r\n                                    <Input css type={\"number\"} value={k_i} onChange={v=>this.setState({k_i:+v.currentTarget.value})} />\r\n                                </InlineField>\r\n                            </>}\r\n                            <Button fullWidth onClick={()=>this.props.onSubmit(selectedIndex===0?\r\n                                {clusterMethod:'leaderbin',bin:{startBinGridSize:10,range:[lb_min,lb_max]},normMethod:distance}:\r\n                                {clusterMethod:'kmean',bin:{k:k_g,iterations:k_i},normMethod:distance})}>Calculate cluster</Button>\r\n                        </div>\r\n                    </TabContent>\r\n                </div>;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport {RadarData} from \"../Ulti\";\r\nimport _ from 'lodash';\r\n\r\ninterface Props extends Record<string, any>{\r\n    width?: number\r\n    height?:number\r\n    margin?: {l?:number,r?:number,t?:number,b?:number}\r\n    data?: RadarData[],\r\n    rings?: number,\r\n    fill?: string|string[],\r\n    stroke?: string|string[],\r\n    area?:boolean\r\n    mean?:boolean\r\n    compact?:boolean\r\n    meanColor?:string,\r\n    showAxis?:boolean,\r\n    onMouseOver?:Function\r\n    onMouseLeave?:Function\r\n}\r\ninterface States {\r\n\r\n}\r\nexport class Radar extends React.Component<Props, States> {\r\n    rScale = d3.scaleLinear().range([0,50]);\r\n    innerKey='minval';\r\n    outterKey='maxval';\r\n    radarLine = d3.radialLine<any>()\r\n        .curve(d3.curveCardinalClosed.tension(0.7))\r\n        .radius((d) => {\r\n            return ((d.value<0) || (d.value===undefined))?0:this.rScale(d.value) as number;\r\n        })\r\n        .angle(function (d) {\r\n            return d.angle as number;\r\n        });\r\n    radarMeanLine = d3.radialLine<any>()\r\n        .curve(d3.curveCardinalClosed.tension(0.7))\r\n        .radius((d) => {\r\n            return ((d.mean<0) || (d.mean===undefined))?0:this.rScale(d.mean) as number;\r\n        })\r\n        .angle(function (d) {\r\n            return d.angle as number;\r\n        });\r\n    radialAreaGenerator = d3.radialArea<any>().curve(d3.curveCardinalClosed.tension(0.8))\r\n        .angle(function (d, i) {\r\n            return d.angle as number;\r\n        })\r\n        .innerRadius( (d, i)=> {\r\n            return ((d[this.innerKey]<0) || (d[this.innerKey]===undefined))?0:this.rScale(d[this.innerKey]) as number;\r\n        })\r\n        .outerRadius( (d, i) =>{\r\n            return ((d[this.outterKey]<0) || (d[this.outterKey]===undefined))?0:this.rScale(d[this.outterKey]) as number;\r\n        });\r\n    getColor(key:string,index:number){\r\n        if (_.isArray(this.props[key] ))\r\n            return this.props[key][index];\r\n        else\r\n            return this.props[key]\r\n    }\r\n    render(): React.ReactElement<any, string | React.JSXElementConstructor<any>> | string | number | {} | React.ReactNodeArray | React.ReactPortal | boolean | null | undefined {\r\n        // @ts-ignore\r\n        const {margin={l:0,b:0,t:0,r:0},width=100,height=100,data=[],fill='#fff',stroke='black',fillOpacity=0.8,\r\n            strokeWidth=0.5, rings=5, area=false, mean=false, compact=false, meanColor=\"black\", showAxis=false,\r\n        onMouseOver=(()=>{})} = this.props;\r\n        const {l=0,r=0,b=0,t=0} = margin;\r\n        const radius = Math.min(width-l-r,height-t-b)/2;\r\n        this.rScale.range([0,radius]);\r\n        const ringsv = d3.range(0,rings).map(d=>this.rScale(d/rings));\r\n        const instance = data[0]??[];\r\n\r\n        const drawFunc = area?this.radialAreaGenerator:this.radarLine;\r\n        return <svg width={width} height={height} viewBox={`${-width/2} ${-height/2} ${width} ${height}`}\r\n                    onMouseOver={()=>{onMouseOver(data)}}\r\n                    onMouseLeave={()=>{onMouseOver()}}\r\n        >\r\n            <defs><filter id=\"glow\"><feGaussianBlur stdDeviation=\"2.5\" result=\"coloredBlur\"></feGaussianBlur><feMerge><feMergeNode in=\"coloredBlur\"></feMergeNode><feMergeNode in=\"SourceGraphic\"></feMergeNode></feMerge></filter></defs>\r\n            {(!compact)?<circle r={radius} fill={'#ddd'}/>:''}\r\n            {\r\n                !compact && ringsv.map(d=><circle key={d} r={d} fill={'rgba(205, 205, 205,0.1)'} filter={'#glow'} strokeWidth={0.15} stroke={'black'}/>)\r\n            }\r\n            {\r\n                !compact && instance.map(d=><line key={d.axis} y1={-radius} stroke={'white'} strokeWidth={1} transform={`rotate(${d.angle*180/Math.PI})`}/>)\r\n            }\r\n            {data.map((d,i)=><g>\r\n                <path key={`${d.id??d.name}_${i}`} d={drawFunc(d)??''}\r\n                // transform={`translate(${this.xScale(d.time)},${this.yScale(d.mean)})`}\r\n                  fill={this.getColor('fill',i)}\r\n                  fillOpacity={fillOpacity}\r\n                  stroke={stroke!=='match'?this.getColor('stroke',i):this.getColor('fill',i)}\r\n                  strokeWidth={strokeWidth}\r\n                />\r\n                {mean?<path d={this.radarMeanLine(d)??''} fill={'none'} strokeDasharray={'2 1'} stroke={meanColor}/>:''}\r\n            </g>)}\r\n            {\r\n                (showAxis&&data[0])&&<g className={\"axis\"}>\r\n                    {\r\n                        data[0].map((d,i)=><text key={`${d.axis}_${i}`} textAnchor={(((d.angle>-0.0001)&&(d.angle<0.0001))||((d.angle>(Math.PI-0.0001))&&(d.angle<(Math.PI+0.0001))))?\"middle\":((d.angle<Math.PI)?'start':'end')}\r\n                                                 transform={findNewPoint(d.angle,(this.rScale(1)??0)+10).toString()}>{d.axis}</text>)\r\n                    }\r\n                </g>\r\n            }\r\n        </svg>;\r\n    }\r\n}\r\nfunction findNewPoint(angle:number, distance:number,x=0, y=0) {\r\n    let result = {x:0,y:0,toString:()=>{return ''}};\r\n\r\n    result.x = Math.round(Math.cos(angle-Math.PI/2) * distance + x);\r\n    result.y = Math.round(Math.sin(angle-Math.PI/2) * distance + y);\r\n    result.toString = ()=>`translate(${result.x},${result.y})`;\r\n    return result;\r\n}\r\n","import {DataArr, RadarData, undefinedValue} from \"../Ulti\";\r\nimport {Dimension} from \"../MainViz\";\r\nimport {Cluster} from \"./cluster\";\r\n// @ts-ignore\r\nimport _ from \"lodash\";\r\n\r\n// @ts-ignore\r\nconst scagnosticsnd = require(\"../dirjs/scagnosticsnd.min\");\r\nexport interface OutlierGroup extends Array<Cluster>{\r\n    pointObject: Record<string, RadarData>,\r\n    missingData: Record<string, DataArr>,\r\n}\r\n\r\nexport function outlier(data: DataArr[],dimensions:Dimension[]):OutlierGroup{\r\n    console.time('outline:');\r\n    let dataSpider3: DataArr[] = [];\r\n    const missingData: Record<string, DataArr> = {}\r\n    data.forEach(d=>{\r\n\r\n        if (d.findIndex(e=>!_.isNumber(e))>-1){\r\n            d.outlier = 2; //missing\r\n            d.cluster = 'missing';\r\n            missingData[d.name+'_'+d.timestep] = (d);\r\n        }else{\r\n            delete  d.outlier\r\n            dataSpider3.push(d);\r\n        }\r\n    })\r\n    let estimateSize = Math.max(1, Math.pow(500, 1 / dataSpider3[0].length));\r\n    console.log('estimateSize:',estimateSize);\r\n    let scagOptions ={\r\n        // isNormalized: true,\r\n        startBinGridSize: estimateSize,\r\n        // minBins: 20,\r\n        // maxBins: Math.sqrt(dataSpider3.length),\r\n        outlyingCoefficient: 1.5,\r\n        // incrementA:2,\r\n        // incrementB:0,\r\n        // decrementA:1 / 3,\r\n        // decrementB:0,\r\n    };\r\n\r\n    // @ts-ignore\r\n    let outlyingBins: OutlierGroup = [];\r\n    outlyingBins.pointObject = {};\r\n    outlyingBins.missingData = missingData;\r\n    debugger\r\n    // remove outlying\r\n    scagnosticsnd\r\n    // @ts-ignore\r\n    let scag = self.scagnosticsnd(dataSpider3.map((d, i) => {\r\n        var dd = d.map(d => d ?? undefinedValue);\r\n        // @ts-ignore\r\n        dd.data = d;\r\n        delete  d.outlier;\r\n        return dd;\r\n    }), scagOptions);\r\n    console.timeEnd('outline:');\r\n    console.log('Total bin=' + scag.bins.length);\r\n    console.log('Outlying bin=' +scag.outlyingBins.length);\r\n\r\n\r\n\r\n    scag.outlyingBins.map((ob:any,i:number)=>{\r\n        // @ts-ignore\r\n        let temp2:Cluster = {labels: -i-1,compObject:{}};\r\n\r\n        let arr = ob.map((o:any)=>{\r\n            let d = o.data;\r\n            d.outlier = 1;\r\n            d.cluster = 'outlier';\r\n            d.clusterIndex = -i-1;\r\n            let temp : RadarData = dimensions.map((s,si)=>({axis:s.text, value: d[si],angle: s.angle as number}));\r\n            temp.name = d.name+'_'+d.timestep;\r\n            temp.nodeName = d.name;\r\n            temp.timestep = d.timestep;\r\n            temp.cluster =  'outlier';\r\n            temp.clusterIndex =  -i-1;\r\n            outlyingBins.pointObject[temp.name] = temp;\r\n            if (!temp2.compObject[d.name]){\r\n                temp2.compObject[d.name] = []\r\n            }\r\n            temp2.compObject[d.name].push(d);\r\n            return outlyingBins.pointObject[temp.name];\r\n        });\r\n\r\n        ob.site.forEach((s:number, i:number) => temp2[dimensions[i].text] = dimensions[i].scale.invert(s));\r\n        temp2.index = -i-1;\r\n        // @ts-ignore\r\n        temp2.__metrics = dimensions.map((s,si)=>({axis:s.text, value: ob.site[si], angle: s.angle as number}));\r\n        temp2.__metrics.normalize = ob.site.slice();\r\n        temp2.arr = arr;\r\n        outlyingBins.push(temp2);\r\n    });\r\n    console.log('#Outlier: ',Object.values(outlyingBins.pointObject).length)\r\n    debugger\r\n    return outlyingBins;\r\n}\r\n","import React from \"react\";\r\nimport {DataFrame, Field, PanelProps, Vector} from \"@grafana/data\";\r\nimport {DisplayOpt, SimpleOptions} from 'types';\r\nimport {css} from 'emotion';\r\n// import {css} from 'emotion';\r\n// import {stylesFactory} from '@grafana/ui';\r\nimport Sankey, {JobOBject, SankeyInput, Link, getUserName2, CompSelectNode,CompSelect} from './Sankey'\r\nimport {schemeData, CompOBject, UserOBject, DataArr, SummaryArr, TSNEDATA, RadarData} from './Ulti'\r\n// import{Timeline} from './Timeline'\r\nimport * as d3 from 'd3';\r\nimport {ScaleLinear, ScaleOrdinal, ScaleSequential} from \"d3-scale\";\r\nimport * as _ from \"lodash\"\r\n// import { stylesFactory} from \"@grafana/ui\";\r\nimport {InlineField, Select, Slider, ThemeContext} from '@grafana/ui';\r\nimport PieChart from \"./PieChart\";\r\nimport { Drawer } from 'drawer';\r\nimport LineChart, {LineInput} from 'lineChart';\r\nimport {Binopt, calculateCluster, Cluster} from 'cluster/cluster';\r\n\r\n// import { StreamLegend } from 'StreamLegend';\r\nimport { AppEvents } from '@grafana/data';\r\n// @ts-ignore\r\nimport appEvents from 'grafana/app/core/app_events';\r\nimport { ClusterControl } from 'cluster/clusterControl';\r\nimport { Radar } from 'cluster/radar';\r\nimport {outlier, OutlierGroup} from \"./cluster/outlier\";\r\n// import { calculateCluster } from 'cluster/cluster';\r\n\r\ninterface DataObject extends Record<string,Date|number|string|undefined|null> {\r\n    order: number\r\n};\r\ntype DataByTime = Record<string,Record<string,DataObject>>;\r\n\r\ninterface Props extends PanelProps<SimpleOptions> {\r\n    // margin?: {top:number,bottom:number,left:number,right:number},\r\n    // scalezoom?: number\r\n}\r\n// interface Props extends Themeable {\r\n//     // margin?: {top:number,bottom:number,left:number,right:number},\r\n//     // scalezoom?: number\r\n// }\r\ninterface DataArrOp extends Array<any> {\r\n    name?: string,\r\n    timestep?: number\r\n    cpus?: number\r\n}\r\ninterface States {\r\n    datas: Record<string,any>[],\r\n    dataByTime: DataByTime,\r\n    data:DataObject[],\r\n    // jobs: JobOBject[],\r\n    dimensions: Dimension[],\r\n    selectedService?: number,\r\n    timeStamp: Date[],\r\n    scalezoom?:1,\r\n    margin?: {top:number,bottom:number,left:number,right:number},\r\n    scheme: schemeData,\r\n    drawThreshold: number,\r\n    sankeyData: SankeyInput[],\r\n    LineData: LineInput[],\r\n    LineTime?:Date,\r\n    pieChartSum: {total: number,usage: number,_usage:number}\r\n    pieData: {key: string, value: UserOBject, text:string}[],\r\n    pieOverlay?:{key:string,value:number,parent:string},\r\n    pieDataHighlight?: Record<string, any>,\r\n    colorBy: string,\r\n    displayOpt: DisplayOpt,\r\n    lineaScale: number\r\n    cluster?: Cluster[],\r\n    clusterDescription?: Record<string, any>,\r\n    colorCluster?: Function\r\n    clusterInfo?:Record<string, any>,\r\n    outlyingBins?:OutlierGroup\r\n    radarDataTip?:RadarData[],\r\n    zoomH?:number\r\n    sankeyComputeSelected?:CompSelect,\r\n    clusterOpt: Binopt\r\n}\r\n\r\nexport interface Dimension {\r\n    range: [number,number],\r\n    rangeMinMax: [number,number],\r\n    rangePredict: [number,number],\r\n    scale: ScaleLinear<any, any>,\r\n    order: number,\r\n    key?: string,\r\n    text: string,\r\n    active: number[],\r\n    tickFormat?: Function,\r\n    angle?:number,\r\n    enable?:boolean\r\n}\r\nexport class MainViz extends React.Component<Props, States>{\r\n    svgRef = React.createRef<SVGSVGElement>();\r\n    widthView(){return this.props.width*(this.state.scalezoom??1)}\r\n    heightView(){return this.props.height*(this.state.scalezoom??1)}\r\n    widthG(){return this.widthView()-(this.state.margin??{top:0,bottom:0,left:0,right:0}).left-(this.state.margin??{top:0,bottom:0,left:0,right:0}).right}\r\n    heightG(){return this.heightView()-(this.state.margin??{top:0,bottom:0,left:0,right:0}).top-(this.state.margin??{top:0,bottom:0,left:0,right:0}).bottom}\r\n    centerX(){return (this.state.margin??{top:0,bottom:0,left:0,right:0}).left+this.widthG()/2;}\r\n    centerY(){return (this.state.margin??{top:0,bottom:0,left:0,right:0}).top+this.heightG()/2;}\r\n    r(){return (d3.min([this.props.width, this.props.height])??0) / 2-20}\r\n\r\n    public static defaultProps = {\r\n        width:100,\r\n        height:100,\r\n        margin :{top:0,bottom:0,left:0,right:0},\r\n        scalezoom: 1,\r\n        // nodePerRing: 50,\r\n        // nodeSize:5\r\n    }\r\n    state:States = {\r\n            data: [],\r\n            datas: [],\r\n            dataByTime: {},\r\n            dimensions: [],\r\n            selectedService: 0,\r\n            timeStamp:[],\r\n            scheme: {\r\n                    computers: {},\r\n                    emptyMap: {},\r\n                    jobArr: {},\r\n                    jobs: {},\r\n                    minMaxData: {},\r\n                    timespan: [],\r\n                    tsnedata: {},\r\n                    userArr: {},\r\n                    users: {},\r\n                    _userarrdata:{}\r\n                },\r\n        drawThreshold:650 / 700,\r\n        sankeyData:[],\r\n        LineData:[],\r\n        pieData:[],\r\n        pieDataHighlight:undefined,\r\n        pieChartSum: {total: 0,usage: 0,_usage:0},\r\n        colorBy:'name',\r\n        displayOpt:'compute_num',\r\n        lineaScale:0,\r\n        clusterOpt:{clusterMethod:'leaderbin',bin:{startBinGridSize:10,range:[8,9]}},\r\n        }\r\n    colorByName = d3.scaleOrdinal([\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#bcbd22\", \"#17becf\", \"#aec7e8\", \"#ffbb78\", \"#98df8a\", \"#ff9896\", \"#c5b0d5\", \"#c49c94\", \"#f7b6d2\", \"#dbdb8d\", \"#9edae5\"])\r\n    colorByVal = d3.scaleSequential(d3.interpolateGreys).domain([1,-0.25])\r\n    color:ScaleOrdinal<any,string>|ScaleSequential<string>= this.colorByName\r\n    constructor(props:Props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount(){\r\n        const opt:Partial<States> = this.handleData();\r\n        if (opt.dimensions)\r\n            opt.selectedService = 0;\r\n        opt.LineData = this.changeLineData(opt); // Line Chart\r\n        this.setState(opt as NonNullable<States>);\r\n        appEvents.emit(AppEvents.alertSuccess, ['Hello']);\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<States>, snapshot?: any): void {\r\n        if (this.props.data!==prevProps.data){\r\n            const opt:Partial<States> = this.handleData();\r\n            if (opt.dimensions)\r\n                opt.selectedService = 0;\r\n            opt.LineData = this.changeLineData(opt); // Line Chart\r\n            this.setState(opt as NonNullable<States>);\r\n        }\r\n    }\r\n    handleData(){\r\n        console.time('handleData')\r\n        const {data} = this.props;\r\n        const {userEncoded} = this.props.options;\r\n        const dataByTime: DataByTime = {};\r\n        const datas = new Array();\r\n        let nodeLists = new Map();\r\n        const dimensions:Dimension[] = [];\r\n        let dimensionObject: Record<string,Dimension> = {};\r\n        let timeObject: Record<string,Date> = {};\r\n        let coreLimit = this.props.options.coreLimit;\r\n        const scheme: schemeData = {\r\n            computers: {},\r\n            emptyMap: {},\r\n            jobArr: {},\r\n            jobs: {},\r\n            minMaxData: {},\r\n            timespan: [],\r\n            tsnedata: {},\r\n            userArr: {},\r\n            users: {},\r\n            _userarrdata:{}\r\n        }\r\n        function getDim(range: [number,number], order: number, dim: string): Dimension {\r\n            const scale = d3.scaleLinear().domain(range);\r\n\r\n            const dimControl: Dimension = {\r\n                range,\r\n                rangeMinMax:[range[0],range[1]],\r\n                rangePredict:[range[0],range[1]],\r\n                scale,\r\n                order,\r\n                text: dim,\r\n                active: new Array<number>(),\r\n                tickFormat: undefined\r\n            };\r\n            return dimControl;\r\n        }\r\n\r\n        function handleDataWithname(serie: DataFrame) {\r\n            const dim = serie.refId ?? '';\r\n            const times = serie.fields.find(e => e.name.trim().toLowerCase() === 'time');\r\n            const values = serie.fields.find(e => e.name === 'value');\r\n            const nodeids = serie.fields.find(e => e.name === 'name');\r\n            const dimTarget:( Dimension | undefined ) = dimensionObject[dim];\r\n            let range: [number, number] = dimTarget?[dimTarget.range[0]??Infinity,dimTarget.range[1]??-Infinity]:[Infinity, -Infinity];\r\n            if (nodeids && nodeids.values && times && times.values && values && values.values) {\r\n                const nodeid = nodeids.values.toArray();\r\n                nodeid.forEach((id, i) => {\r\n                    if (!dataByTime.hasOwnProperty(id)) {\r\n                        dataByTime[id] = {};\r\n                    }\r\n                    const val = values.values.get(i);\r\n                    if (!dataByTime[id][times.values.get(i)]) {\r\n                        const item = {time: times.values.get(i),order:0, id};\r\n                        datas.push(item);\r\n                        nodeLists.set(id, true);\r\n                        dataByTime[id][times.values.get(i)] = item;\r\n                    }\r\n                    dataByTime[id][times.values.get(i)][dim] = val;\r\n                    if (val < range[0])\r\n                        range[0] = val;\r\n                    if (val > range[1])\r\n                        range[1] = val;\r\n                })\r\n            }\r\n            if (!dimTarget) // new Dimension\r\n            {\r\n                dimensionObject[dim] = getDim(range, dimensions.length, dim);\r\n                dimensions.push(dimensionObject[dim]);\r\n            }else{\r\n                dimTarget.range = range;\r\n                dimTarget.scale.domain(range);\r\n            }\r\n        }\r\n\r\n        function handleDataWithnames(serie: DataFrame) {\r\n            const times = serie.fields.find(e => e.name.trim().toLowerCase() === 'time');\r\n\r\n            function extractDimData(id: string, dim: string, d: Field<any, Vector<number>>) {\r\n                if (!dataByTime[id]) {\r\n                    dataByTime[id] = {};\r\n                }\r\n                const dimTarget: (Dimension | undefined) = dimensionObject[dim];\r\n                let range: [number, number] = dimTarget ? [dimTarget.range[0] ?? Infinity, dimTarget.range[1] ?? -Infinity] : [Infinity, -Infinity];\r\n                d.values.toArray().forEach((val:number, i:number) => {\r\n                    if (!dataByTime[id][times?.values.get(i)]) {\r\n                        const item = {time: times?.values.get(i), order: 0, id};\r\n                        datas.push(item);\r\n                        nodeLists.set(id, true);\r\n                        dataByTime[id][times?.values.get(i)] = item;\r\n                    }\r\n                    dataByTime[id][times?.values.get(i)][dim] = val;\r\n                    if (val !== null) {\r\n                        if (val < range[0])\r\n                            range[0] = val;\r\n                        if (val > range[1])\r\n                            range[1] = val;\r\n                    }\r\n                });\r\n                if (!dimTarget) // new Dimension\r\n                {\r\n                    dimensionObject[dim] = getDim(range, dimensions.length, dim);\r\n                    dimensions.push(dimensionObject[dim]);\r\n                } else {\r\n                    dimTarget.range = range;\r\n                    dimTarget.scale.domain(range);\r\n                }\r\n            }\r\n\r\n            if (times) {\r\n                serie.fields.filter(e => e.type === 'number').forEach(d => {\r\n                    if(d.labels) {\r\n                        let dim = d.name;\r\n                        let id = '';\r\n                        if (dim==='value'){\r\n                            let str = Object.values(d.labels)[0].split('|').map((d:string)=>d.trim());\r\n                            id = str[0].trim();\r\n                            dim = str[1].trim();\r\n                        }else{\r\n                            id = Object.values(d.labels)[0].replace('|','').trim();\r\n                        }\r\n                        extractDimData(id, dim, d);\r\n                    }else if(d.name.split('|').length===2){\r\n                        let str = d.name.split('|');\r\n                        let id = str[1].trim();\r\n                        let dim = str[0].trim();\r\n                        extractDimData(id, dim, d);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        function handleNodeJobCore(serie:DataFrame):{computes?:Record<string, {cpus:Record<string, number>[],job_id:string[][]}>,jobs?:Record<string, {start_Index:number,finish_Index:number,node_list_obj:Record<string, number>}>} {\r\n            const time = serie.fields.find(e => e.name.trim().toLowerCase() === 'time');\r\n            const job_lists = serie.fields.find(e => e.name === 'jobs');\r\n            const cpus = serie.fields.find(e => e.name === 'cpus');\r\n            const compute = serie.fields.find(e => e.name === 'name');\r\n            const computes:Record<string, {cpus:Record<string, number>[],job_id:string[][]}>={};\r\n            const jobs:Record<string, {start_Index:number,finish_Index:number,node_list_obj:Record<string, number>}> = {};\r\n            if(time&&job_lists&&cpus&&compute){\r\n                const _time:Record<number,number> = {};\r\n                let ti = 0;\r\n                time.values.toArray().map((t,i)=>{\r\n                    if(!_time[t]){\r\n                        _time[t] = ti;\r\n                        ti++;\r\n                    }\r\n                    const job_idstring = job_lists.values.get(i).replace(/\\{|\\}/g,'');\r\n                    const job_id = job_idstring===''?[]:job_idstring.split(',').map((d:string)=>d.trim());\r\n                    const cpustring = cpus.values.get(i).replace(/\\{|\\}/g,'');\r\n                    const cpu = cpustring===''?[]:cpustring.split(',').map((d:string)=>d.trim());\r\n                    const name = compute.values.get(i);\r\n                    if(!computes[name]){\r\n                        computes[name] = {cpus:[],job_id:[]}\r\n                    }\r\n                    computes[name].job_id[ti] = job_id;\r\n                    if(!computes[name].cpus[ti])\r\n                        computes[name].cpus[ti] = {}\r\n                    job_id.forEach((j:string,ji:number)=>{\r\n                        computes[name].cpus[ti][j] = +cpu[ji];\r\n                        if (!jobs[j]){\r\n                            jobs[j] = {start_Index:ti,finish_Index:ti,node_list_obj:{}};\r\n                        }\r\n                        jobs[j].finish_Index = ti;\r\n                        jobs[j].node_list_obj[name] = +cpu[ji];\r\n                    });\r\n                })\r\n                return {computes,jobs};\r\n            }\r\n            return {computes:undefined,jobs:undefined};\r\n        }\r\n        function handleJobData(serie:DataFrame,userEncoded:boolean,job_ref?:Record<string,{start_Index:number,finish_Index:number,node_list_obj:Record<string, number>}>):Record<string, JobOBject> {\r\n            const job_ids = serie.fields.find(e => e.name === 'job_id');\r\n            const job_names = serie.fields.find(e => e.name === 'name');\r\n            const node_lists = serie.fields.find(e => e.name === 'nodes');\r\n            const user_names = serie.fields.find(e => e.name === 'user_name');\r\n            const start_times = serie.fields.find(e => e.name === 'start_time');\r\n            const end_times = serie.fields.find(e => e.name === 'end_time');\r\n            const cpus = serie.fields.find(e => e.name === 'cpus');\r\n            const node_count = serie.fields.find(e => e.name === 'node_count');\r\n            // console.log(serie)\r\n            const jobs:Record<string, JobOBject>={};\r\n            const userEncode:Record<string, string> = {};\r\n            if(user_names){\r\n                if (userEncoded){\r\n                    let userCodecount = 1;\r\n                    user_names.values.toArray().forEach((name,i)=>{\r\n                        if(!userEncode[name]){\r\n                            userEncode[name] = 'user'+userCodecount;\r\n                            userCodecount++;\r\n                        }\r\n                    })\r\n                }else{\r\n                    user_names.values.toArray().forEach((name,i)=>{\r\n                        userEncode[name] = name;\r\n                    })\r\n                }\r\n            }\r\n            if(job_ids&&job_names&&node_lists&&user_names&&start_times&&end_times&&cpus&&node_count){\r\n                job_ids.values.toArray().map((job_id,i)=>{\r\n                    const user_name = userEncode[user_names.values.get(i)];\r\n                    const job_name = job_names.values.get(i);\r\n                    const start_time = start_times.values.get(i)*1000;\r\n                    const end_time = end_times.values.get(i)*1000;\r\n                    const nodestring = node_lists.values.get(i).replace(/\\{|\\}/g,'');\r\n                    const node_list = nodestring===''?[]:nodestring.split(',').map((d:string)=>d.trim());\r\n                    const cpus_ = (+cpus.values.get(i));\r\n                    const cores = cpus_/(+node_count.values.get(i));\r\n                    let node_list_obj: Record<string, number> = {};\r\n                    if(job_ref&&job_ref[job_id]){\r\n                        node_list_obj = job_ref[job_id].node_list_obj;\r\n                        // const v = Object.values(job_ref[job_id].node_list_obj)\r\n                        // if (v.find(d=>d!==v[0]))\r\n                        //     debugger\r\n                    }else\r\n                        node_list.forEach((n:string)=>node_list_obj[n]=cores);\r\n                    if(node_list.length)\r\n                        jobs[job_id] = {\r\n                            job_id,\r\n                            user_name,\r\n                            job_name,\r\n                            node_list,\r\n                            node_list_obj,\r\n                            _node_list:node_list.slice(),\r\n                            _node_list_obj:{...node_list_obj},\r\n                            cpus:cpus_,\r\n                            cpu_cores:cores,\r\n                            summary: [],\r\n                            start_time,\r\n                            finish_time:end_time\r\n                        }\r\n                });\r\n            }\r\n            return jobs;\r\n        }\r\n        function handleWorkload(cpus:Record<string, Record<string, any>>,times:number[]) {\r\n            const dim = 'workLoad';\r\n            const dimTarget:( Dimension | undefined ) = dimensionObject[dim];\r\n            let range: [number, number] = dimTarget?[dimTarget.range[0]??Infinity,dimTarget.range[1]??-Infinity]:[Infinity, -Infinity];\r\n            if (times) {\r\n                const nodeid = Object.keys(cpus);\r\n                nodeid.forEach((id) => {\r\n                    if (!dataByTime.hasOwnProperty(id)) {\r\n                        dataByTime[id] = {};\r\n                    }\r\n                    times.forEach((ti,i)=>{\r\n                        const val = (cpus[id].cpus && cpus[id].cpus[i])?(Math.min(d3.sum(Object.values(cpus[id].cpus[i])),coreLimit)/coreLimit):0;\r\n\r\n                        if (!dataByTime[id][times[i]]) {\r\n                            const item = {time: times[i],order:0, id};\r\n                            datas.push(item);\r\n                            nodeLists.set(id, true);\r\n                            dataByTime[id][times[i]] = item;\r\n                        }\r\n                        dataByTime[id][times[i]][dim] = val;\r\n                        if (val < range[0])\r\n                            range[0] = val;\r\n                        if (val > range[1])\r\n                            range[1] = val;\r\n                    })\r\n                })\r\n\r\n            }\r\n            if (!dimTarget) // new Dimension\r\n            {\r\n                dimensionObject[dim] = getDim(range, dimensions.length, dim);\r\n                dimensions.push(dimensionObject[dim]);\r\n            }else{\r\n                dimTarget.range = range;\r\n                dimTarget.scale.domain(range);\r\n            }\r\n        }\r\n        let job_serie = undefined;\r\n        let job_core_serie = undefined;\r\n        data.series.forEach((serie) => {\r\n            const time = serie.fields.find(e=>e.name.trim().toLowerCase()==='time');\r\n            if (time){\r\n                if (serie.fields.find(e=>e.name==='jobs')&&serie.fields.find(e=>e.name==='cpus')){\r\n                    job_core_serie = serie;\r\n                }else {\r\n                    time.values.toArray()\r\n                        .forEach(t => {\r\n                            timeObject[t] = t;\r\n                        });\r\n                    if (serie.fields.find(e => e.name === 'name'))\r\n                        handleDataWithname(serie);\r\n                    else\r\n                        handleDataWithnames(serie)\r\n                }\r\n            }else{\r\n                job_serie = serie;\r\n            }\r\n        });\r\n        let job_ref:Record<string, {start_Index:number,finish_Index:number,node_list_obj:Record<string, number>}>|undefined = undefined;\r\n        if(job_core_serie) {\r\n            const r = handleNodeJobCore(job_core_serie);\r\n            if(r.computes)\r\n                handleWorkload(r.computes,Object.values<Date>(timeObject).map((d:Date)=>+d as number));\r\n            job_ref = r.jobs;\r\n        }\r\n        if(job_serie){\r\n            // let computes:Record<string, {cpus:Record<string, number>[],job_id:string[][]}>|undefined = undefined;\r\n            scheme.jobs = handleJobData(job_serie,userEncoded,job_ref);\r\n        }\r\n        const timeStamp = Object.values<Date>(timeObject).sort((a,b)=>+a - (+b))??[];\r\n\r\n        dimensions.sort((a, b) => a.order - b.order).forEach((d,i)=>{\r\n            d.order = i;\r\n            d.angle = (i/dimensions.length)*2*Math.PI;\r\n        });\r\n        const jobs = scheme.jobs;\r\n        //add none value node\r\n        Object.keys(jobs).forEach(k=> {\r\n            const d = jobs[k];\r\n            d._node_list = d.node_list.slice();\r\n            d._node_list.forEach(id => {\r\n                if (!dataByTime[id]) {\r\n                    dataByTime[id] = {};\r\n                    timeStamp.forEach(_t=>{\r\n                        const t = ''+_t;\r\n                        const val = undefined;\r\n                        const item = {time: t,order:0, id};\r\n                        datas.push(item);\r\n                        nodeLists.set(id, true);\r\n                        dataByTime[id][t] = item;\r\n                        dimensions.forEach(dim=>{\r\n                            dataByTime[id][t][dim.text] = val;\r\n                        })\r\n                    })\r\n                }\r\n            });\r\n        });\r\n        const {computers,tsnedata} = this.handleSmalldata(dimensions,dataByTime,timeStamp);\r\n\r\n        scheme.computers=computers;\r\n        // remove not exist comp\r\n        Object.keys(jobs).forEach(k=> {\r\n            const d = jobs[k];\r\n            d.node_list = [];\r\n            d._node_list.forEach(comp => {\r\n                if (computers[comp])\r\n                    d.node_list.push(comp);\r\n                else\r\n                    delete d.node_list_obj[comp]\r\n            });\r\n            if(d.node_list.length===0)\r\n                delete jobs[k]\r\n        });\r\n        const {users} = this.handleCUJ(scheme,timeStamp);\r\n        const result = this.handleDataComputeByUser(computers,jobs,timeStamp);\r\n        const  jobCompTimeline = result.data;\r\n        const noJobMap = result.noJobMap;\r\n        const {jobTimeline, jobarrdata,userarrdata,_userarrdata,minMaxDataCompJob,minMaxDataUser} = this.handleDataComputeByJob({tsnedata,computers,jobs,users,timespan:timeStamp});\r\n\r\n        \r\n        Object.values(jobs).forEach(d=>{\r\n            d.summary = dimensions.map((s,si)=>{\r\n                const val:SummaryArr = {mean: jobarrdata[d.job_id]?d3.mean<DataArr>(jobarrdata[d.job_id],(d:DataArr)=>d?(d[si] as number):undefined):null,\r\n                min : minMaxDataCompJob[d.job_id]?d3.min(minMaxDataCompJob[d.job_id],d=>d?d[0][si]:undefined):null,\r\n                max : minMaxDataCompJob[d.job_id]?d3.max(minMaxDataCompJob[d.job_id],d=>d?d[1][si]:undefined):null,\r\n                num : jobarrdata[d.job_id].filter(d=>((d?d[si]:undefined) !==undefined)).length}\r\n                return val\r\n            })\r\n        });\r\n        Object.keys(users).forEach(k=>{\r\n            const d = users[k];\r\n            this.colorByName(k);\r\n            d.total_nodes = d.node.length;\r\n            d.summary = dimensions.map((s,si)=>{\r\n                const val = {mean: userarrdata[k]?d3.mean(userarrdata[k],d=>d?d[si]:undefined):null,\r\n                min : minMaxDataUser[k]?d3.min(minMaxDataUser[k],d=>d?d[0][si]:undefined):null,\r\n                max : minMaxDataUser[k]?d3.max(minMaxDataUser[k],d=>d?d[1][si]:undefined):null,\r\n                num : userarrdata[k].filter(d=>((d?d[si]:undefined) !==undefined)).length};\r\n                return val\r\n            })\r\n        });\r\n        const pieChartSum=this.getpieSum.bind(this)(this.state.displayOpt,computers,timeStamp.length)\r\n        Object.keys(computers).forEach(k=>{\r\n            const d = computers[k];\r\n            d.summary = dimensions.map((s,si)=>{\r\n                const val = {mean: tsnedata[k]?d3.mean(tsnedata[k],d=>d?d[si]:undefined):null,\r\n                min : tsnedata[k]?d3.min(tsnedata[k],d=>d?d[si]:undefined):null,\r\n                max : tsnedata[k]?d3.max(tsnedata[k],d=>d?d[si]:undefined):null,\r\n                num : tsnedata[k]?tsnedata[k].filter(d=>((d?d[si]:undefined) !==undefined)).length:0};\r\n                return val\r\n            })\r\n        });\r\n\r\n        scheme.users=users;\r\n        scheme.timespan=timeStamp;\r\n        scheme.tsnedata=tsnedata;\r\n        scheme.emptyMap=noJobMap;\r\n        scheme.jobArr=jobarrdata;\r\n        scheme.userArr=userarrdata;\r\n        scheme._userarrdata=_userarrdata;\r\n\r\n        const sankeyData = this.changeSankeyData(this.state.displayOpt,{scheme});\r\n        const pieData = Object.keys(scheme.users).map(k=>({key:k,value:scheme.users[k],text:k}));\r\n\r\n        const flatv = _.flatten(Object.values(scheme.tsnedata));\r\n        let outlyingBins = outlier(flatv,dimensions)\r\n        let {cluster,clusterDescription,colorCluster,clusterInfo} = calculateCluster(flatv,dimensions,this.state.clusterOpt,()=>{},()=>{})\r\n\r\n        console.timeEnd('handleData')\r\n        return ({dimensions,dataByTime,timeStamp,\r\n            datas,jobCompTimeline,jobTimeline,sankeyData,pieData,pieDataHighlight:undefined,\r\n        scheme,pieChartSum,cluster,clusterDescription,colorCluster,clusterInfo,outlyingBins})\r\n    }\r\n    getpieSum(displayOpt:string,computers:Record<string,CompOBject>,timeStep:number){\r\n        const pieChartSum={total: 0,usage: 0,_usage:0};\r\n        if(displayOpt==='core'){\r\n            Object.keys(computers).forEach(k=> {\r\n                const d = computers[k];\r\n                pieChartSum._usage += d3.sum(d.cpus, (e: Record<string, number>) => Math.min(this.props.options.coreLimit, d3.sum(Object.values(e)))) / timeStep;\r\n            })\r\n            pieChartSum.total = this.props.options.coreLimit*Object.keys(computers).length;\r\n        }else{\r\n            Object.keys(computers).forEach(k=> {\r\n                const d = computers[k];\r\n                pieChartSum._usage += d3.sum(d.job_id, (e: string[]) => e.length?1:0) / timeStep;\r\n            })\r\n            pieChartSum.total = Object.keys(computers).length;\r\n        }\r\n        pieChartSum.usage = pieChartSum._usage;\r\n        return pieChartSum;\r\n    }\r\n    changeSankeyData(choice:DisplayOpt,opts:Partial<States>={}){\r\n        const {computers,jobs,timespan:timeStamp} = opts.scheme??this.state.scheme;\r\n        if(choice==='core'){\r\n            return this.handleDataComputeByUser_core({computers,jobs,timespan:timeStamp})\r\n        }else{\r\n            // console.log('compute')\r\n            return this.handleDataComputeByUser_compute({computers,jobs,timespan:timeStamp})\r\n        }\r\n    }\r\n    changePieInfo(choice:DisplayOpt,opts:Partial<States>={}) {\r\n        const {computers, timespan: timeStamp} = opts.scheme ?? this.state.scheme;\r\n        const pieChartSum=this.getpieSum.bind(this)(choice,computers,timeStamp.length);\r\n        return pieChartSum;\r\n    }\r\n    changeLineData(opts:Partial<States>={},lists?:string[],listsJob?:string[]):LineInput[] {  // Line Chart\r\n        const dimensions = opts.dimensions??this.state.dimensions;\r\n        const selectedService = opts.selectedService??this.state.selectedService??0;\r\n        const scheme = opts.scheme??this.state.scheme;\r\n        const userarrdata = scheme.userArr;\r\n        const jobArr = scheme.jobArr;\r\n\r\n        // Line Chart\r\n        const timespan = scheme.timespan;\r\n        lists = lists??Object.keys(userarrdata);\r\n        const LineData:LineInput[] = lists.map(k=>({key:k,value:userarrdata[k].map((d):[Date,number|undefined]=>[timespan[d.timestep] as Date,d[selectedService]!==undefined?dimensions[selectedService].scale.invert(d[selectedService]):undefined])}));\r\n        if(listsJob)\r\n            listsJob.forEach(jid=>{\r\n                LineData.push({key:jid,color:'gray',value:jobArr[jid].map((d):[Date,number|undefined]=>[timespan[d.timestep] as Date,d[selectedService]!==undefined?dimensions[selectedService].scale.invert(d[selectedService]):undefined])})\r\n            })\r\n        return LineData;\r\n    }\r\n    onseparate(name:string,isSeperate:boolean){\r\n        if(isSeperate){\r\n            const dimensions = this.state.dimensions;\r\n            const selectedService = this.state.selectedService??0;\r\n            const scheme = this.state.scheme;\r\n            const computers = this.state.scheme.computers;\r\n            const _userarrdata = scheme._userarrdata;\r\n\r\n            // Line Chart\r\n            const timespan = scheme.timespan;\r\n            if(!_userarrdata[name])\r\n                this.setState({LineData:[]})\r\n            else {\r\n                const _notShare:[Date,(number|undefined)[]][] = timespan.map((t,ti)=>[t as Date,[]]);\r\n                const _share:[Date,(number|undefined)[]][] = timespan.map((t,ti)=>[t as Date,[]]);\r\n\r\n                // const pieData = Object.keys(scheme.users).map(k=>({key:k,value:scheme.users[k],text:k}));\r\n                _userarrdata[name].forEach((d)=>{\r\n                    d.forEach(e=>{\r\n                        if(computers[e.name]&&(computers[e.name].users[e.timestep].length===1)){\r\n                            _notShare[e.timestep][1].push(e[selectedService]!==undefined?dimensions[selectedService].scale.invert(e[selectedService]):undefined)\r\n                        }else{\r\n                            _share[e.timestep][1].push(e[selectedService]!==undefined?dimensions[selectedService].scale.invert(e[selectedService]):undefined)\r\n                        }\r\n                    })\r\n                })\r\n                const notShare:{key:string,value:[Date,(number|undefined)][]} = {key:name,value:_notShare.map(d=>[d[0],d3.mean(d[1])])};\r\n                const share:{key:string,value:[Date,(number|undefined)][]} = {key:'_share_',value:_share.map(d=>[d[0],d3.mean(d[1])])};\r\n                const LineData = [notShare,share]//lists.map(k=>({key:k,value:userarrdata[k].map((d):[Date,number|undefined]=>[timespan[d.timestep] as Date,d[selectedService]!==undefined?dimensions[selectedService].scale.invert(d[selectedService]):undefined])}));\r\n                this.setState({LineData})\r\n            }\r\n        }else {\r\n            const LineData = this.changeLineData({},[name])\r\n            this.setState({LineData})\r\n        }\r\n    }\r\n    handleSmalldata(dimensions:Dimension[],dataByTime:DataByTime,timeStamp:Date[]){\r\n        const tsnedata:TSNEDATA = {};\r\n        const computers:Record<string,CompOBject> ={};\r\n        Object.keys(dataByTime).forEach(comp=>{\r\n            const compData = dataByTime[comp];\r\n            tsnedata[comp] = [];\r\n            computers[comp]={\r\n                job_id: [],\r\n                key: comp,\r\n                user: [],\r\n                drawData:[]\r\n            }\r\n            dimensions.forEach(dim=> computers[comp][dim.text]=[]);\r\n            timeStamp.forEach((t,ti)=>{\r\n                const current = compData[''+t];\r\n                const d: DataArrOp = dimensions.map(dim=>{\r\n                    if(current){\r\n                        computers[comp][dim.text][ti] = current[dim.text];\r\n                        const val = current[dim.text];\r\n                        return (val!==null) ? dim.scale(val as number):undefined;\r\n                    }\r\n                    return null\r\n                });\r\n                d.name = comp;\r\n                d.timestep = ti;\r\n                tsnedata[comp][ti] = d as DataArr;\r\n            });\r\n\r\n        })\r\n        return {computers,tsnedata}\r\n    }\r\n    handleDataComputeByJob(input:Partial<schemeData>){\r\n        const tsnedata = input.tsnedata??{};\r\n        const computers:Record<string, CompOBject>=input.computers??{};\r\n        const _jobs:Record<string, JobOBject>=input.jobs??{};\r\n        const _users:Record<string, UserOBject> = input.users??{};\r\n        const jobs:Record<string, JobOBject> = {};\r\n        const users:Record<string, UserOBject> = {};\r\n        const jobarrdata:Record<string, DataArr[]> = {};\r\n        const _jobarrdata:Record<string, DataArr[][]> = {};\r\n        const userarrdata:Record<string, DataArr[]> = {};\r\n        const _userarrdata:Record<string, DataArr[][]> = {};\r\n        const minMaxDataCompJob:Record<string, [DataArr,DataArr][]> = {};\r\n        const minMaxDataUser:Record<string, [DataArr,DataArr][]> = {};\r\n        const timespan:Date[] = input.timespan??[];\r\n        Object.keys(_jobs).forEach(k=>{\r\n            // if (_jobs[k].total_nodes>1){\r\n            jobs[k] = _jobs[k];\r\n            _jobarrdata[k] = [];\r\n            jobarrdata[k] = [];\r\n            minMaxDataCompJob[k] = [];\r\n\r\n            if (!jobs[k].isJobarray){\r\n                users[_jobs[k].user_name] = _users[_jobs[k].user_name];\r\n                userarrdata[_jobs[k].user_name] = [];\r\n                _userarrdata[_jobs[k].user_name] = [];\r\n                minMaxDataUser[_jobs[k].user_name] = [];\r\n            }else{\r\n                jobs[k].comp = {};\r\n            }\r\n            // }\r\n        });\r\n\r\n        let data = [];\r\n        for (let comp in computers){\r\n            interface Item_inside {key:string,values:any,value:number|undefined}\r\n            interface Item extends Record<string,any>{\r\n                key:string,values:(Item_inside[]| null)[],range:[number,number],data:CompOBject\r\n            }\r\n            let item:Item = {key:comp,values:[] ,range:[Infinity,-Infinity],data:computers[comp]};\r\n            let job:Record<string,boolean> = {};\r\n            computers[comp].job_id.forEach((jIDs,i)=>{\r\n                let jobArr = jIDs.map(j=>jobs[j]).filter(d=>{\r\n                    if (d){\r\n                        if (!_jobarrdata[d.job_id][i]){\r\n                            const empty:DataArrOp = [];\r\n                            empty.name='';\r\n                            empty.timestep=0;\r\n                            _jobarrdata[d.job_id][i]=(empty as DataArr);\r\n                        }\r\n                        const tsne_comp = tsnedata[comp];\r\n                        if(tsne_comp)\r\n                            _jobarrdata[d.job_id][i].push(tsne_comp[i]);\r\n                        if (!_userarrdata[d.user_name][i]){\r\n                            const empty:DataArrOp = [];\r\n                            empty.name='';\r\n                            empty.timestep=0;\r\n                            empty.cpus=0;\r\n                            _userarrdata[d.user_name][i] =(empty as DataArr);\r\n                        }\r\n                        if(tsne_comp)\r\n                            _userarrdata[d.user_name][i].push(tsne_comp[i]);\r\n\r\n                        if(d.job_array_id){\r\n                            if (!_jobarrdata[d.job_array_id][i]){\r\n                                const empty:DataArrOp = [];\r\n                                empty.name='';\r\n                                empty.timestep=0;\r\n                                _jobarrdata[d.job_array_id][i]=(empty as DataArr);\r\n                            }\r\n                            if (!jobs[d.job_array_id].comp[i])\r\n                                jobs[d.job_array_id].comp[i] = {};\r\n                            if (!jobs[d.job_array_id].comp[i][comp]){\r\n                                jobs[d.job_array_id].comp[i][comp] = 1;\r\n                                _jobarrdata[d.job_array_id][i].push(tsnedata[comp][i]);\r\n                            }\r\n                        }\r\n                        return true;\r\n                    }\r\n                    return false\r\n                });\r\n                const key = jobArr.map(d=>d.job_id).toString();\r\n                if (!job[key])\r\n                    job[key]=true;\r\n                else\r\n                    jobArr=[];\r\n\r\n                if (jobArr.length){\r\n                    let username = d3.nest<JobOBject,number>().key(d=>d.job_id)\r\n                        .rollup(d=>d3.sum<JobOBject>(d,(e:JobOBject)=>e.node_list_obj[comp])).entries(jobArr);\r\n                    // username.total = d3.sum(username,e=>e.value)\r\n                    username.sort((a,b)=>d3.ascending(a.key,b.key))\r\n                    item.values.push(username);\r\n                }else\r\n                    item.values.push(null);\r\n                item[''+timespan[i]] = item.values[i];\r\n            });\r\n            data.push(item);\r\n        }\r\n        Object.keys(_jobarrdata).forEach(k=>{\r\n            _jobarrdata[k].forEach((d,i)=>{\r\n                const timestep = _jobarrdata[k][i][0].timestep;\r\n                let valueMin:DataArrOp= [];\r\n                let valueMax:DataArrOp= [];\r\n                let value:DataArrOp = _jobarrdata[k][i][0].map((d,si)=>{\r\n                    const vals = _jobarrdata[k][i].map(d=>d[si]);\r\n                    valueMin.push(d3.min(vals));\r\n                    valueMax.push(d3.max(vals));\r\n                    let sum = 0;\r\n                    let total = 0;\r\n                    _jobarrdata[k][i].forEach(d=>{\r\n                        if(d[si]!==undefined) {\r\n                            const val = computers[d.name].cpus[i][k];\r\n                            sum += d[si] * val;\r\n                            total += val;\r\n                        }\r\n                    });\r\n                    // if(total&& _.isNaN(sum/total))\r\n                    //     debugger\r\n                    if(!total)\r\n                        return undefined;\r\n                    else\r\n                        return sum/total;\r\n                    // return  d3.mean(vals);\r\n                });\r\n                value.name = k;\r\n                valueMin.name = k;\r\n                valueMax.name = k;\r\n                value.timestep = timestep;\r\n                valueMin.timestep = timestep;\r\n                valueMax.timestep = timestep;\r\n                minMaxDataCompJob[k][i] = [valueMin as DataArr,valueMax as DataArr]\r\n                jobarrdata[k][i] = (value as DataArr);\r\n            })\r\n        })\r\n\r\n        Object.keys(_userarrdata).forEach(k=>{\r\n            _userarrdata[k].forEach((d,i)=>{\r\n                const timestep = _userarrdata[k][i][0].timestep;\r\n                let valueMin:DataArrOp = [];\r\n                let valueMax:DataArrOp = [];\r\n                let value:DataArrOp = _userarrdata[k][i][0].map((d,si)=>{\r\n                    const vals = _userarrdata[k][i].map(d=>d[si]);\r\n                    valueMin.push(d3.min(vals));\r\n                    valueMax.push(d3.max(vals));\r\n                    return  d3.mean(vals);\r\n                });\r\n                value.name = k;\r\n                valueMin.name = k;\r\n                valueMax.name = k;\r\n                value.timestep = timestep;\r\n                valueMin.timestep = timestep;\r\n                valueMax.timestep = timestep;\r\n                minMaxDataUser[k][i] = [valueMin as DataArr,valueMax as DataArr]\r\n                userarrdata[k][i] = (value as DataArr);\r\n            })\r\n        })\r\n        data.sort((a,b)=>+a.range[0]-b.range[0])\r\n        return {jobTimeline:data, jobarrdata,userarrdata,_userarrdata,minMaxDataCompJob,minMaxDataUser};\r\n    }\r\n    handleDataComputeByUser(computers:Record<string, CompOBject>,jobs:Record<string,JobOBject>,timeStamp:Date[]){\r\n        //start\r\n        let data = [];\r\n        interface OBJ extends Array<{key:string,type:string,value:number}>{\r\n            total?:number\r\n        }\r\n        let obj:Record<string,{key:string,values:(OBJ|null)[],range:[number,number],data:JobOBject, arr:{time:Date,value:[any,any]}[]}> = {};\r\n        let noJobMap:Record<string,any> = {};\r\n        for (let j in jobs){\r\n            obj[j] = {key:j,values:timeStamp.map(t=>null as OBJ|null),range:[Infinity,-Infinity],data:jobs[j],arr:[]};\r\n            data.push(obj[j]);\r\n        }\r\n        for (let comp in computers){\r\n            let jonj:Record<string, boolean> = {};\r\n            noJobMap[comp] = [];\r\n            computers[comp].job_id.forEach((jIDs,i)=>{\r\n                if (jIDs.length){\r\n                    jIDs.forEach(j=>{\r\n                        if (!jonj[j]){\r\n                            let item = obj[j];\r\n                            if (!item.values[i]) {\r\n                                item.values[i] = [] as OBJ;\r\n                                // @ts-ignore\r\n                                item.values[i].total = 0;\r\n                            }\r\n                            const compData = {key:comp,type:'compute',value:1};\r\n                            const userData = {key:jobs[j].user_name,type:'user',value:1};\r\n                            const current = item.values[i];\r\n                            if(current!==null && current.length){\r\n                                current.push(compData);\r\n                                // item.values[i].push(userData);\r\n                                current.total = (current.total??0) + jobs[j].node_list_obj[comp];\r\n                                // item.arr.push({time:Layout.timespan[i],value:[compData,{key:j,type:'job',value:1},userData]});\r\n                                item.arr.push({time:timeStamp[i],value:[{key:j,type:'job',value:1},userData]});\r\n                                item.arr.push({time:timeStamp[i],value:[compData,{key:j,type:'job',value:1}]});\r\n                                if(jobs[j].job_array_id){\r\n                                    // item.arr.push({time:Layout.timespan[i],value:[compData,{key:jobs[j].job_array_id,type:'job',value:1},userData]});\r\n                                    item.arr.push({time:timeStamp[i],value:[compData,{key:jobs[j].job_array_id,type:'job',value:1}]});\r\n                                    item.arr.push({time:timeStamp[i],value:[{key:jobs[j].job_array_id,type:'job',value:1},userData]});\r\n                                }\r\n                            }\r\n                            jonj[j]=true;\r\n                        }\r\n                    });\r\n                }else{\r\n                    noJobMap[comp][i] = 1;\r\n                }\r\n            });\r\n        }\r\n        // data.sort((a,b)=>+a.range[0]-b.range[0])\r\n        return {data,noJobMap};\r\n    }\r\n    // @ts-ignore\r\n    handleCUJ({computers,jobs},timestamp){\r\n        // const users:Record<string, UserOBject> = {};\r\n        const compute_user: Record<string, Record<string, any>[]> = {}\r\n        Object.keys(computers).forEach((k:string)=>{\r\n            const d = computers[k];\r\n            d.user=[] as string[];\r\n            d.jobName=timestamp.map(()=>[]);\r\n            d.job_id=timestamp.map(()=>[]);\r\n            d.users=timestamp.map(()=>[]);\r\n            d.cpus=timestamp.map(()=>({}));\r\n            compute_user[k] = timestamp.map(()=>({}));\r\n        });\r\n\r\n        const jobData = d3.entries<JobOBject>(jobs);\r\n        jobData.forEach(j=>{\r\n            j.value.start_Index = timestamp.findIndex((t:Date)=>t>j.value.start_time);\r\n            if (j.value.start_Index>0)\r\n                j.value.start_Index --;\r\n            else if(j.value.start_Index ===-1)\r\n                j.value.start_Index = timestamp.length-1;\r\n            j.value.finish_Index = j.value.finish_time?timestamp.findIndex((t:Date)=>t>j.value.finish_time):-1;\r\n            if (j.value.finish_Index>0)\r\n                j.value.finish_Index --;\r\n            else if(j.value.finish_Index ===-1)\r\n                j.value.finish_Index = timestamp.length-1;\r\n            j.value.node_list.forEach(comp=>{\r\n                if(computers[comp]){\r\n                    for (let t=j.value.start_Index;t<=j.value.finish_Index;t++){\r\n                        computers[comp].job_id[t].push(j.key);\r\n                        computers[comp].cpus[t][j.key] = (j.value.node_list_obj[comp]);\r\n                        if(!compute_user[comp][t][j.value.user_name]){\r\n                            compute_user[comp][t][j.value.user_name]=true;\r\n                            computers[comp].users[t].push(j.value.user_name);\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        });\r\n        const users = (this.state.displayOpt==='core')?this.getUsers_core(jobs,computers,timestamp.length):this.getUsers_compute(jobs,computers,timestamp.length);\r\n        Object.keys(users).forEach((k,i)=>{\r\n            users[k].node.forEach((c:any)=> computers[c]?computers[c].user.push(k):'');\r\n        });\r\n        return {users}\r\n    }\r\n    handleDataComputeByUser_compute({computers,jobs,timespan}:{computers:Record<string, CompOBject>,jobs:Record<string, JobOBject>,timespan:Date[]}){\r\n        let data = [];\r\n        for (let comp in computers){\r\n            let item:Record<string, any> = {key:comp,data:computers[comp]};\r\n            computers[comp].job_id.forEach((jIDs,i)=>{\r\n                if (jIDs.length){\r\n                    let jobArr = jIDs.map(j=>jobs[j]);\r\n                    let username:any = d3.nest<JobOBject,number>().key(d=>d.user_name)\r\n                        .rollup(d=>1).entries(jobArr);\r\n                    username.total = d3.sum<UserOBject>(username,e=>e.value);\r\n                    username.jobs = [jIDs,jobArr];\r\n                    item[''+timespan[i]] = username.sort((a:any,b:any)=>d3.ascending(a.key,b.key));\r\n                }else\r\n                    item[''+timespan[i]] = null;\r\n            });\r\n            data.push(item);\r\n        }\r\n        return data as SankeyInput[];\r\n    }\r\n    handleDataComputeByUser_core({computers,jobs,timespan}:{computers:Record<string, CompOBject>,jobs:Record<string, JobOBject>,timespan:Date[]}){\r\n        let data = [];\r\n        for (let comp in computers){\r\n            let item:Record<string, any> = {key:comp,data:computers[comp]};\r\n            computers[comp].job_id.forEach((jIDs,i)=>{\r\n                if (jIDs.length){\r\n                    let jobArr = jIDs.map(j=>jobs[j]);\r\n                    let username:any = d3.nest<JobOBject,number>().key(d=>d.user_name)\r\n                        .rollup(d=>d3.sum<JobOBject>(d,(e)=>e.node_list_obj[comp]??0)).entries(jobArr);\r\n                    username.total = d3.sum<UserOBject>(username,e=>e.value);\r\n                    username.jobs = [jIDs,jobArr];\r\n                    item[''+timespan[i]] = username.sort((a:any,b:any)=>d3.ascending(a.key,b.key));\r\n                }else\r\n                    item[''+timespan[i]] = null;\r\n            });\r\n            data.push(item);\r\n        }\r\n        return data as SankeyInput[];\r\n    }\r\n    onMouseOverSankey(d:Link,jobLink?:{name:string,x:number,y:number,time:Date,layer:number}){\r\n        const {sankeyData,pieChartSum,scheme,dimensions} = this.state;\r\n        const timestep = jobLink?jobLink.layer:d.source.layer;\r\n        const time = jobLink?jobLink.time:d.source.time;\r\n        const _data: Record<string, JobOBject> = {};\r\n        pieChartSum.usage = 0;\r\n        const radarData: RadarData[] = [];\r\n        sankeyData.forEach(comp=>{\r\n            if (comp[time]){\r\n                const compData = (comp[time] as CompOBject);\r\n                compData.jobs[0].forEach((jid: any,ji:number)=>{\r\n                    _data[jid] = {...compData.jobs[1][ji],start_Index:timestep,finish_Index:timestep};\r\n                });\r\n                pieChartSum.usage+=(this.state.displayOpt==='core')?Math.min(compData.total,this.props.options.coreLimit):compData?1:0;\r\n\r\n                // radar\r\n                if (d.byComp_t&&d.byComp_t[comp.key]) {\r\n                    const item: RadarData = dimensions.map((s, si) => ({\r\n                        axis: s.text,\r\n                        value: scheme.tsnedata[comp.key][timestep][si],\r\n                        angle: s.angle as number\r\n                    }))\r\n                    item.id = 'tooltipRadarcurrent' + comp.key;\r\n                    item.cluster = scheme.tsnedata[comp.key][timestep].cluster;\r\n                    radarData.push(item);\r\n                }\r\n            }\r\n        });\r\n        d3.select('#pieChartTime').text(time.toLocaleString());\r\n        const _user = (this.state.displayOpt==='core')?this.getUsers_core(_data,this.state.scheme.computers):this.getUsers_compute(_data,this.state.scheme.computers);\r\n        // if(d.source.element.lenth===1){\r\n        //     const userName = d.source.element[0].key;\r\n        //     scheme.users[userName].node.forEach(comp=>{\r\n        //         scheme.computers[comp].cpu[timestep]\r\n        //     })\r\n        // }\r\n        // Line Chart\r\n        const LineData = this.changeLineData({},d._source.map(e=>e.key),jobLink?[jobLink.name]:undefined)\r\n        const node:Record<string,any> = {};\r\n        d.source.element.forEach((e:any)=>node[e.key]=1);\r\n        let pieOverlay = undefined;\r\n        if(jobLink){\r\n            const value=(this.state.displayOpt==='core')?d3.sum(Object.values(this.state.scheme.jobs[jobLink.name].node_list_obj)):Object.keys(this.state.scheme.jobs[jobLink.name].node_list_obj).length;\r\n            pieOverlay = {key:jobLink.name,value:value,parent:this.state.scheme.jobs[jobLink.name].user_name}\r\n        }\r\n        debugger\r\n        this.setState({pieData: Object.keys(_user).map(k=>({key:k,value:_user[k],text:k})),\r\n            pieDataHighlight:{node,time,data:d},pieChartSum,LineData,LineTime:time,pieOverlay,radarDataTip:radarData})\r\n        // userPie.highlight(d.source.element.map(e=>e.key));\r\n    }\r\n    onMouseLeaveSankey(d:Link){\r\n        const {scheme,pieChartSum} = this.state;\r\n        pieChartSum.usage = pieChartSum._usage;\r\n        // Line Chart\r\n        const LineData = this.changeLineData();\r\n        this.setState({pieData: Object.keys(scheme.users).map(k=>({key:k,value:scheme.users[k],text:k}))\r\n        , pieDataHighlight:undefined,pieChartSum,LineData,LineTime:undefined,pieOverlay:undefined,radarDataTip:undefined})\r\n        // userPie.highlight(d.source.element.map(e=>e.key));\r\n    }\r\n    getUsers_core(jobs: Record<string,JobOBject>,computers: Record<string, CompOBject>,timeStep=1){\r\n        const user_job = d3.nest()\r\n            .key((d:any)=>(d.value as JobOBject)['user_name']) //user\r\n            .key((d:any)=>(d.key as string).split('.')[0].trim()) //job array\r\n            .object(d3.entries(jobs));\r\n        const users:Record<string, UserOBject> = {};\r\n        Object.keys(user_job).forEach((k,i)=>{\r\n            const  u =user_job[k];\r\n            const job:string[] = [];\r\n            let totalCore = 0;\r\n            let totalCore_share = 0;\r\n            let totalCore_notShare = 0;\r\n            // @ts-ignore\r\n            const node = _.uniq(_.flattenDeep(_.values(u).map(e=>e.map(d=>{\r\n                job.push(d.key);\r\n                const core = d.value.cpus*(d.value.finish_Index-d.value.start_Index+1);\r\n                totalCore += core;\r\n                if (d.value.finish_Index===d.value.start_Index){\r\n                    d.value.node_list.forEach((comp:string)=>{\r\n                        // if(computers[comp].users[d.value.start_Index].length===1){\r\n                        //     totalCore_notShare += d.value.cpu_cores;\r\n                        // }else{\r\n                        //     totalCore_share += d.value.cpu_cores;\r\n                        // }\r\n                        if(computers[comp].users[d.value.start_Index].length===1){\r\n                            totalCore_notShare += d.value.node_list_obj[comp];\r\n                        }else{\r\n                            totalCore_share += d.value.node_list_obj[comp];\r\n                        }\r\n                    })\r\n                }\r\n                return d.value.node_list;\r\n            }))));\r\n            totalCore = totalCore/timeStep;\r\n            totalCore_notShare = totalCore_notShare/timeStep;\r\n            totalCore_share = totalCore_share/timeStep;\r\n            // const node = _.uniq(_.flattenDeep(_.values(u).map(d=>d.map(d=>(job.push(d.key),totalCore+=d3.sum(Object.values(d.value.node_list_obj)),d.value.node_list)))));\r\n            users[k]={node,job,totalCore,totalCore_notShare,totalCore_share}\r\n        });\r\n        return users;\r\n    }\r\n    getUsers_compute(jobs: Record<string,JobOBject>,computers: Record<string, CompOBject>,timeStep=1){\r\n        const user_job = d3.nest()\r\n            .key((d:any)=>(d.value as JobOBject)['user_name']) //user\r\n            .key((d:any)=>(d.key as string).split('.')[0].trim()) //job array\r\n            .object(d3.entries(jobs));\r\n        const users:Record<string, UserOBject> = {};\r\n        Object.keys(user_job).forEach((k,i)=>{\r\n            const  u =user_job[k];\r\n            const job:string[] = [];\r\n            let totalCore = 0;\r\n            const ob:Record<string,{start:number,end:number,share:number,notShare:number}>={};\r\n            // @ts-ignore\r\n            const node = _.uniq(_.flattenDeep(_.values(u).map(d=>d.map(d=>{\r\n                job.push(d.key);\r\n                d.value.node_list.forEach((com:string)=>{\r\n                    if(!ob[com])\r\n                        ob[com]={start:d.value.start_Index,end:d.value.finish_Index,share:0,notShare:0};\r\n                    else{\r\n                        if(ob[com].start>d.value.start_Index)\r\n                            ob[com].start = d.value.start_Index;\r\n                        if(ob[com].end<d.value.finish_Index)\r\n                            ob[com].end = d.value.finish_Index;\r\n                    }\r\n                    if (d.value.finish_Index===d.value.start_Index){\r\n                        // if(computers[com].users[d.value.start_Index].length===1){\r\n                        //     ob[com].notShare += d.value.cpu_cores;\r\n                        // }else{\r\n                        //     ob[com].share += d.value.cpu_cores;\r\n                        // }\r\n                        if(computers[com].users[d.value.start_Index].length===1){\r\n                            ob[com].notShare = 1//d.value.node_list_obj[com];\r\n                        }else{\r\n                            ob[com].share = 1//d.value.node_list_obj[com];\r\n                        }\r\n                    }\r\n                });\r\n                return d.value.node_list;\r\n            }))));\r\n            // const node = _.uniq(_.flattenDeep(_.values(u).map(d=>d.map(d=>(job.push(d.key),totalCore+=d3.sum(Object.values(d.value.node_list_obj)),d.value.node_list)))));\r\n            totalCore = d3.sum(Object.values(ob),d=>d.end-d.start+1)/timeStep;\r\n            const totalCore_share = d3.sum(Object.values(ob),d=>d.share)/timeStep;\r\n            const totalCore_notShare = d3.sum(Object.values(ob),d=>d.notShare)/timeStep;\r\n            users[k]={node,job,totalCore,totalCore_share,totalCore_notShare}\r\n        });\r\n        return users;\r\n    }\r\n    onColorModeChange(val:string){\r\n        const opt: Partial<States> = {}\r\n        if(val==='name'){\r\n            this.color = this.colorByName;\r\n        }else{\r\n            this.color = this.colorByVal;\r\n            opt.selectedService = +val;\r\n            if(this.state.pieDataHighlight)\r\n                opt.LineData = this.changeLineData({selectedService:+val},this.state.pieDataHighlight.data._source.map((e:any)=>e.key));\r\n            else\r\n                opt.LineData = this.changeLineData({selectedService:+val});\r\n        }\r\n        opt.colorBy = val;\r\n        this.setState(opt as NonNullable<States>)\r\n    }\r\n    onComputeSelected(events?:RadarData[],group?:any){\r\n        if (events){\r\n            const {scheme} = this.state;\r\n            // const nest = d3.nest<RadarData>().key(d=>d.nodeName).entries(events);\r\n            const groupByUser:Record<string, CompSelectNode> = {};\r\n            const groupUser:Record<string, Record<string,CompSelectNode>> = {};\r\n            const comps:Record<string, any> = {};\r\n            events.forEach(d=>{\r\n                const user = getUserName2(scheme.computers[d.nodeName].users[d.timestep]);\r\n                if (!groupByUser[user+'_'+d.timestep])\r\n                    groupByUser[user+'_'+d.timestep] = {user,timestep:d.timestep,comp:[],value:0};\r\n                groupByUser[user+'_'+d.timestep].comp.push(d.nodeName);\r\n                groupByUser[user+'_'+d.timestep].value ++;\r\n                if (!groupUser[user])\r\n                    groupUser[user]={};\r\n                groupUser[user][d.timestep] = groupByUser[user+'_'+d.timestep];\r\n                if (!comps[d.nodeName])\r\n                    comps[d.nodeName] = [];\r\n                comps[d.nodeName].push(groupByUser[user+'_'+d.timestep])\r\n            });\r\n            const links:{key: string, value: CompSelectNode[]}[] = [];\r\n            Object.values(comps).forEach(d=>{\r\n                if (d.length>1){\r\n                    links.push(d)\r\n                }\r\n            });\r\n            this.setState({sankeyComputeSelected:{nodes:groupUser,links,group}})\r\n        }else{\r\n            this.setState({sankeyComputeSelected:undefined});\r\n        }\r\n    }\r\n    render(){\r\n        // const styles = getStyles();\r\n        const {width, height} = this.props;\r\n        const {dimensions,LineData,LineTime,colorBy,displayOpt,colorCluster,cluster,scheme,clusterDescription,\r\n            outlyingBins,radarDataTip,zoomH=1,sankeyComputeSelected} = this.state;\r\n        const selectedService = this.state.selectedService??0;\r\n        const timespan = this.state.scheme.timespan;\r\n        const timeLimit:[Date,Date] = [timespan[0] as Date,timespan[timespan.length-1] as Date];\r\n        const getMetric=(v:any)=>{\r\n            return colorBy!=='name'?((colorBy!=='cluster')?`${dimensions[selectedService].text}: ${+d3.format('.2f')(dimensions[selectedService].scale.invert(v))}`:(clusterDescription?(clusterDescription[v]??'mixed'):'')):''\r\n        };\r\n        return <ThemeContext.Consumer>{(theme) =>dimensions[0]?<div style={{width:width+' px', height:height+' px', position:'relative'}}>\r\n            <Sankey width={width} height={height*zoomH} data={this.state.sankeyData}\r\n                    lineaScale={this.state.lineaScale}\r\n                   timespan={this.state.scheme.timespan}\r\n                   mode={this.state.displayOpt}\r\n                   maxPerUnit={this.state.displayOpt===\"core\"?this.props.options.coreLimit:1}\r\n                   color={this.color}\r\n                   colorByName={this.colorByName}\r\n                   colorCluster={colorCluster}\r\n                   colorBy={colorBy}\r\n                   getMetric={getMetric}\r\n                   metrics = {this.state.scheme.tsnedata}\r\n                   mouseOver = {this.onMouseOverSankey.bind(this)}\r\n                   mouseLeave = {this.onMouseLeaveSankey.bind(this)}\r\n                    sankeyComputeSelected = {sankeyComputeSelected}\r\n                               theme={theme}/>\r\n            <Drawer open={true} className={css`\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      height: ${height}px;\r\n      max-width: 450px;\r\n    `}>\r\n        <InlineField label=\"Visualizing\">\r\n            <Select\r\n                onChange={(event)=>{const val = event.value??'core';\r\n                this.setState({displayOpt:val,sankeyData:this.changeSankeyData(val),pieChartSum:this.changePieInfo.bind(this)(val,{})})}}\r\n                value={displayOpt}\r\n                options={[\r\n                    { value: 'core', label: '#Cores' },\r\n                    { value: 'compute_num', label: '#Computes' },\r\n                ]}/>\r\n        </InlineField>\r\n        <InlineField label=\"Color Sankey by:\">\r\n            <Select\r\n                onChange={(event)=>this.onColorModeChange(event.value??'name')}\r\n                value={colorBy}\r\n                options={[\r\n                    { value: 'name', label: 'User name' },\r\n                    { value: 'cluster', label: 'Dataset cluster' },\r\n                    ...dimensions.map(d=>({value: `${d.order}`, label: d.text}))\r\n                ]}/>\r\n        </InlineField>\r\n        <InlineField label=\"Sankey thickness\">\r\n            <Slider min={0} step={0.1} max={4} value={this.state.lineaScale} onChange={(selectedIndex:number)=>{this.setState({lineaScale: selectedIndex})}}/>\r\n        </InlineField>\r\n        <InlineField label=\"Zoom vertical\">\r\n            <Slider min={1} step={0.1} max={10} value={zoomH} onChange={(selectedIndex:number)=>{this.setState({zoomH: selectedIndex})}}/>\r\n        </InlineField>\r\n        <h5 style={{textAlign:'center'}}>{displayOpt==='core'?'Core':'Compute'} usage</h5>\r\n        <h6 style={{textAlign:'center'}}>100% = {Math.round(this.state.pieChartSum.total)} {this.state.displayOpt==='core'?'cores':'computes'} | Current usage: {Math.round(this.state.pieChartSum.usage)}</h6>\r\n                <PieChart width={400} height={250}\r\n                          theme={theme}\r\n                    color={this.colorByName}\r\n                      data={this.state.pieData}\r\n                          overlay={this.state.pieOverlay}\r\n                          onseperate={(name:string,isSeperate:boolean)=>{this.onseparate(name,isSeperate)}}\r\n                          highlight = {this.state.pieDataHighlight}\r\n                          refValue={this.state.pieChartSum.usage}\r\n                          maxValue={this.state.pieChartSum.total}\r\n                />\r\n                <br/>\r\n                {/*<label>Line chart by:</label>*/}\r\n                {/*<select*/}\r\n                {/*    onChange={(event)=>{this.setState({selectedService:+event.target.value,LineData:this.changeLineData({selectedService:+event.target.value})})}}>*/}\r\n                {/*    {dimensions.map(d=><option key={d.text} value={d.order}>{d.text}</option>)}*/}\r\n                {/*</select>*/}\r\n                {/*{colorBy!=='name'?(dimensions[selectedService]?<LineChart width={300} height={150} theme={theme}*/}\r\n                {/*           yRange={dimensions[selectedService].range}*/}\r\n                {/*           data={LineData} color={this.colorByName}*/}\r\n                {/*            mark={LineTime}*/}\r\n                {/*/>:<h6 style={{textAlign:'center'}}>No data for this dimension</h6>):''}*/}\r\n\r\n                {dimensions[selectedService]?<>\r\n                    <h6 style={{textAlign:'center'}}>{dimensions[selectedService].text}</h6>\r\n                    <LineChart width={400} height={150} theme={theme}\r\n                               xRange={timeLimit}\r\n                              yRange={dimensions[selectedService].range}\r\n                              data={LineData} color={this.colorByName}\r\n                              mark={LineTime}\r\n                /></>:''}\r\n                {\r\n                    radarDataTip?<div style={{background:'white'}}><Radar width={400} height={160} margin={{l:50,b:20,t:20,r:50}} data={radarDataTip} showAxis\r\n                                             fill={'none'} strokeWith={1} stroke={colorCluster?radarDataTip.map(d=>colorCluster(d.cluster)):'#fff'}/></div>:''\r\n                }\r\n                {(colorBy==='cluster')&&<><ClusterControl onSubmit={(opt:Binopt)=>{\r\n                    const state:Partial<States> = calculateCluster(_.flatten(Object.values(scheme.tsnedata)),dimensions,opt,()=>{},()=>{});\r\n                    state.clusterOpt = opt;\r\n                    this.setState(state as NonNullable<States>)\r\n                }}/>\r\n                <p>\r\n                    Cluster inputdata: {this.state.clusterInfo?.input} ({d3.format(\",.1%\")(this.state.clusterInfo?.input/this.state.clusterInfo?.total)})<br/>\r\n                    Cluster calculation time: {Math.round(this.state.clusterInfo?.clusterCalTime??0)} ms <br/>\r\n                    Total MSE: {d3.format('.2f')(this.state.clusterInfo?.totalMSE??0)}\r\n                </p>\r\n                {\r\n                    cluster&&cluster.map((c,i)=><div key={c.labels} style={{display:'inline-block'}}>\r\n                        <div style={{position:'relative'}}>\r\n                            <Radar width={120} height={120} data={[c.__metrics]} area={true} mean={true} meanColor={\"rgba(0,0,0,0.52)\"}\r\n                                                   fill={colorCluster?colorCluster(c.name):'#fff'} stroke={'match'}/>\r\n                            <div style={{position:'absolute',top:0,left:0}}>\r\n                                <Radar width={120} height={120} data={[c.__metrics]} compact={true}\r\n                                   fill={'none'} stroke={\"black\"} strokeWidth={2}/>\r\n                             </div>\r\n                           <p style={{position:'absolute',top:10,left:0, width:'100%',textAlign:'center',color:'black', fontSize:12}}>{c.arr.length}<br/>{i?'':' temporal instances'}</p>\r\n                    </div> </div>)\r\n                }\r\n                {\r\n                    cluster?<div style={{backgroundColor:theme.isDark?'rgba(255,255,255,0.12)':'rgba(0,0,0,0.12)',padding:5, borderRadius:10, border:'1px dashed gray'}}>\r\n                        <h5>Other color for cluster:</h5>\r\n                        <div style={{display:'flex',alignItems:'center',padding:3}}><div style={{marginRight:5,width:20,height:20, borderRadius:10, backgroundColor:colorCluster?colorCluster('outlier'):'#fff'}}/> Outlier</div>\r\n                        <div style={{display:'flex',alignItems:'center',padding:3}}><div style={{marginRight:5,width:20,height:20, borderRadius:10, backgroundColor:colorCluster?colorCluster('missing'):'#fff'}}/> Missing dimension data</div>\r\n                        <div style={{display:'flex',alignItems:'center',padding:3}}><div style={{marginRight:5,width:20,height:20, borderRadius:10, backgroundColor:'white'}}/> Multiple Clusters</div>\r\n                    </div>:''\r\n                }\r\n\r\n                <div style={{width:'100%',borderTop:'gray 1px solid', marginTop:10, marginBottom:5}}></div>\r\n                <h5>Outliers: {outlyingBins?Object.keys(outlyingBins.pointObject).length:0} temporal instances</h5>\r\n                {\r\n                    outlyingBins&&outlyingBins.map((c,i)=><div key={c.labels} style={{display:'inline-block'}}>\r\n                        <div style={{position:'relative',opacity:sankeyComputeSelected?(sankeyComputeSelected.group===c.labels?1:0.5):1}}>\r\n                            <Radar width={120} height={120} data={c.arr.map(d=>outlyingBins.pointObject[d.name])}\r\n                                                   fill={'none'} stroke={colorCluster?colorCluster('outlier'):'#fff'}\r\n                                   onMouseOver={(data:any)=>this.onComputeSelected(data,c.labels)}\r\n                                   onMouseLeave={this.onComputeSelected.bind(this)}\r\n                            />\r\n                            {/*<div style={{position:'absolute',top:0,left:0}}>*/}\r\n                            {/*    <Radar width={120} height={120} data={[c.__metrics]} compact={true}*/}\r\n                            {/*       fill={'none'} stroke={\"black\"} strokeWidth={2}/>*/}\r\n                            {/* </div>*/}\r\n                            <p style={{position:'absolute',top:10,left:0, width:'100%',textAlign:'center',color:'black', fontSize:12}}>{c.arr.length}<br/>\r\n                                {shortArray(Object.keys(c.compObject))}\r\n                            </p>\r\n                    </div> </div>)\r\n                }\r\n                <div style={{width:'100%',borderTop:'gray 1px solid', marginTop:10, marginBottom:5}}></div>\r\n                <h5>Missing dimension data: {outlyingBins?Object.keys(outlyingBins.missingData).length:0} temporal instances</h5>\r\n                </>}\r\n    </Drawer>\r\n    </div>:'No data'}</ThemeContext.Consumer>\r\n    }\r\n}\r\nfunction shortArray(arr:string[],limit=2){\r\n    return arr.length>limit?(arr.slice(0,limit).join(',')+`, +${arr.length-limit} more`): arr.join(',')\r\n}\r\n// const getStyles = stylesFactory(() => {\r\n//     return {\r\n//         wrapper: css`\r\n//       position: relative;\r\n//     `,\r\n//         legend: css`\r\n//       position: absolute;\r\n//       top: 0;\r\n//       left: 0;\r\n//       overflow-y:auto;\r\n//       height: 145px;\r\n//     `,\r\n//     }\r\n// })\r\n","import { PanelPlugin } from '@grafana/data';\r\nimport { SimpleOptions } from './types';\r\nimport { MainViz } from './MainViz';\r\n\r\nexport const plugin = new PanelPlugin<SimpleOptions>(MainViz).setPanelOptions(builder => {\r\n    return builder\r\n        // .addSelect({\r\n        //     path: 'displayOpt',\r\n        //     name: 'Visualizing',\r\n        //     defaultValue : 'core',\r\n        //     settings:{\r\n        //         options: [{label:'#Cores',value:'core'},{label:'#Computers',value:'compute_num'}]\r\n        //     }\r\n        // })\r\n        .addBooleanSwitch({\r\n            path: 'userEncoded',\r\n            name: 'Encoded username',\r\n            defaultValue : true,\r\n        })\r\n        .addNumberInput({\r\n            path: 'coreLimit',\r\n            name: 'Core limit',\r\n            defaultValue: 256\r\n        })\r\n        // .addNumberInput({\r\n        //     path: 'nodeSize',\r\n        //     name:'Node Size',\r\n        //     defaultValue: 5\r\n        // })\r\n});\r\n"],"sourceRoot":""}